var A0=t=>{throw TypeError(t)};var Yf=(t,e,n)=>e.has(t)||A0("Cannot "+n);var z=(t,e,n)=>(Yf(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?A0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Yf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),bt=(t,e,n)=>(Yf(t,e,"access private method"),n);var Xc=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return z(t,e,r)}});function Jk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jx={exports:{}},fh={},Vx={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc=Symbol.for("react.element"),Zk=Symbol.for("react.portal"),eN=Symbol.for("react.fragment"),tN=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),rN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),sN=Symbol.for("react.forward_ref"),oN=Symbol.for("react.suspense"),aN=Symbol.for("react.memo"),lN=Symbol.for("react.lazy"),R0=Symbol.iterator;function cN(t){return t===null||typeof t!="object"?null:(t=R0&&t[R0]||t["@@iterator"],typeof t=="function"?t:null)}var Fx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ux=Object.assign,$x={};function ca(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Fx}ca.prototype.isReactComponent={};ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zx(){}zx.prototype=ca.prototype;function ny(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Fx}var ry=ny.prototype=new zx;ry.constructor=ny;Ux(ry,ca.prototype);ry.isPureReactComponent=!0;var P0=Array.isArray,Bx=Object.prototype.hasOwnProperty,iy={current:null},Hx={key:!0,ref:!0,__self:!0,__source:!0};function Wx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Bx.call(e,r)&&!Hx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pc,type:t,key:s,ref:o,props:i,_owner:iy.current}}function uN(t,e){return{$$typeof:pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sy(t){return typeof t=="object"&&t!==null&&t.$$typeof===pc}function dN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var k0=/\/+/g;function Xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dN(""+t.key):e.toString(36)}function Lu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pc:case Zk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Xf(o,0):r,P0(i)?(n="",t!=null&&(n=t.replace(k0,"$&/")+"/"),Lu(i,e,n,"",function(u){return u})):i!=null&&(sy(i)&&(i=uN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(k0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",P0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Xf(s,a);o+=Lu(s,e,n,l,i)}else if(l=cN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Xf(s,a++),o+=Lu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(t,e,n){if(t==null)return t;var r=[],i=0;return Lu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},ju={transition:null},fN={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ju,ReactCurrentOwner:iy};function qx(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!sy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=ca;pe.Fragment=eN;pe.Profiler=nN;pe.PureComponent=ny;pe.StrictMode=tN;pe.Suspense=oN;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN;pe.act=qx;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ux({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Bx.call(e,l)&&!Hx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pc,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:iN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rN,_context:t},t.Consumer=t};pe.createElement=Wx;pe.createFactory=function(t){var e=Wx.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:sN,render:t}};pe.isValidElement=sy;pe.lazy=function(t){return{$$typeof:lN,_payload:{_status:-1,_result:t},_init:hN}};pe.memo=function(t,e){return{$$typeof:aN,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};pe.unstable_act=qx;pe.useCallback=function(t,e){return $t.current.useCallback(t,e)};pe.useContext=function(t){return $t.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};pe.useEffect=function(t,e){return $t.current.useEffect(t,e)};pe.useId=function(){return $t.current.useId()};pe.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return $t.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};pe.useRef=function(t){return $t.current.useRef(t)};pe.useState=function(t){return $t.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return $t.current.useTransition()};pe.version="18.3.1";Vx.exports=pe;var v=Vx.exports;const B=hh(v),Gx=Jk({__proto__:null,default:B},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN=v,mN=Symbol.for("react.element"),gN=Symbol.for("react.fragment"),yN=Object.prototype.hasOwnProperty,vN=pN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wN={key:!0,ref:!0,__self:!0,__source:!0};function Kx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yN.call(e,r)&&!wN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mN,type:t,key:s,ref:o,props:i,_owner:vN.current}}fh.Fragment=gN;fh.jsx=Kx;fh.jsxs=Kx;jx.exports=fh;var m=jx.exports,Qx={exports:{}},hn={},Yx={exports:{}},Xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var K=j.length;j.push(F);e:for(;0<K;){var q=K-1>>>1,Y=j[q];if(0<i(Y,F))j[q]=F,j[K]=Y,K=q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],K=j.pop();if(K!==F){j[0]=K;e:for(var q=0,Y=j.length,te=Y>>>1;q<te;){var Ie=2*(q+1)-1,He=j[Ie],fe=Ie+1,Fe=j[fe];if(0>i(He,K))fe<Y&&0>i(Fe,He)?(j[q]=Fe,j[fe]=K,q=fe):(j[q]=He,j[Ie]=K,q=Ie);else if(fe<Y&&0>i(Fe,K))j[q]=Fe,j[fe]=K,q=fe;else break e}}return F}function i(j,F){var K=j.sortIndex-F.sortIndex;return K!==0?K:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,y=!1,x=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=j)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function k(j){if(w=!1,b(j),!x)if(n(l)!==null)x=!0,Q(N);else{var F=n(u);F!==null&&re(k,F.startTime-j)}}function N(j,F){x=!1,w&&(w=!1,E(I),I=-1),y=!0;var K=h;try{for(b(F),f=n(l);f!==null&&(!(f.expirationTime>F)||j&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var Y=q(f.expirationTime<=F);F=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),b(F)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var Ie=n(u);Ie!==null&&re(k,Ie.startTime-F),te=!1}return te}finally{f=null,h=K,y=!1}}var M=!1,S=null,I=-1,A=5,R=-1;function O(){return!(t.unstable_now()-R<A)}function D(){if(S!==null){var j=t.unstable_now();R=j;var F=!0;try{F=S(!0,j)}finally{F?P():(M=!1,S=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=D,P=function(){ee.postMessage(null)}}else P=function(){T(D,0)};function Q(j){S=j,M||(M=!0,P())}function re(j,F){I=T(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Q(N))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var K=h;h=F;try{return j()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return F()}finally{h=K}},t.unstable_scheduleCallback=function(j,F,K){var q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,j={id:d++,callback:F,priorityLevel:j,startTime:K,expirationTime:Y,sortIndex:-1},K>q?(j.sortIndex=K,e(u,j),n(l)===null&&j===n(u)&&(w?(E(I),I=-1):w=!0,re(k,K-q))):(j.sortIndex=Y,e(l,j),x||y||(x=!0,Q(N))),j},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(j){var F=h;return function(){var K=h;h=F;try{return j.apply(this,arguments)}finally{h=K}}}})(Xx);Yx.exports=Xx;var _N=Yx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=v,dn=_N;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jx=new Set,kl={};function js(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(kl[t]=e,t=0;t<e.length;t++)Jx.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,xN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},O0={};function TN(t){return sm.call(O0,t)?!0:sm.call(N0,t)?!1:xN.test(t)?O0[t]=!0:(N0[t]=!0,!1)}function IN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bN(t,e,n,r){if(e===null||typeof e>"u"||IN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var oy=/[\-:]([a-z])/g;function ay(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oy,ay);wt[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oy,ay);wt[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oy,ay);wt[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ly(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bN(e,n,i,r)&&(n=null),r||i===null?TN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),lo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),eT=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),tT=Symbol.for("react.offscreen"),D0=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Jf;function el(t){if(Jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jf=e&&e[1]||""}return`
`+Jf+t}var Zf=!1;function ep(t,e){if(!t||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function SN(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=ep(t.type,!1),t;case 11:return t=ep(t.type.render,!1),t;case 1:return t=ep(t.type,!0),t;default:return""}}function cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case lo:return"Portal";case om:return"Profiler";case cy:return"StrictMode";case am:return"Suspense";case lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eT:return(t.displayName||"Context")+".Consumer";case Zx:return(t._context.displayName||"Context")+".Provider";case uy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dy:return e=t.displayName||null,e!==null?e:cm(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return cm(t(e))}catch{}}return null}function CN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cm(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AN(t){var e=nT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tu(t){t._valueTracker||(t._valueTracker=AN(t))}function rT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function um(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iT(t,e){e=e.checked,e!=null&&ly(t,"checked",e,!1)}function dm(t,e){iT(t,e);var n=Ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hm(t,e.type,n):e.hasOwnProperty("defaultValue")&&hm(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hm(t,e,n){(e!=="number"||cd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(tl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ui(n)}}function sT(t,e){var n=Ui(e.value),r=Ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function V0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nu,aT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nu=nu||document.createElement("div"),nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RN=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(t){RN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dl[e]=dl[t]})});function lT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dl.hasOwnProperty(t)&&dl[t]?(""+e).trim():e+"px"}function cT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PN=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mm(t,e){if(e){if(PN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function gm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function hy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vm=null,To=null,Io=null;function F0(t){if(t=yc(t)){if(typeof vm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=vh(e),vm(t.stateNode,t.type,e))}}function uT(t){To?Io?Io.push(t):Io=[t]:To=t}function dT(){if(To){var t=To,e=Io;if(Io=To=null,F0(t),e)for(t=0;t<e.length;t++)F0(e[t])}}function hT(t,e){return t(e)}function fT(){}var tp=!1;function pT(t,e,n){if(tp)return t(e,n);tp=!0;try{return hT(t,e,n)}finally{tp=!1,(To!==null||Io!==null)&&(fT(),dT())}}function Ol(t,e){var n=t.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var wm=!1;if(Vr)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){wm=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{wm=!1}function kN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var hl=!1,ud=null,dd=!1,_m=null,NN={onError:function(t){hl=!0,ud=t}};function ON(t,e,n,r,i,s,o,a,l){hl=!1,ud=null,kN.apply(NN,arguments)}function DN(t,e,n,r,i,s,o,a,l){if(ON.apply(this,arguments),hl){if(hl){var u=ud;hl=!1,ud=null}else throw Error(H(198));dd||(dd=!0,_m=u)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U0(t){if(Vs(t)!==t)throw Error(H(188))}function MN(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U0(i),t;if(s===r)return U0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function gT(t){return t=MN(t),t!==null?yT(t):null}function yT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yT(t);if(e!==null)return e;t=t.sibling}return null}var vT=dn.unstable_scheduleCallback,$0=dn.unstable_cancelCallback,LN=dn.unstable_shouldYield,jN=dn.unstable_requestPaint,Je=dn.unstable_now,VN=dn.unstable_getCurrentPriorityLevel,fy=dn.unstable_ImmediatePriority,wT=dn.unstable_UserBlockingPriority,hd=dn.unstable_NormalPriority,FN=dn.unstable_LowPriority,_T=dn.unstable_IdlePriority,ph=null,cr=null;function UN(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:BN,$N=Math.log,zN=Math.LN2;function BN(t){return t>>>=0,t===0?32:31-($N(t)/zN|0)|0}var ru=64,iu=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=nl(a):(s&=o,s!==0&&(r=nl(s)))}else o=n&~i,o!==0?r=nl(o):s!==0&&(r=nl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function HN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=HN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ET(){var t=ru;return ru<<=1,!(ru&4194240)&&(ru=64),t}function np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function qN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function py(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function xT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TT,my,IT,bT,ST,xm=!1,su=[],Ci=null,Ai=null,Ri=null,Dl=new Map,Ml=new Map,fi=[],GN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function Wa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yc(e),e!==null&&my(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KN(t,e,n,r,i){switch(e){case"focusin":return Ci=Wa(Ci,t,e,n,r,i),!0;case"dragenter":return Ai=Wa(Ai,t,e,n,r,i),!0;case"mouseover":return Ri=Wa(Ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dl.set(s,Wa(Dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ml.set(s,Wa(Ml.get(s)||null,t,e,n,r,i)),!0}return!1}function CT(t){var e=ds(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=mT(n),e!==null){t.blockedOn=e,ST(t.priority,function(){IT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ym=r,n.target.dispatchEvent(r),ym=null}else return e=yc(n),e!==null&&my(e),t.blockedOn=n,!1;e.shift()}return!0}function B0(t,e,n){Vu(t)&&n.delete(e)}function QN(){xm=!1,Ci!==null&&Vu(Ci)&&(Ci=null),Ai!==null&&Vu(Ai)&&(Ai=null),Ri!==null&&Vu(Ri)&&(Ri=null),Dl.forEach(B0),Ml.forEach(B0)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,xm||(xm=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,QN)))}function Ll(t){function e(i){return qa(i,t)}if(0<su.length){qa(su[0],t);for(var n=1;n<su.length;n++){var r=su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ci!==null&&qa(Ci,t),Ai!==null&&qa(Ai,t),Ri!==null&&qa(Ri,t),Dl.forEach(e),Ml.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)CT(n),n.blockedOn===null&&fi.shift()}var bo=Kr.ReactCurrentBatchConfig,pd=!0;function YN(t,e,n,r){var i=Se,s=bo.transition;bo.transition=null;try{Se=1,gy(t,e,n,r)}finally{Se=i,bo.transition=s}}function XN(t,e,n,r){var i=Se,s=bo.transition;bo.transition=null;try{Se=4,gy(t,e,n,r)}finally{Se=i,bo.transition=s}}function gy(t,e,n,r){if(pd){var i=Tm(t,e,n,r);if(i===null)hp(t,e,r,md,n),z0(t,r);else if(KN(i,t,e,n,r))r.stopPropagation();else if(z0(t,r),e&4&&-1<GN.indexOf(t)){for(;i!==null;){var s=yc(i);if(s!==null&&TT(s),s=Tm(t,e,n,r),s===null&&hp(t,e,r,md,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}var md=null;function Tm(t,e,n,r){if(md=null,t=hy(r),t=ds(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return md=t,null}function AT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VN()){case fy:return 1;case wT:return 4;case hd:case FN:return 16;case _T:return 536870912;default:return 16}default:return 16}}var Ti=null,yy=null,Fu=null;function RT(){if(Fu)return Fu;var t,e=yy,n=e.length,r,i="value"in Ti?Ti.value:Ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fu=i.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ou(){return!0}function H0(){return!1}function fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ou:H0,this.isPropagationStopped=H0,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),e}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=fn(ua),gc=ze({},ua,{view:0,detail:0}),JN=fn(gc),rp,ip,Ga,mh=ze({},gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(rp=t.screenX-Ga.screenX,ip=t.screenY-Ga.screenY):ip=rp=0,Ga=t),rp)},movementY:function(t){return"movementY"in t?t.movementY:ip}}),W0=fn(mh),ZN=ze({},mh,{dataTransfer:0}),e2=fn(ZN),t2=ze({},gc,{relatedTarget:0}),sp=fn(t2),n2=ze({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),r2=fn(n2),i2=ze({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s2=fn(i2),o2=ze({},ua,{data:0}),q0=fn(o2),a2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c2[t])?!!e[t]:!1}function wy(){return u2}var d2=ze({},gc,{key:function(t){if(t.key){var e=a2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h2=fn(d2),f2=ze({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=fn(f2),p2=ze({},gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),m2=fn(p2),g2=ze({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),y2=fn(g2),v2=ze({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w2=fn(v2),_2=[9,13,27,32],_y=Vr&&"CompositionEvent"in window,fl=null;Vr&&"documentMode"in document&&(fl=document.documentMode);var E2=Vr&&"TextEvent"in window&&!fl,PT=Vr&&(!_y||fl&&8<fl&&11>=fl),K0=" ",Q0=!1;function kT(t,e){switch(t){case"keyup":return _2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function x2(t,e){switch(t){case"compositionend":return NT(e);case"keypress":return e.which!==32?null:(Q0=!0,K0);case"textInput":return t=e.data,t===K0&&Q0?null:t;default:return null}}function T2(t,e){if(uo)return t==="compositionend"||!_y&&kT(t,e)?(t=RT(),Fu=yy=Ti=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PT&&e.locale!=="ko"?null:e.data;default:return null}}var I2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!I2[t.type]:e==="textarea"}function OT(t,e,n,r){uT(r),e=gd(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pl=null,jl=null;function b2(t){HT(t,0)}function gh(t){var e=po(t);if(rT(e))return t}function S2(t,e){if(t==="change")return e}var DT=!1;if(Vr){var op;if(Vr){var ap="oninput"in document;if(!ap){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),ap=typeof X0.oninput=="function"}op=ap}else op=!1;DT=op&&(!document.documentMode||9<document.documentMode)}function J0(){pl&&(pl.detachEvent("onpropertychange",MT),jl=pl=null)}function MT(t){if(t.propertyName==="value"&&gh(jl)){var e=[];OT(e,jl,t,hy(t)),pT(b2,e)}}function C2(t,e,n){t==="focusin"?(J0(),pl=e,jl=n,pl.attachEvent("onpropertychange",MT)):t==="focusout"&&J0()}function A2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(jl)}function R2(t,e){if(t==="click")return gh(e)}function P2(t,e){if(t==="input"||t==="change")return gh(e)}function k2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:k2;function Vl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sm.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e_(t,e){var n=Z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z0(n)}}function LT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jT(){for(var t=window,e=cd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cd(t.document)}return e}function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N2(t){var e=jT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LT(n.ownerDocument.documentElement,n)){if(r!==null&&Ey(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=e_(n,s);var o=e_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O2=Vr&&"documentMode"in document&&11>=document.documentMode,ho=null,Im=null,ml=null,bm=!1;function t_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bm||ho==null||ho!==cd(r)||(r=ho,"selectionStart"in r&&Ey(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&Vl(ml,r)||(ml=r,r=gd(Im,"onSelect"),0<r.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ho)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fo={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},lp={},VT={};Vr&&(VT=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function yh(t){if(lp[t])return lp[t];if(!fo[t])return t;var e=fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VT)return lp[t]=e[n];return t}var FT=yh("animationend"),UT=yh("animationiteration"),$T=yh("animationstart"),zT=yh("transitionend"),BT=new Map,n_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){BT.set(t,e),js(e,[t])}for(var cp=0;cp<n_.length;cp++){var up=n_[cp],D2=up.toLowerCase(),M2=up[0].toUpperCase()+up.slice(1);Zi(D2,"on"+M2)}Zi(FT,"onAnimationEnd");Zi(UT,"onAnimationIteration");Zi($T,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(zT,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L2=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function r_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DN(r,e,void 0,t),t.currentTarget=null}function HT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;r_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;r_(i,a,u),s=l}}}if(dd)throw t=_m,dd=!1,_m=null,t}function De(t,e){var n=e[Pm];n===void 0&&(n=e[Pm]=new Set);var r=t+"__bubble";n.has(r)||(WT(e,t,2,!1),n.add(r))}function dp(t,e,n){var r=0;e&&(r|=4),WT(n,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Fl(t){if(!t[lu]){t[lu]=!0,Jx.forEach(function(n){n!=="selectionchange"&&(L2.has(n)||dp(n,!1,t),dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,dp("selectionchange",!1,e))}}function WT(t,e,n,r){switch(AT(e)){case 1:var i=YN;break;case 4:i=XN;break;default:i=gy}n=i.bind(null,e,n,t),i=void 0,!wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pT(function(){var u=s,d=hy(n),f=[];e:{var h=BT.get(t);if(h!==void 0){var y=vy,x=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":y=h2;break;case"focusin":x="focus",y=sp;break;case"focusout":x="blur",y=sp;break;case"beforeblur":case"afterblur":y=sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=e2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=m2;break;case FT:case UT:case $T:y=r2;break;case zT:y=y2;break;case"scroll":y=JN;break;case"wheel":y=w2;break;case"copy":case"cut":case"paste":y=s2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=G0}var w=(e&4)!==0,T=!w&&t==="scroll",E=w?h!==null?h+"Capture":null:h;w=[];for(var _=u,b;_!==null;){b=_;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,E!==null&&(k=Ol(_,E),k!=null&&w.push(Ul(_,k,b)))),T)break;_=_.return}0<w.length&&(h=new y(h,x,null,n,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==ym&&(x=n.relatedTarget||n.fromElement)&&(ds(x)||x[Fr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?ds(x):null,x!==null&&(T=Vs(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=W0,k="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=G0,k="onPointerLeave",E="onPointerEnter",_="pointer"),T=y==null?h:po(y),b=x==null?h:po(x),h=new w(k,_+"leave",y,n,d),h.target=T,h.relatedTarget=b,k=null,ds(d)===u&&(w=new w(E,_+"enter",x,n,d),w.target=b,w.relatedTarget=T,k=w),T=k,y&&x)t:{for(w=y,E=x,_=0,b=w;b;b=eo(b))_++;for(b=0,k=E;k;k=eo(k))b++;for(;0<_-b;)w=eo(w),_--;for(;0<b-_;)E=eo(E),b--;for(;_--;){if(w===E||E!==null&&w===E.alternate)break t;w=eo(w),E=eo(E)}w=null}else w=null;y!==null&&i_(f,h,y,w,!1),x!==null&&T!==null&&i_(f,T,x,w,!0)}}e:{if(h=u?po(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var N=S2;else if(Y0(h))if(DT)N=P2;else{N=A2;var M=C2}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=R2);if(N&&(N=N(t,u))){OT(f,N,n,d);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&hm(h,"number",h.value)}switch(M=u?po(u):window,t){case"focusin":(Y0(M)||M.contentEditable==="true")&&(ho=M,Im=u,ml=null);break;case"focusout":ml=Im=ho=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,t_(f,n,d);break;case"selectionchange":if(O2)break;case"keydown":case"keyup":t_(f,n,d)}var S;if(_y)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else uo?kT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(PT&&n.locale!=="ko"&&(uo||I!=="onCompositionStart"?I==="onCompositionEnd"&&uo&&(S=RT()):(Ti=d,yy="value"in Ti?Ti.value:Ti.textContent,uo=!0)),M=gd(u,I),0<M.length&&(I=new q0(I,t,null,n,d),f.push({event:I,listeners:M}),S?I.data=S:(S=NT(n),S!==null&&(I.data=S)))),(S=E2?x2(t,n):T2(t,n))&&(u=gd(u,"onBeforeInput"),0<u.length&&(d=new q0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}HT(f,e)})}function Ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ol(t,n),s!=null&&r.unshift(Ul(t,s,i)),s=Ol(t,e),s!=null&&r.push(Ul(t,s,i))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ol(n,s),l!=null&&o.unshift(Ul(n,l,a))):i||(l=Ol(n,s),l!=null&&o.push(Ul(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j2=/\r\n?/g,V2=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(j2,`
`).replace(V2,"")}function cu(t,e,n){if(e=s_(e),s_(t)!==e&&n)throw Error(H(425))}function yd(){}var Sm=null,Cm=null;function Am(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rm=typeof setTimeout=="function"?setTimeout:void 0,F2=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch($2)}:Rm;function $2(t){setTimeout(function(){throw t})}function fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ll(e)}function Pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var da=Math.random().toString(36).slice(2),ar="__reactFiber$"+da,$l="__reactProps$"+da,Fr="__reactContainer$"+da,Pm="__reactEvents$"+da,z2="__reactListeners$"+da,B2="__reactHandles$"+da;function ds(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=a_(t);t!==null;){if(n=t[ar])return n;t=a_(t)}return e}t=n,n=t.parentNode}return null}function yc(t){return t=t[ar]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function vh(t){return t[$l]||null}var km=[],mo=-1;function es(t){return{current:t}}function Le(t){0>mo||(t.current=km[mo],km[mo]=null,mo--)}function ke(t,e){mo++,km[mo]=t.current,t.current=e}var $i={},Ot=es($i),Kt=es(!1),Is=$i;function Go(t,e){var n=t.type.contextTypes;if(!n)return $i;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function vd(){Le(Kt),Le(Ot)}function l_(t,e,n){if(Ot.current!==$i)throw Error(H(168));ke(Ot,e),ke(Kt,n)}function qT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,CN(t)||"Unknown",i));return ze({},n,r)}function wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$i,Is=Ot.current,ke(Ot,t),ke(Kt,Kt.current),!0}function c_(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=qT(t,e,Is),r.__reactInternalMemoizedMergedChildContext=t,Le(Kt),Le(Ot),ke(Ot,t)):Le(Kt),ke(Kt,n)}var Pr=null,wh=!1,pp=!1;function GT(t){Pr===null?Pr=[t]:Pr.push(t)}function H2(t){wh=!0,GT(t)}function ts(){if(!pp&&Pr!==null){pp=!0;var t=0,e=Se;try{var n=Pr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,wh=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),vT(fy,ts),i}finally{Se=e,pp=!1}}return null}var go=[],yo=0,_d=null,Ed=0,mn=[],gn=0,bs=null,kr=1,Nr="";function ls(t,e){go[yo++]=Ed,go[yo++]=_d,_d=t,Ed=e}function KT(t,e,n){mn[gn++]=kr,mn[gn++]=Nr,mn[gn++]=bs,bs=t;var r=kr;t=Nr;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kr=1<<32-$n(e)+i|n<<i|r,Nr=s+t}else kr=1<<s|n<<i|r,Nr=t}function xy(t){t.return!==null&&(ls(t,1),KT(t,1,0))}function Ty(t){for(;t===_d;)_d=go[--yo],go[yo]=null,Ed=go[--yo],go[yo]=null;for(;t===bs;)bs=mn[--gn],mn[gn]=null,Nr=mn[--gn],mn[gn]=null,kr=mn[--gn],mn[gn]=null}var ln=null,an=null,je=!1,jn=null;function QT(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function u_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,an=Pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:kr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,an=null,!0):!1;default:return!1}}function Nm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Om(t){if(je){var e=an;if(e){var n=e;if(!u_(t,e)){if(Nm(t))throw Error(H(418));e=Pi(n.nextSibling);var r=ln;e&&u_(t,e)?QT(r,n):(t.flags=t.flags&-4097|2,je=!1,ln=t)}}else{if(Nm(t))throw Error(H(418));t.flags=t.flags&-4097|2,je=!1,ln=t}}}function d_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function uu(t){if(t!==ln)return!1;if(!je)return d_(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Am(t.type,t.memoizedProps)),e&&(e=an)){if(Nm(t))throw YT(),Error(H(418));for(;e;)QT(t,e),e=Pi(e.nextSibling)}if(d_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=Pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=ln?Pi(t.stateNode.nextSibling):null;return!0}function YT(){for(var t=an;t;)t=Pi(t.nextSibling)}function Ko(){an=ln=null,je=!1}function Iy(t){jn===null?jn=[t]:jn.push(t)}var W2=Kr.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function du(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h_(t){var e=t._init;return e(t._payload)}function XT(t){function e(E,_){if(t){var b=E.deletions;b===null?(E.deletions=[_],E.flags|=16):b.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=Di(E,_),E.index=0,E.sibling=null,E}function s(E,_,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<_?(E.flags|=2,_):b):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,b,k){return _===null||_.tag!==6?(_=Ep(b,E.mode,k),_.return=E,_):(_=i(_,b),_.return=E,_)}function l(E,_,b,k){var N=b.type;return N===co?d(E,_,b.props.children,k,b.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===di&&h_(N)===_.type)?(k=i(_,b.props),k.ref=Ka(E,_,b),k.return=E,k):(k=Gu(b.type,b.key,b.props,null,E.mode,k),k.ref=Ka(E,_,b),k.return=E,k)}function u(E,_,b,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=xp(b,E.mode,k),_.return=E,_):(_=i(_,b.children||[]),_.return=E,_)}function d(E,_,b,k,N){return _===null||_.tag!==7?(_=xs(b,E.mode,k,N),_.return=E,_):(_=i(_,b),_.return=E,_)}function f(E,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ep(""+_,E.mode,b),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eu:return b=Gu(_.type,_.key,_.props,null,E.mode,b),b.ref=Ka(E,null,_),b.return=E,b;case lo:return _=xp(_,E.mode,b),_.return=E,_;case di:var k=_._init;return f(E,k(_._payload),b)}if(tl(_)||Ba(_))return _=xs(_,E.mode,b,null),_.return=E,_;du(E,_)}return null}function h(E,_,b,k){var N=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(E,_,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eu:return b.key===N?l(E,_,b,k):null;case lo:return b.key===N?u(E,_,b,k):null;case di:return N=b._init,h(E,_,N(b._payload),k)}if(tl(b)||Ba(b))return N!==null?null:d(E,_,b,k,null);du(E,b)}return null}function y(E,_,b,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(b)||null,a(_,E,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case eu:return E=E.get(k.key===null?b:k.key)||null,l(_,E,k,N);case lo:return E=E.get(k.key===null?b:k.key)||null,u(_,E,k,N);case di:var M=k._init;return y(E,_,b,M(k._payload),N)}if(tl(k)||Ba(k))return E=E.get(b)||null,d(_,E,k,N,null);du(_,k)}return null}function x(E,_,b,k){for(var N=null,M=null,S=_,I=_=0,A=null;S!==null&&I<b.length;I++){S.index>I?(A=S,S=null):A=S.sibling;var R=h(E,S,b[I],k);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(E,S),_=s(R,_,I),M===null?N=R:M.sibling=R,M=R,S=A}if(I===b.length)return n(E,S),je&&ls(E,I),N;if(S===null){for(;I<b.length;I++)S=f(E,b[I],k),S!==null&&(_=s(S,_,I),M===null?N=S:M.sibling=S,M=S);return je&&ls(E,I),N}for(S=r(E,S);I<b.length;I++)A=y(S,E,I,b[I],k),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?I:A.key),_=s(A,_,I),M===null?N=A:M.sibling=A,M=A);return t&&S.forEach(function(O){return e(E,O)}),je&&ls(E,I),N}function w(E,_,b,k){var N=Ba(b);if(typeof N!="function")throw Error(H(150));if(b=N.call(b),b==null)throw Error(H(151));for(var M=N=null,S=_,I=_=0,A=null,R=b.next();S!==null&&!R.done;I++,R=b.next()){S.index>I?(A=S,S=null):A=S.sibling;var O=h(E,S,R.value,k);if(O===null){S===null&&(S=A);break}t&&S&&O.alternate===null&&e(E,S),_=s(O,_,I),M===null?N=O:M.sibling=O,M=O,S=A}if(R.done)return n(E,S),je&&ls(E,I),N;if(S===null){for(;!R.done;I++,R=b.next())R=f(E,R.value,k),R!==null&&(_=s(R,_,I),M===null?N=R:M.sibling=R,M=R);return je&&ls(E,I),N}for(S=r(E,S);!R.done;I++,R=b.next())R=y(S,E,I,R.value,k),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?I:R.key),_=s(R,_,I),M===null?N=R:M.sibling=R,M=R);return t&&S.forEach(function(D){return e(E,D)}),je&&ls(E,I),N}function T(E,_,b,k){if(typeof b=="object"&&b!==null&&b.type===co&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case eu:e:{for(var N=b.key,M=_;M!==null;){if(M.key===N){if(N=b.type,N===co){if(M.tag===7){n(E,M.sibling),_=i(M,b.props.children),_.return=E,E=_;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===di&&h_(N)===M.type){n(E,M.sibling),_=i(M,b.props),_.ref=Ka(E,M,b),_.return=E,E=_;break e}n(E,M);break}else e(E,M);M=M.sibling}b.type===co?(_=xs(b.props.children,E.mode,k,b.key),_.return=E,E=_):(k=Gu(b.type,b.key,b.props,null,E.mode,k),k.ref=Ka(E,_,b),k.return=E,E=k)}return o(E);case lo:e:{for(M=b.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(E,_.sibling),_=i(_,b.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=xp(b,E.mode,k),_.return=E,E=_}return o(E);case di:return M=b._init,T(E,_,M(b._payload),k)}if(tl(b))return x(E,_,b,k);if(Ba(b))return w(E,_,b,k);du(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,b),_.return=E,E=_):(n(E,_),_=Ep(b,E.mode,k),_.return=E,E=_),o(E)):n(E,_)}return T}var Qo=XT(!0),JT=XT(!1),xd=es(null),Td=null,vo=null,by=null;function Sy(){by=vo=Td=null}function Cy(t){var e=xd.current;Le(xd),t._currentValue=e}function Dm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function So(t,e){Td=t,by=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(by!==t)if(t={context:t,memoizedValue:e,next:null},vo===null){if(Td===null)throw Error(H(308));vo=t,Td.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return e}var hs=null;function Ay(t){hs===null?hs=[t]:hs.push(t)}function ZT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ay(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Ay(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ur(t,n)}function $u(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,py(t,n)}}function f_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Id(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(h=e,y=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(y,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(y,f,h):x,h==null)break e;f=ze({},f,h);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=f}}function p_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var vc={},ur=es(vc),zl=es(vc),Bl=es(vc);function fs(t){if(t===vc)throw Error(H(174));return t}function Py(t,e){switch(ke(Bl,e),ke(zl,t),ke(ur,vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pm(e,t)}Le(ur),ke(ur,e)}function Yo(){Le(ur),Le(zl),Le(Bl)}function tI(t){fs(Bl.current);var e=fs(ur.current),n=pm(e,t.type);e!==n&&(ke(zl,t),ke(ur,n))}function ky(t){zl.current===t&&(Le(ur),Le(zl))}var Ue=es(0);function bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mp=[];function Ny(){for(var t=0;t<mp.length;t++)mp[t]._workInProgressVersionPrimary=null;mp.length=0}var zu=Kr.ReactCurrentDispatcher,gp=Kr.ReactCurrentBatchConfig,Ss=0,$e=null,lt=null,ht=null,Sd=!1,gl=!1,Hl=0,q2=0;function St(){throw Error(H(321))}function Oy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function Dy(t,e,n,r,i,s){if(Ss=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zu.current=t===null||t.memoizedState===null?Y2:X2,t=n(r,i),gl){s=0;do{if(gl=!1,Hl=0,25<=s)throw Error(H(301));s+=1,ht=lt=null,e.updateQueue=null,zu.current=J2,t=n(r,i)}while(gl)}if(zu.current=Cd,e=lt!==null&&lt.next!==null,Ss=0,ht=lt=$e=null,Sd=!1,e)throw Error(H(300));return t}function My(){var t=Hl!==0;return Hl=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?$e.memoizedState=ht=t:ht=ht.next=t,ht}function Sn(){if(lt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=ht===null?$e.memoizedState:ht.next;if(e!==null)ht=e,lt=t;else{if(t===null)throw Error(H(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?$e.memoizedState=ht=t:ht=ht.next=t}return ht}function Wl(t,e){return typeof e=="function"?e(t):e}function yp(t){var e=Sn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ss&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,$e.lanes|=d,Cs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vp(t){var e=Sn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nI(){}function rI(t,e){var n=$e,r=Sn(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,Ly(oI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,ql(9,sI.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(H(349));Ss&30||iI(n,e,i)}return i}function iI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sI(t,e,n,r){e.value=n,e.getSnapshot=r,aI(e)&&lI(t)}function oI(t,e,n){return n(function(){aI(e)&&lI(t)})}function aI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function lI(t){var e=Ur(t,1);e!==null&&zn(e,t,1,-1)}function m_(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=Q2.bind(null,$e,t),[e.memoizedState,t]}function ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cI(){return Sn().memoizedState}function Bu(t,e,n,r){var i=nr();$e.flags|=t,i.memoizedState=ql(1|e,n,void 0,r===void 0?null:r)}function _h(t,e,n,r){var i=Sn();r=r===void 0?null:r;var s=void 0;if(lt!==null){var o=lt.memoizedState;if(s=o.destroy,r!==null&&Oy(r,o.deps)){i.memoizedState=ql(e,n,s,r);return}}$e.flags|=t,i.memoizedState=ql(1|e,n,s,r)}function g_(t,e){return Bu(8390656,8,t,e)}function Ly(t,e){return _h(2048,8,t,e)}function uI(t,e){return _h(4,2,t,e)}function dI(t,e){return _h(4,4,t,e)}function hI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fI(t,e,n){return n=n!=null?n.concat([t]):null,_h(4,4,hI.bind(null,e,t),n)}function jy(){}function pI(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mI(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gI(t,e,n){return Ss&21?(Hn(n,e)||(n=ET(),$e.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function G2(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=gp.transition;gp.transition={};try{t(!1),e()}finally{Se=n,gp.transition=r}}function yI(){return Sn().memoizedState}function K2(t,e,n){var r=Oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vI(t))wI(e,n);else if(n=ZT(t,e,n,r),n!==null){var i=Ut();zn(n,t,r,i),_I(n,e,r)}}function Q2(t,e,n){var r=Oi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vI(t))wI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ay(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZT(t,e,i,r),n!==null&&(i=Ut(),zn(n,t,r,i),_I(n,e,r))}}function vI(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function wI(t,e){gl=Sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _I(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,py(t,n)}}var Cd={readContext:bn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Y2={readContext:bn,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:g_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4194308,4,hI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bu(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K2.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:m_,useDebugValue:jy,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=m_(!1),e=t[0];return t=G2.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=nr();if(je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),ft===null)throw Error(H(349));Ss&30||iI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,g_(oI.bind(null,r,s,t),[t]),r.flags|=2048,ql(9,sI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nr(),e=ft.identifierPrefix;if(je){var n=Nr,r=kr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=q2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X2={readContext:bn,useCallback:pI,useContext:bn,useEffect:Ly,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:dI,useMemo:mI,useReducer:yp,useRef:cI,useState:function(){return yp(Wl)},useDebugValue:jy,useDeferredValue:function(t){var e=Sn();return gI(e,lt.memoizedState,t)},useTransition:function(){var t=yp(Wl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:nI,useSyncExternalStore:rI,useId:yI,unstable_isNewReconciler:!1},J2={readContext:bn,useCallback:pI,useContext:bn,useEffect:Ly,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:dI,useMemo:mI,useReducer:vp,useRef:cI,useState:function(){return vp(Wl)},useDebugValue:jy,useDeferredValue:function(t){var e=Sn();return lt===null?e.memoizedState=t:gI(e,lt.memoizedState,t)},useTransition:function(){var t=vp(Wl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:nI,useSyncExternalStore:rI,useId:yI,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Oi(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&(zn(e,t,i,r),$u(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Oi(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&(zn(e,t,i,r),$u(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=Oi(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ki(t,i,r),e!==null&&(zn(e,t,r,n),$u(e,t,r))}};function y_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vl(n,r)||!Vl(i,s):!0}function EI(t,e,n){var r=!1,i=$i,s=e.contextType;return typeof s=="object"&&s!==null?s=bn(s):(i=Qt(e)?Is:Ot.current,r=e.contextTypes,s=(r=r!=null)?Go(t,i):$i),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function Lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ry(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bn(s):(s=Qt(e)?Is:Ot.current,i.context=Go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),Id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var n="",r=e;do n+=SN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z2=typeof WeakMap=="function"?WeakMap:Map;function xI(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rd||(Rd=!0,Gm=r),jm(t,e)},n}function TI(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jm(t,e),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function w_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fO.bind(null,t,e,n),e.then(t,t))}function __(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,ki(n,e,1))),n.lanes|=1),t)}var eO=Kr.ReactCurrentOwner,Gt=!1;function Vt(t,e,n,r){e.child=t===null?JT(e,null,n,r):Qo(e,t.child,n,r)}function x_(t,e,n,r,i){n=n.render;var s=e.ref;return So(e,i),r=Dy(t,e,n,r,s,i),n=My(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(je&&n&&xy(e),e.flags|=1,Vt(t,e,r,i),e.child)}function T_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,II(t,e,s,r,i)):(t=Gu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(o,r)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=Di(s,r),t.ref=e.ref,t.return=e,e.child=t}function II(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Vl(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,$r(t,e,i)}return Vm(t,e,n,r,i)}function bI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(_o,rn),rn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(_o,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(_o,rn),rn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(_o,rn),rn|=r;return Vt(t,e,i,n),e.child}function SI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vm(t,e,n,r,i){var s=Qt(n)?Is:Ot.current;return s=Go(e,s),So(e,i),n=Dy(t,e,n,r,s,i),r=My(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(je&&r&&xy(e),e.flags|=1,Vt(t,e,n,i),e.child)}function I_(t,e,n,r,i){if(Qt(n)){var s=!0;wd(e)}else s=!1;if(So(e,i),e.stateNode===null)Hu(t,e),EI(e,n,r),Lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Qt(n)?Is:Ot.current,u=Go(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&v_(e,o,r,u),hi=!1;var h=e.memoizedState;o.state=h,Id(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Kt.current||hi?(typeof d=="function"&&(Mm(e,n,d,r),l=e.memoizedState),(a=hi||y_(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:On(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Qt(n)?Is:Ot.current,l=Go(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&v_(e,o,r,l),hi=!1,h=e.memoizedState,o.state=h,Id(e,r,o,i);var x=e.memoizedState;a!==f||h!==x||Kt.current||hi?(typeof y=="function"&&(Mm(e,n,y,r),x=e.memoizedState),(u=hi||y_(e,n,u,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fm(t,e,n,r,s,i)}function Fm(t,e,n,r,i,s){SI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&c_(e,n,!1),$r(t,e,s);r=e.stateNode,eO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&c_(e,n,!0),e.child}function CI(t){var e=t.stateNode;e.pendingContext?l_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l_(t,e.context,!1),Py(t,e.containerInfo)}function b_(t,e,n,r,i){return Ko(),Iy(i),e.flags|=256,Vt(t,e,n,r),e.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function $m(t){return{baseLanes:t,cachePool:null,transitions:null}}function AI(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Ue,i&1),t===null)return Om(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ih(o,r,0,null),t=xs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$m(n),e.memoizedState=Um,t):Vy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Di(a,s):(s=xs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$m(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Um,r}return s=t.child,t=s.sibling,r=Di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vy(t,e){return e=Ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hu(t,e,n,r){return r!==null&&Iy(r),Qo(e,t.child,null,n),t=Vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wp(Error(H(422))),hu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ih({mode:"visible",children:r.children},i,0,null),s=xs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=$m(o),e.memoizedState=Um,s);if(!(e.mode&1))return hu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=wp(s,r,void 0),hu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ur(t,i),zn(r,t,i,-1))}return Hy(),r=wp(Error(H(421))),hu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,an=Pi(i.nextSibling),ln=e,je=!0,jn=null,t!==null&&(mn[gn++]=kr,mn[gn++]=Nr,mn[gn++]=bs,kr=t.id,Nr=t.overflow,bs=e),e=Vy(e,r.children),e.flags|=4096,e)}function S_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dm(t.return,e,n)}function _p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S_(t,n,e);else if(t.tag===19)S_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_p(e,!0,n,null,s);break;case"together":_p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nO(t,e,n){switch(e.tag){case 3:CI(e),Ko();break;case 5:tI(e);break;case 1:Qt(e.type)&&wd(e);break;case 4:Py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(xd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?AI(t,e,n):(ke(Ue,Ue.current&1),t=$r(t,e,n),t!==null?t.sibling:null);ke(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,bI(t,e,n)}return $r(t,e,n)}var PI,zm,kI,NI;PI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zm=function(){};kI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(ur.current);var s=null;switch(n){case"input":i=um(t,i),r=um(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=fm(t,i),r=fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yd)}mm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rO(t,e,n){var r=e.pendingProps;switch(Ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Qt(e.type)&&vd(),Ct(e),null;case 3:return r=e.stateNode,Yo(),Le(Kt),Le(Ot),Ny(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Ym(jn),jn=null))),zm(t,e),Ct(e),null;case 5:ky(e);var i=fs(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)kI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ct(e),null}if(t=fs(ur.current),uu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ar]=e,r[$l]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<rl.length;i++)De(rl[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":M0(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":j0(r,s),De("invalid",r)}mm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),i=["children",""+a]):kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":tu(r),L0(r,s,!0);break;case"textarea":tu(r),V0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[$l]=r,PI(t,e,!1,!1),e.stateNode=t;e:{switch(o=gm(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<rl.length;i++)De(rl[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":M0(t,r),i=um(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),De("invalid",t);break;case"textarea":j0(t,r),i=fm(t,r),De("invalid",t);break;default:i=r}mm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nl(t,l):typeof l=="number"&&Nl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&ly(t,s,l,o))}switch(n){case"input":tu(t),L0(t,r,!1);break;case"textarea":tu(t),V0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)NI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=fs(Bl.current),fs(ur.current),uu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Ct(e),null;case 13:if(Le(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&an!==null&&e.mode&1&&!(e.flags&128))YT(),Ko(),e.flags|=98560,s=!1;else if(s=uu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[ar]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else jn!==null&&(Ym(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?ct===0&&(ct=3):Hy())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Yo(),zm(t,e),t===null&&Fl(e.stateNode.containerInfo),Ct(e),null;case 10:return Cy(e.type._context),Ct(e),null;case 17:return Qt(e.type)&&vd(),Ct(e),null;case 19:if(Le(Ue),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qa(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bd(t),o!==null){for(e.flags|=128,Qa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>Jo&&(e.flags|=128,r=!0,Qa(s,!1),e.lanes=4194304)}else{if(!r)if(t=bd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return Ct(e),null}else 2*Je()-s.renderingStartTime>Jo&&n!==1073741824&&(e.flags|=128,r=!0,Qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Ue.current,ke(Ue,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rn&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function iO(t,e){switch(Ty(e),e.tag){case 1:return Qt(e.type)&&vd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Le(Kt),Le(Ot),Ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ky(e),null;case 13:if(Le(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ue),null;case 4:return Yo(),null;case 10:return Cy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var fu=!1,kt=!1,sO=typeof WeakSet=="function"?WeakSet:Set,Z=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Bm(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var C_=!1;function oO(t,e){if(Sm=pd,t=jT(),Ey(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cm={focusedElem:t,selectionRange:n},pd=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,T=x.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:On(e.type,w),T);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){Ke(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return x=C_,C_=!1,x}function yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bm(e,n,s)}i=i.next}while(i!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OI(t){var e=t.alternate;e!==null&&(t.alternate=null,OI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[$l],delete e[Pm],delete e[z2],delete e[B2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DI(t){return t.tag===5||t.tag===3||t.tag===4}function A_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yd));else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}function qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qm(t,e,n),t=t.sibling;t!==null;)qm(t,e,n),t=t.sibling}var mt=null,Ln=!1;function si(t,e,n){for(n=n.child;n!==null;)MI(t,e,n),n=n.sibling}function MI(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:kt||wo(n,e);case 6:var r=mt,i=Ln;mt=null,si(t,e,n),mt=r,Ln=i,mt!==null&&(Ln?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Ln?(t=mt,n=n.stateNode,t.nodeType===8?fp(t.parentNode,n):t.nodeType===1&&fp(t,n),Ll(t)):fp(mt,n.stateNode));break;case 4:r=mt,i=Ln,mt=n.stateNode.containerInfo,Ln=!0,si(t,e,n),mt=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bm(n,e,o),i=i.next}while(i!==r)}si(t,e,n);break;case 1:if(!kt&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,si(t,e,n),kt=r):si(t,e,n);break;default:si(t,e,n)}}function R_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sO),e.forEach(function(r){var i=mO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Ln=!1;break e;case 3:mt=a.stateNode.containerInfo,Ln=!0;break e;case 4:mt=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(mt===null)throw Error(H(160));MI(s,o,i),mt=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LI(e,t),e=e.sibling}function LI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),tr(t),r&4){try{yl(3,t,t.return),xh(3,t)}catch(w){Ke(t,t.return,w)}try{yl(5,t,t.return)}catch(w){Ke(t,t.return,w)}}break;case 1:Nn(e,t),tr(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(Nn(e,t),tr(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var i=t.stateNode;try{Nl(i,"")}catch(w){Ke(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iT(i,s),gm(a,o);var u=gm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?cT(i,f):d==="dangerouslySetInnerHTML"?aT(i,f):d==="children"?Nl(i,f):ly(i,d,f,u)}switch(a){case"input":dm(i,s);break;case"textarea":sT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?xo(i,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?xo(i,!!s.multiple,s.defaultValue,!0):xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[$l]=s}catch(w){Ke(t,t.return,w)}}break;case 6:if(Nn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ke(t,t.return,w)}}break;case 3:if(Nn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(w){Ke(t,t.return,w)}break;case 4:Nn(e,t),tr(t);break;case 13:Nn(e,t),tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($y=Je())),r&4&&R_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(u=kt)||d,Nn(e,t),kt=u):Nn(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,y=h.child,h.tag){case 0:case 11:case 14:case 15:yl(4,h,h.return);break;case 1:wo(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){Ke(r,n,w)}}break;case 5:wo(h,h.return);break;case 22:if(h.memoizedState!==null){k_(f);continue}}y!==null?(y.return=h,Z=y):k_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lT("display",o))}catch(w){Ke(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ke(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(e,t),tr(t),r&4&&R_(t);break;case 21:break;default:Nn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DI(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nl(i,""),r.flags&=-33);var s=A_(t);qm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A_(t);Wm(t,a,o);break;default:throw Error(H(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aO(t,e,n){Z=t,jI(t)}function jI(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=fu;var u=kt;if(fu=o,(kt=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?N_(i):l!==null?(l.return=o,Z=l):N_(i);for(;s!==null;)Z=s,jI(s),s=s.sibling;Z=i,fu=a,kt=u}P_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):P_(t)}}function P_(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&p_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}p_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ll(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}kt||e.flags&512&&Hm(e)}catch(h){Ke(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function k_(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function N_(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{Hm(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{Hm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var lO=Math.ceil,Ad=Kr.ReactCurrentDispatcher,Fy=Kr.ReactCurrentOwner,xn=Kr.ReactCurrentBatchConfig,we=0,ft=null,it=null,vt=0,rn=0,_o=es(0),ct=0,Gl=null,Cs=0,Th=0,Uy=0,vl=null,qt=null,$y=0,Jo=1/0,Rr=null,Rd=!1,Gm=null,Ni=null,pu=!1,Ii=null,Pd=0,wl=0,Km=null,Wu=-1,qu=0;function Ut(){return we&6?Je():Wu!==-1?Wu:Wu=Je()}function Oi(t){return t.mode&1?we&2&&vt!==0?vt&-vt:W2.transition!==null?(qu===0&&(qu=ET()),qu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:AT(t.type)),t):1}function zn(t,e,n,r){if(50<wl)throw wl=0,Km=null,Error(H(185));mc(t,n,r),(!(we&2)||t!==ft)&&(t===ft&&(!(we&2)&&(Th|=n),ct===4&&pi(t,vt)),Yt(t,r),n===1&&we===0&&!(e.mode&1)&&(Jo=Je()+500,wh&&ts()))}function Yt(t,e){var n=t.callbackNode;WN(t,e);var r=fd(t,t===ft?vt:0);if(r===0)n!==null&&$0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$0(n),e===1)t.tag===0?H2(O_.bind(null,t)):GT(O_.bind(null,t)),U2(function(){!(we&6)&&ts()}),n=null;else{switch(xT(r)){case 1:n=fy;break;case 4:n=wT;break;case 16:n=hd;break;case 536870912:n=_T;break;default:n=hd}n=WI(n,VI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VI(t,e){if(Wu=-1,qu=0,we&6)throw Error(H(327));var n=t.callbackNode;if(Co()&&t.callbackNode!==n)return null;var r=fd(t,t===ft?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kd(t,r);else{e=r;var i=we;we|=2;var s=UI();(ft!==t||vt!==e)&&(Rr=null,Jo=Je()+500,Es(t,e));do try{dO();break}catch(a){FI(t,a)}while(!0);Sy(),Ad.current=s,we=i,it!==null?e=0:(ft=null,vt=0,e=ct)}if(e!==0){if(e===2&&(i=Em(t),i!==0&&(r=i,e=Qm(t,i))),e===1)throw n=Gl,Es(t,0),pi(t,r),Yt(t,Je()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!cO(i)&&(e=kd(t,r),e===2&&(s=Em(t),s!==0&&(r=s,e=Qm(t,s))),e===1))throw n=Gl,Es(t,0),pi(t,r),Yt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:cs(t,qt,Rr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=$y+500-Je(),10<e)){if(fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rm(cs.bind(null,t,qt,Rr),e);break}cs(t,qt,Rr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lO(r/1960))-r,10<r){t.timeoutHandle=Rm(cs.bind(null,t,qt,Rr),r);break}cs(t,qt,Rr);break;case 5:cs(t,qt,Rr);break;default:throw Error(H(329))}}}return Yt(t,Je()),t.callbackNode===n?VI.bind(null,t):null}function Qm(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=kd(t,e),t!==2&&(e=qt,qt=n,e!==null&&Ym(e)),t}function Ym(t){qt===null?qt=t:qt.push.apply(qt,t)}function cO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~Uy,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function O_(t){if(we&6)throw Error(H(327));Co();var e=fd(t,0);if(!(e&1))return Yt(t,Je()),null;var n=kd(t,e);if(t.tag!==0&&n===2){var r=Em(t);r!==0&&(e=r,n=Qm(t,r))}if(n===1)throw n=Gl,Es(t,0),pi(t,e),Yt(t,Je()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,qt,Rr),Yt(t,Je()),null}function zy(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Jo=Je()+500,wh&&ts())}}function As(t){Ii!==null&&Ii.tag===0&&!(we&6)&&Co();var e=we;we|=1;var n=xn.transition,r=Se;try{if(xn.transition=null,Se=1,t)return t()}finally{Se=r,xn.transition=n,we=e,!(we&6)&&ts()}}function By(){rn=_o.current,Le(_o)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F2(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vd();break;case 3:Yo(),Le(Kt),Le(Ot),Ny();break;case 5:ky(r);break;case 4:Yo();break;case 13:Le(Ue);break;case 19:Le(Ue);break;case 10:Cy(r.type._context);break;case 22:case 23:By()}n=n.return}if(ft=t,it=t=Di(t.current,null),vt=rn=e,ct=0,Gl=null,Uy=Th=Cs=0,qt=vl=null,hs!==null){for(e=0;e<hs.length;e++)if(n=hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hs=null}return t}function FI(t,e){do{var n=it;try{if(Sy(),zu.current=Cd,Sd){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sd=!1}if(Ss=0,ht=lt=$e=null,gl=!1,Hl=0,Fy.current=null,n===null||n.return===null){ct=1,Gl=e,it=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=__(o);if(y!==null){y.flags&=-257,E_(y,o,a,s,e),y.mode&1&&w_(s,u,e),e=y,l=u;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){w_(s,u,e),Hy();break e}l=Error(H(426))}}else if(je&&a.mode&1){var T=__(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),E_(T,o,a,s,e),Iy(Xo(l,a));break e}}s=l=Xo(l,a),ct!==4&&(ct=2),vl===null?vl=[s]:vl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=xI(s,l,e);f_(s,E);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ni===null||!Ni.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=TI(s,a,e);f_(s,k);break e}}s=s.return}while(s!==null)}zI(n)}catch(N){e=N,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function UI(){var t=Ad.current;return Ad.current=Cd,t===null?Cd:t}function Hy(){(ct===0||ct===3||ct===2)&&(ct=4),ft===null||!(Cs&268435455)&&!(Th&268435455)||pi(ft,vt)}function kd(t,e){var n=we;we|=2;var r=UI();(ft!==t||vt!==e)&&(Rr=null,Es(t,e));do try{uO();break}catch(i){FI(t,i)}while(!0);if(Sy(),we=n,Ad.current=r,it!==null)throw Error(H(261));return ft=null,vt=0,ct}function uO(){for(;it!==null;)$I(it)}function dO(){for(;it!==null&&!LN();)$I(it)}function $I(t){var e=HI(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?zI(t):it=e,Fy.current=null}function zI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iO(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}else if(n=rO(n,e,rn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ct===0&&(ct=5)}function cs(t,e,n){var r=Se,i=xn.transition;try{xn.transition=null,Se=1,hO(t,e,n,r)}finally{xn.transition=i,Se=r}return null}function hO(t,e,n,r){do Co();while(Ii!==null);if(we&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qN(t,s),t===ft&&(it=ft=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,WI(hd,function(){return Co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=Se;Se=1;var a=we;we|=4,Fy.current=null,oO(t,n),LI(n,t),N2(Cm),pd=!!Sm,Cm=Sm=null,t.current=n,aO(n),jN(),we=a,Se=o,xn.transition=s}else t.current=n;if(pu&&(pu=!1,Ii=t,Pd=i),s=t.pendingLanes,s===0&&(Ni=null),UN(n.stateNode),Yt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,t=Gm,Gm=null,t;return Pd&1&&t.tag!==0&&Co(),s=t.pendingLanes,s&1?t===Km?wl++:(wl=0,Km=t):wl=0,ts(),null}function Co(){if(Ii!==null){var t=xT(Pd),e=xn.transition,n=Se;try{if(xn.transition=null,Se=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,Pd=0,we&6)throw Error(H(331));var i=we;for(we|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:yl(8,d,s)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,y=d.return;if(OI(d),d===u){Z=null;break}if(h!==null){h.return=y,Z=h;break}Z=y}}}var x=s.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Z=E;break e}Z=s.return}}var _=t.current;for(Z=_;Z!==null;){o=Z;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Z=b;else e:for(o=_;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xh(9,a)}}catch(N){Ke(a,a.return,N)}if(a===o){Z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Z=k;break e}Z=a.return}}if(we=i,ts(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{Se=n,xn.transition=e}}return!1}function D_(t,e,n){e=Xo(n,e),e=xI(t,e,1),t=ki(t,e,1),e=Ut(),t!==null&&(mc(t,1,e),Yt(t,e))}function Ke(t,e,n){if(t.tag===3)D_(t,t,n);else for(;e!==null;){if(e.tag===3){D_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){t=Xo(n,t),t=TI(e,t,1),e=ki(e,t,1),t=Ut(),e!==null&&(mc(e,1,t),Yt(e,t));break}}e=e.return}}function fO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(vt&n)===n&&(ct===4||ct===3&&(vt&130023424)===vt&&500>Je()-$y?Es(t,0):Uy|=n),Yt(t,e)}function BI(t,e){e===0&&(t.mode&1?(e=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):e=1);var n=Ut();t=Ur(t,e),t!==null&&(mc(t,e,n),Yt(t,n))}function pO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BI(t,n)}function mO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),BI(t,n)}var HI;HI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,nO(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,je&&e.flags&1048576&&KT(e,Ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hu(t,e),t=e.pendingProps;var i=Go(e,Ot.current);So(e,n),i=Dy(null,e,r,t,i,n);var s=My();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(s=!0,wd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ry(e),i.updater=Eh,e.stateNode=i,i._reactInternals=e,Lm(e,r,t,n),e=Fm(null,e,r,!0,s,n)):(e.tag=0,je&&s&&xy(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yO(r),t=On(r,t),i){case 0:e=Vm(null,e,r,t,n);break e;case 1:e=I_(null,e,r,t,n);break e;case 11:e=x_(null,e,r,t,n);break e;case 14:e=T_(null,e,r,On(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Vm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),I_(t,e,r,i,n);case 3:e:{if(CI(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eI(t,e),Id(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xo(Error(H(423)),e),e=b_(t,e,r,n,i);break e}else if(r!==i){i=Xo(Error(H(424)),e),e=b_(t,e,r,n,i);break e}else for(an=Pi(e.stateNode.containerInfo.firstChild),ln=e,je=!0,jn=null,n=JT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===i){e=$r(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return tI(e),t===null&&Om(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Am(r,i)?o=null:s!==null&&Am(r,s)&&(e.flags|=32),SI(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&Om(e),null;case 13:return AI(t,e,n);case 4:return Py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),x_(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(xd,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!Kt.current){e=$r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,So(e,n),i=bn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),T_(t,e,r,i,n);case 15:return II(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Hu(t,e),e.tag=1,Qt(r)?(t=!0,wd(e)):t=!1,So(e,n),EI(e,r,i),Lm(e,r,i,n),Fm(null,e,r,!0,t,n);case 19:return RI(t,e,n);case 22:return bI(t,e,n)}throw Error(H(156,e.tag))};function WI(t,e){return vT(t,e)}function gO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new gO(t,e,n,r)}function Wy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yO(t){if(typeof t=="function")return Wy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uy)return 11;if(t===dy)return 14}return 2}function Di(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return xs(n.children,i,s,e);case cy:o=8,i|=8;break;case om:return t=En(12,n,e,i|2),t.elementType=om,t.lanes=s,t;case am:return t=En(13,n,e,i),t.elementType=am,t.lanes=s,t;case lm:return t=En(19,n,e,i),t.elementType=lm,t.lanes=s,t;case tT:return Ih(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zx:o=10;break e;case eT:o=9;break e;case uy:o=11;break e;case dy:o=14;break e;case di:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=En(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xs(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function Ih(t,e,n,r){return t=En(22,t,r,e),t.elementType=tT,t.lanes=n,t.stateNode={isHidden:!1},t}function Ep(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function xp(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qy(t,e,n,r,i,s,o,a,l){return t=new vO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(s),t}function wO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qI(t){if(!t)return $i;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Qt(n))return qT(t,n,e)}return e}function GI(t,e,n,r,i,s,o,a,l){return t=qy(n,r,!0,t,i,s,o,a,l),t.context=qI(null),n=t.current,r=Ut(),i=Oi(n),s=Mr(r,i),s.callback=e??null,ki(n,s,i),t.current.lanes=i,mc(t,i,r),Yt(t,r),t}function bh(t,e,n,r){var i=e.current,s=Ut(),o=Oi(i);return n=qI(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ki(i,e,o),t!==null&&(zn(t,i,o,s),$u(t,i,o)),o}function Nd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gy(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function _O(){return null}var KI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ky(t){this._internalRoot=t}Sh.prototype.render=Ky.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));bh(t,e,null,null)};Sh.prototype.unmount=Ky.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){bh(null,t,null,null)}),e[Fr]=null}};function Sh(t){this._internalRoot=t}Sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=bT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&CT(t)}};function Qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L_(){}function EO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Nd(o);s.call(u)}}var o=GI(e,r,t,0,null,!1,!1,"",L_);return t._reactRootContainer=o,t[Fr]=o.current,Fl(t.nodeType===8?t.parentNode:t),As(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Nd(l);a.call(u)}}var l=qy(t,0,!1,null,null,!1,!1,"",L_);return t._reactRootContainer=l,t[Fr]=l.current,Fl(t.nodeType===8?t.parentNode:t),As(function(){bh(e,l,n,r)}),l}function Ah(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Nd(o);a.call(l)}}bh(e,o,t,i)}else o=EO(n,e,t,i,r);return Nd(o)}TT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(py(e,n|1),Yt(e,Je()),!(we&6)&&(Jo=Je()+500,ts()))}break;case 13:As(function(){var r=Ur(t,1);if(r!==null){var i=Ut();zn(r,t,1,i)}}),Gy(t,1)}};my=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Ut();zn(e,t,134217728,n)}Gy(t,134217728)}};IT=function(t){if(t.tag===13){var e=Oi(t),n=Ur(t,e);if(n!==null){var r=Ut();zn(n,t,e,r)}Gy(t,e)}};bT=function(){return Se};ST=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};vm=function(t,e,n){switch(e){case"input":if(dm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vh(r);if(!i)throw Error(H(90));rT(r),dm(r,i)}}}break;case"textarea":sT(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};hT=zy;fT=As;var xO={usingClientEntryPoint:!1,Events:[yc,po,vh,uT,dT,zy]},Ya={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TO={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||_O,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{ph=mu.inject(TO),cr=mu}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xO;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(e))throw Error(H(200));return wO(t,e,null,n)};hn.createRoot=function(t,e){if(!Qy(t))throw Error(H(299));var n=!1,r="",i=KI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qy(t,1,!1,null,null,n,!1,r,i),t[Fr]=e.current,Fl(t.nodeType===8?t.parentNode:t),new Ky(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=gT(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return As(t)};hn.hydrate=function(t,e,n){if(!Ch(e))throw Error(H(200));return Ah(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!Qy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GI(e,null,t,1,n??null,i,!1,s,o),t[Fr]=e.current,Fl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sh(e)};hn.render=function(t,e,n){if(!Ch(e))throw Error(H(200));return Ah(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!Ch(t))throw Error(H(40));return t._reactRootContainer?(As(function(){Ah(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};hn.unstable_batchedUpdates=zy;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ch(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Ah(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function QI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QI)}catch(t){console.error(t)}}QI(),Qx.exports=hn;var wc=Qx.exports;const YI=hh(wc);var XI,j_=wc;XI=j_.createRoot,j_.hydrateRoot;const IO=1,bO=1e6;let Tp=0;function SO(){return Tp=(Tp+1)%Number.MAX_SAFE_INTEGER,Tp.toString()}const Ip=new Map,V_=t=>{if(Ip.has(t))return;const e=setTimeout(()=>{Ip.delete(t),_l({type:"REMOVE_TOAST",toastId:t})},bO);Ip.set(t,e)},CO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,IO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?V_(n):t.toasts.forEach(r=>{V_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ku=[];let Qu={toasts:[]};function _l(t){Qu=CO(Qu,t),Ku.forEach(e=>{e(Qu)})}function AO({...t}){const e=SO(),n=i=>_l({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>_l({type:"DISMISS_TOAST",toastId:e});return _l({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function JI(){const[t,e]=v.useState(Qu);return v.useEffect(()=>(Ku.push(e),()=>{const n=Ku.indexOf(e);n>-1&&Ku.splice(n,1)}),[t]),{...t,toast:AO,dismiss:n=>_l({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function RO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Rh(...t){return e=>t.forEach(n=>RO(n,e))}function at(...t){return v.useCallback(Rh(...t),t)}function PO(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:y,...x}=f,w=(h==null?void 0:h[t][l])||a,T=v.useMemo(()=>x,Object.values(x));return m.jsx(w.Provider,{value:T,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,x=v.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,kO(i,...e)]}function kO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zo=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),s=i.find(NO);if(s){const o=s.props.children,a=i.map(l=>l===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return m.jsx(Xm,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return m.jsx(Xm,{...r,ref:e,children:n})});Zo.displayName="Slot";var Xm=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const i=DO(n);return v.cloneElement(n,{...OO(r,n.props),ref:e?Rh(e,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});Xm.displayName="SlotClone";var ZI=({children:t})=>m.jsx(m.Fragment,{children:t});function NO(t){return v.isValidElement(t)&&t.type===ZI}function OO(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function DO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ph(t){const e=t+"CollectionProvider",[n,r]=PO(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:w}=y,T=B.useRef(null),E=B.useRef(new Map).current;return m.jsx(i,{scope:x,itemMap:E,collectionRef:T,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=B.forwardRef((y,x)=>{const{scope:w,children:T}=y,E=s(a,w),_=at(x,E.collectionRef);return m.jsx(Zo,{ref:_,children:T})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=B.forwardRef((y,x)=>{const{scope:w,children:T,...E}=y,_=B.useRef(null),b=at(x,_),k=s(u,w);return B.useEffect(()=>(k.itemMap.set(_,{ref:_,...E}),()=>void k.itemMap.delete(_))),m.jsx(Zo,{[d]:"",ref:b,children:T})});f.displayName=u;function h(y){const x=s(t+"CollectionConsumer",y);return B.useCallback(()=>{const T=x.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((k,N)=>E.indexOf(k.ref.current)-E.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function Fs(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];const u=f=>{var E;const{scope:h,children:y,...x}=f,w=((E=h==null?void 0:h[t])==null?void 0:E[l])||a,T=v.useMemo(()=>x,Object.values(x));return m.jsx(w.Provider,{value:T,children:y})};u.displayName=s+"Provider";function d(f,h){var w;const y=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,x=v.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,MO(i,...e)]}function MO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var LO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=LO.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Zo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Yy(t,e){t&&wc.flushSync(()=>t.dispatchEvent(e))}function Dt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function jO(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var VO="DismissableLayer",Jm="dismissableLayer.update",FO="dismissableLayer.pointerDownOutside",UO="dismissableLayer.focusOutside",F_,eb=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kh=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=v.useContext(eb),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),x=at(e,S=>f(S)),w=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(T),_=d?w.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,k=_>=E,N=zO(S=>{const I=S.target,A=[...u.branches].some(R=>R.contains(I));!k||A||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),M=BO(S=>{const I=S.target;[...u.branches].some(R=>R.contains(I))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return jO(S=>{_===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(F_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),U_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=F_)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),U_())},[d,u]),v.useEffect(()=>{const S=()=>y({});return document.addEventListener(Jm,S),()=>document.removeEventListener(Jm,S)},[]),m.jsx(Ee.div,{...l,ref:x,style:{pointerEvents:b?k?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,N.onPointerDownCapture)})});kh.displayName=VO;var $O="DismissableLayerBranch",tb=v.forwardRef((t,e)=>{const n=v.useContext(eb),r=v.useRef(null),i=at(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(Ee.div,{...t,ref:i})});tb.displayName=$O;function zO(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){nb(FO,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function BO(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&nb(UO,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U_(){const t=new CustomEvent(Jm);document.dispatchEvent(t)}function nb(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Yy(i,s):i.dispatchEvent(s)}var HO=kh,WO=tb,Wn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},qO="Portal",Xy=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);Wn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?YI.createPortal(m.jsx(Ee.div,{...r,ref:e}),o):null});Xy.displayName=qO;function GO(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var ns=t=>{const{present:e,children:n}=t,r=KO(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=at(r.ref,QO(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};ns.displayName="Presence";function KO(t){const[e,n]=v.useState(),r=v.useRef({}),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=GO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=gu(r.current);s.current=a==="mounted"?u:"none"},[a]),Wn(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,y=gu(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Wn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=y=>{const w=gu(r.current).includes(y.animationName);if(y.target===e&&w&&(l("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},h=y=>{y.target===e&&(s.current=gu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function gu(t){return(t==null?void 0:t.animationName)||"none"}function QO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ha({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=YO({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Dt(n),l=v.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function YO({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,i=v.useRef(r),s=Dt(e);return v.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var XO="VisuallyHidden",Nh=v.forwardRef((t,e)=>m.jsx(Ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Nh.displayName=XO;var JO=Nh,Jy="ToastProvider",[Zy,ZO,eD]=Ph("Toast"),[rb,_G]=Fs("Toast",[eD]),[tD,Oh]=rb(Jy),ib=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jy}\`. Expected non-empty \`string\`.`),m.jsx(Zy.Provider,{scope:e,children:m.jsx(tD,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(y=>y+1),[]),onToastRemove:v.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};ib.displayName=Jy;var sb="ToastViewport",nD=["F8"],Zm="toast.viewportPause",eg="toast.viewportResume",ob=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=nD,label:i="Notifications ({hotkey})",...s}=t,o=Oh(sb,n),a=ZO(n),l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=at(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const T=E=>{var b;r.length!==0&&r.every(k=>E[k]||E.code===k)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),v.useEffect(()=>{const T=l.current,E=f.current;if(x&&T&&E){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Zm);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(eg);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},k=M=>{!T.contains(M.relatedTarget)&&b()},N=()=>{T.contains(document.activeElement)||b()};return T.addEventListener("focusin",_),T.addEventListener("focusout",k),T.addEventListener("pointermove",_),T.addEventListener("pointerleave",N),window.addEventListener("blur",_),window.addEventListener("focus",b),()=>{T.removeEventListener("focusin",_),T.removeEventListener("focusout",k),T.removeEventListener("pointermove",_),T.removeEventListener("pointerleave",N),window.removeEventListener("blur",_),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:T})=>{const _=a().map(b=>{const k=b.ref.current,N=[k,...mD(k)];return T==="forwards"?N:N.reverse()});return(T==="forwards"?_.reverse():_).flat()},[a]);return v.useEffect(()=>{const T=f.current;if(T){const E=_=>{var N,M,S;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const I=document.activeElement,A=_.shiftKey;if(_.target===T&&A){(N=u.current)==null||N.focus();return}const D=w({tabbingDirection:A?"backwards":"forwards"}),P=D.findIndex(W=>W===I);bp(D.slice(P+1))?_.preventDefault():A?(M=u.current)==null||M.focus():(S=d.current)==null||S.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[a,w]),m.jsxs(WO,{ref:l,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&m.jsx(tg,{ref:u,onFocusFromOutsideViewport:()=>{const T=w({tabbingDirection:"forwards"});bp(T)}}),m.jsx(Zy.Slot,{scope:n,children:m.jsx(Ee.ol,{tabIndex:-1,...s,ref:h})}),x&&m.jsx(tg,{ref:d,onFocusFromOutsideViewport:()=>{const T=w({tabbingDirection:"backwards"});bp(T)}})]})});ob.displayName=sb;var ab="ToastFocusProxy",tg=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Oh(ab,n);return m.jsx(Nh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});tg.displayName=ab;var Dh="Toast",rD="toast.swipeStart",iD="toast.swipeMove",sD="toast.swipeCancel",oD="toast.swipeEnd",lb=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=ha({prop:r,defaultProp:i,onChange:s});return m.jsx(ns,{present:n||a,children:m.jsx(cD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Dt(t.onPause),onResume:Dt(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});lb.displayName=Dh;var[aD,lD]=rb(Dh,{onClose(){}}),cD=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:y,...x}=t,w=Oh(Dh,n),[T,E]=v.useState(null),_=at(e,W=>E(W)),b=v.useRef(null),k=v.useRef(null),N=i||w.duration,M=v.useRef(0),S=v.useRef(N),I=v.useRef(0),{onToastAdd:A,onToastRemove:R}=w,O=Dt(()=>{var ee;(T==null?void 0:T.contains(document.activeElement))&&((ee=w.viewport)==null||ee.focus()),o()}),D=v.useCallback(W=>{!W||W===1/0||(window.clearTimeout(I.current),M.current=new Date().getTime(),I.current=window.setTimeout(O,W))},[O]);v.useEffect(()=>{const W=w.viewport;if(W){const ee=()=>{D(S.current),u==null||u()},Q=()=>{const re=new Date().getTime()-M.current;S.current=S.current-re,window.clearTimeout(I.current),l==null||l()};return W.addEventListener(Zm,Q),W.addEventListener(eg,ee),()=>{W.removeEventListener(Zm,Q),W.removeEventListener(eg,ee)}}},[w.viewport,N,l,u,D]),v.useEffect(()=>{s&&!w.isClosePausedRef.current&&D(N)},[s,N,w.isClosePausedRef,D]),v.useEffect(()=>(A(),()=>R()),[A,R]);const P=v.useMemo(()=>T?mb(T):null,[T]);return w.viewport?m.jsxs(m.Fragment,{children:[P&&m.jsx(uD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),m.jsx(aD,{scope:n,onClose:O,children:wc.createPortal(m.jsx(Zy.ItemSlot,{scope:n,children:m.jsx(HO,{asChild:!0,onEscapeKeyDown:ie(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||O(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ie(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:ie(t.onPointerMove,W=>{if(!b.current)return;const ee=W.clientX-b.current.x,Q=W.clientY-b.current.y,re=!!k.current,j=["left","right"].includes(w.swipeDirection),F=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,K=j?F(0,ee):0,q=j?0:F(0,Q),Y=W.pointerType==="touch"?10:2,te={x:K,y:q},Ie={originalEvent:W,delta:te};re?(k.current=te,yu(iD,f,Ie,{discrete:!1})):$_(te,w.swipeDirection,Y)?(k.current=te,yu(rD,d,Ie,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ee)>Y||Math.abs(Q)>Y)&&(b.current=null)}),onPointerUp:ie(t.onPointerUp,W=>{const ee=k.current,Q=W.target;if(Q.hasPointerCapture(W.pointerId)&&Q.releasePointerCapture(W.pointerId),k.current=null,b.current=null,ee){const re=W.currentTarget,j={originalEvent:W,delta:ee};$_(ee,w.swipeDirection,w.swipeThreshold)?yu(oD,y,j,{discrete:!0}):yu(sD,h,j,{discrete:!0}),re.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),uD=t=>{const{__scopeToast:e,children:n,...r}=t,i=Oh(Dh,e),[s,o]=v.useState(!1),[a,l]=v.useState(!1);return fD(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(Xy,{asChild:!0,children:m.jsx(Nh,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},dD="ToastTitle",cb=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Ee.div,{...r,ref:e})});cb.displayName=dD;var hD="ToastDescription",ub=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Ee.div,{...r,ref:e})});ub.displayName=hD;var db="ToastAction",hb=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(pb,{altText:n,asChild:!0,children:m.jsx(ev,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${db}\`. Expected non-empty \`string\`.`),null)});hb.displayName=db;var fb="ToastClose",ev=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=lD(fb,n);return m.jsx(pb,{asChild:!0,children:m.jsx(Ee.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,i.onClose)})})});ev.displayName=fb;var pb=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function mb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pD(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...mb(r))}}),e}function yu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Yy(i,s):i.dispatchEvent(s)}var $_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function fD(t=()=>{}){const e=Dt(t);Wn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function pD(t){return t.nodeType===t.ELEMENT_NODE}function mD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var gD=ib,gb=ob,yb=lb,vb=cb,wb=ub,_b=hb,Eb=ev;function xb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=xb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tv(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=xb(t))&&(r&&(r+=" "),r+=e);return r}const z_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,B_=tv,nv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return B_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=z_(d)||z_(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...y}=d;return Object.entries(y).every(x=>{let[w,T]=x;return Array.isArray(T)?T.includes({...s,...a}[w]):{...s,...a}[w]===T})?[...u,f,h]:u},[]);return B_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...vD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Tb("lucide",i),...a},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(wD,{ref:s,iconNode:e,className:Tb(`lucide-${yD(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Ve("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ve("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),rv="-",jD=t=>{const e=FD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(rv);return a[0]===""&&a.length!==1&&a.shift(),Cb(a,e)||VD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Cb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Cb(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(rv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},W_=/^\[(.+)\]$/,VD=t=>{if(W_.test(t)){const e=W_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $D(Object.entries(t.classGroups),n).forEach(([s,o])=>{ng(o,r,s,e)}),r},ng=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:q_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(UD(i)){ng(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ng(o,q_(e,s),n,r)})})},q_=(t,e)=>{let n=t;return e.split(rv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UD=t=>t.isThemeGetter,$D=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,zD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Ab="!",BD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let T=0;T<a.length;T++){let E=a[T];if(u===0){if(E===i&&(r||a.slice(T,T+s)===e)){l.push(a.slice(d,T)),d=T+s;continue}if(E==="/"){f=T;continue}}E==="["?u++:E==="]"&&u--}const h=l.length===0?a:a.substring(d),y=h.startsWith(Ab),x=y?h.substring(1):h,w=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},HD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WD=t=>({cache:zD(t.cacheSize),parseClassName:BD(t),...jD(t)}),qD=/\s+/,GD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(qD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=n(u);let x=!!y,w=r(x?h.substring(0,y):h);if(!w){if(!x){a=u+(a.length>0?" "+a:a);continue}if(w=r(h),!w){a=u+(a.length>0?" "+a:a);continue}x=!1}const T=HD(d).join(":"),E=f?T+Ab:T,_=E+w;if(s.includes(_))continue;s.push(_);const b=i(w,x);for(let k=0;k<b.length;++k){const N=b[k];s.push(E+N)}a=u+(a.length>0?" "+a:a)}return a};function KD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Rb(e))&&(r&&(r+=" "),r+=n);return r}const Rb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Rb(t[r]))&&(n&&(n+=" "),n+=e);return n};function QD(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=WD(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=GD(l,n);return i(l,d),d}return function(){return s(KD.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Pb=/^\[(?:([a-z-]+):)?(.+)\]$/i,YD=/^\d+\/\d+$/,XD=new Set(["px","full","screen"]),JD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>Ao(t)||XD.has(t)||YD.test(t),oi=t=>fa(t,"length",uM),Ao=t=>!!t&&!Number.isNaN(Number(t)),Sp=t=>fa(t,"number",Ao),Xa=t=>!!t&&Number.isInteger(Number(t)),rM=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),ue=t=>Pb.test(t),ai=t=>JD.test(t),iM=new Set(["length","size","percentage"]),sM=t=>fa(t,iM,kb),oM=t=>fa(t,"position",kb),aM=new Set(["image","url"]),lM=t=>fa(t,aM,hM),cM=t=>fa(t,"",dM),Ja=()=>!0,fa=(t,e,n)=>{const r=Pb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},uM=t=>ZD.test(t)&&!eM.test(t),kb=()=>!1,dM=t=>tM.test(t),hM=t=>nM.test(t),fM=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),i=Oe("borderColor"),s=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),l=Oe("contrast"),u=Oe("grayscale"),d=Oe("hueRotate"),f=Oe("invert"),h=Oe("gap"),y=Oe("gradientColorStops"),x=Oe("gradientColorStopPositions"),w=Oe("inset"),T=Oe("margin"),E=Oe("opacity"),_=Oe("padding"),b=Oe("saturate"),k=Oe("scale"),N=Oe("sepia"),M=Oe("skew"),S=Oe("space"),I=Oe("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ue,e],D=()=>[ue,e],P=()=>["",Cr,oi],W=()=>["auto",Ao,ue],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ue],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Ao,ue];return{cacheSize:500,separator:":",theme:{colors:[Ja],spacing:[Cr,oi],blur:["none","",ai,ue],brightness:q(),borderColor:[t],borderRadius:["none","","full",ai,ue],borderSpacing:D(),borderWidth:P(),contrast:q(),grayscale:F(),hueRotate:q(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[rM,oi],inset:O(),margin:O(),opacity:q(),padding:D(),saturate:q(),scale:q(),sepia:F(),skew:q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[ai]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xa,ue]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Xa,ue]}],"grid-cols":[{"grid-cols":[Ja]}],"col-start-end":[{col:["auto",{span:["full",Xa,ue]},ue]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Ja]}],"row-start-end":[{row:["auto",{span:[Xa,ue]},ue]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[ai]},ai]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ai,oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sp]}],"font-family":[{font:[Ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Ao,Sp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,oi]}],"underline-offset":[{"underline-offset":["auto",Cr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),oM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Cr,ue]}],"outline-w":[{outline:[Cr,oi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Cr,oi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ai,cM]}],"shadow-color":[{shadow:[Ja]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ai,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Xa,ue]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,oi,Sp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pM=QD(fM);function he(...t){return pM(tv(t))}const mM=gD,Nb=v.forwardRef(({className:t,...e},n)=>m.jsx(gb,{ref:n,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Nb.displayName=gb.displayName;const gM=nv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ob=v.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(yb,{ref:r,className:he(gM({variant:e}),t),...n}));Ob.displayName=yb.displayName;const yM=v.forwardRef(({className:t,...e},n)=>m.jsx(_b,{ref:n,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));yM.displayName=_b.displayName;const Db=v.forwardRef(({className:t,...e},n)=>m.jsx(Eb,{ref:n,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(Sb,{className:"h-4 w-4"})}));Db.displayName=Eb.displayName;const Mb=v.forwardRef(({className:t,...e},n)=>m.jsx(vb,{ref:n,className:he("text-sm font-semibold",t),...e}));Mb.displayName=vb.displayName;const Lb=v.forwardRef(({className:t,...e},n)=>m.jsx(wb,{ref:n,className:he("text-sm opacity-90",t),...e}));Lb.displayName=wb.displayName;function vM(){const{toasts:t}=JI();return m.jsxs(mM,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(Ob,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(Mb,{children:n}),r&&m.jsx(Lb,{children:r})]}),i,m.jsx(Db,{})]},e)}),m.jsx(Nb,{})]})}var G_=["light","dark"],wM="(prefers-color-scheme: dark)",_M=v.createContext(void 0),EM={setTheme:t=>{},themes:[]},xM=()=>{var t;return(t=v.useContext(_M))!=null?t:EM};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?G_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,w=!1,T=!0)=>{let E=o?o[x]:x,_=w?x+"|| ''":`'${E}'`,b="";return i&&T&&!w&&G_.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?w||E?b+=`c.add(${_})`:b+="null":E&&(b+=`d[s](n,${_})`),b},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${wM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var TM=t=>{switch(t){case"success":return SM;case"info":return AM;case"warning":return CM;case"error":return RM;default:return null}},IM=Array(12).fill(0),bM=({visible:t})=>B.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},B.createElement("div",{className:"sonner-spinner"},IM.map((e,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),SM=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CM=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),AM=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RM=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),PM=()=>{let[t,e]=B.useState(document.hidden);return B.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},rg=1,kM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:rg++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(OM(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||rg++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},nn=new kM,NM=(t,e)=>{let n=(e==null?void 0:e.id)||rg++;return nn.addToast({title:t,...e,id:n}),n},OM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",DM=NM,MM=()=>nn.toasts;Object.assign(DM,{success:nn.success,info:nn.info,warning:nn.warning,error:nn.error,custom:nn.custom,message:nn.message,promise:nn.promise,dismiss:nn.dismiss,loading:nn.loading},{getHistory:MM});function LM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}LM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vu(t){return t.label!==void 0}var jM=3,VM="32px",FM=4e3,UM=356,$M=14,zM=20,BM=200;function HM(...t){return t.filter(Boolean).join(" ")}var WM=t=>{var e,n,r,i,s,o,a,l,u,d;let{invert:f,toast:h,unstyled:y,interacting:x,setHeights:w,visibleToasts:T,heights:E,index:_,toasts:b,expanded:k,removeToast:N,defaultRichColors:M,closeButton:S,style:I,cancelButtonStyle:A,actionButtonStyle:R,className:O="",descriptionClassName:D="",duration:P,position:W,gap:ee,loadingIcon:Q,expandByDefault:re,classNames:j,icons:F,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:q,cn:Y}=t,[te,Ie]=B.useState(!1),[He,fe]=B.useState(!1),[Fe,Zt]=B.useState(!1),[et,Et]=B.useState(!1),[Er,Jn]=B.useState(0),[Rn,xr]=B.useState(0),Jr=B.useRef(null),Pn=B.useRef(null),Sa=_===0,Ca=_+1<=T,tt=h.type,Zn=h.dismissible!==!1,Dc=h.className||"",Mf=h.descriptionClassName||"",Zr=B.useMemo(()=>E.findIndex(ae=>ae.toastId===h.id)||0,[E,h.id]),Aa=B.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:S},[h.closeButton,S]),Ra=B.useMemo(()=>h.duration||P||FM,[h.duration,P]),nt=B.useRef(0),We=B.useRef(0),rs=B.useRef(0),Tr=B.useRef(null),[Pa,Lf]=W.split("-"),ei=B.useMemo(()=>E.reduce((ae,Ae,be)=>be>=Zr?ae:ae+Ae.height,0),[E,Zr]),ka=PM(),Mc=h.invert||f,is=tt==="loading";We.current=B.useMemo(()=>Zr*ee+ei,[Zr,ei]),B.useEffect(()=>{Ie(!0)},[]),B.useLayoutEffect(()=>{if(!te)return;let ae=Pn.current,Ae=ae.style.height;ae.style.height="auto";let be=ae.getBoundingClientRect().height;ae.style.height=Ae,xr(be),w(xt=>xt.find(Ht=>Ht.toastId===h.id)?xt.map(Ht=>Ht.toastId===h.id?{...Ht,height:be}:Ht):[{toastId:h.id,height:be,position:h.position},...xt])},[te,h.title,h.description,w,h.id]);let er=B.useCallback(()=>{fe(!0),Jn(We.current),w(ae=>ae.filter(Ae=>Ae.toastId!==h.id)),setTimeout(()=>{N(h)},BM)},[h,N,w,We]);B.useEffect(()=>{if(h.promise&&tt==="loading"||h.duration===1/0||h.type==="loading")return;let ae,Ae=Ra;return k||x||q&&ka?(()=>{if(rs.current<nt.current){let be=new Date().getTime()-nt.current;Ae=Ae-be}rs.current=new Date().getTime()})():Ae!==1/0&&(nt.current=new Date().getTime(),ae=setTimeout(()=>{var be;(be=h.onAutoClose)==null||be.call(h,h),er()},Ae)),()=>clearTimeout(ae)},[k,x,re,h,Ra,er,h.promise,tt,q,ka]),B.useEffect(()=>{let ae=Pn.current;if(ae){let Ae=ae.getBoundingClientRect().height;return xr(Ae),w(be=>[{toastId:h.id,height:Ae,position:h.position},...be]),()=>w(be=>be.filter(xt=>xt.toastId!==h.id))}},[w,h.id]),B.useEffect(()=>{h.delete&&er()},[er,h.delete]);function jf(){return F!=null&&F.loading?B.createElement("div",{className:"sonner-loader","data-visible":tt==="loading"},F.loading):Q?B.createElement("div",{className:"sonner-loader","data-visible":tt==="loading"},Q):B.createElement(bM,{visible:tt==="loading"})}return B.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Pn,className:Y(O,Dc,j==null?void 0:j.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[tt],(n=h==null?void 0:h.classNames)==null?void 0:n[tt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":te,"data-promise":!!h.promise,"data-removed":He,"data-visible":Ca,"data-y-position":Pa,"data-x-position":Lf,"data-index":_,"data-front":Sa,"data-swiping":Fe,"data-dismissible":Zn,"data-type":tt,"data-invert":Mc,"data-swipe-out":et,"data-expanded":!!(k||re&&te),style:{"--index":_,"--toasts-before":_,"--z-index":b.length-_,"--offset":`${He?Er:We.current}px`,"--initial-height":re?"auto":`${Rn}px`,...I,...h.style},onPointerDown:ae=>{is||!Zn||(Jr.current=new Date,Jn(We.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Zt(!0),Tr.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Ae,be,xt;if(et||!Zn)return;Tr.current=null;let Ht=Number(((ae=Pn.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ti=new Date().getTime()-((Ae=Jr.current)==null?void 0:Ae.getTime()),Ir=Math.abs(Ht)/ti;if(Math.abs(Ht)>=zM||Ir>.11){Jn(We.current),(be=h.onDismiss)==null||be.call(h,h),er(),Et(!0);return}(xt=Pn.current)==null||xt.style.setProperty("--swipe-amount","0px"),Zt(!1)},onPointerMove:ae=>{var Ae;if(!Tr.current||!Zn)return;let be=ae.clientY-Tr.current.y,xt=ae.clientX-Tr.current.x,Ht=(Pa==="top"?Math.min:Math.max)(0,be),ti=ae.pointerType==="touch"?10:2;Math.abs(Ht)>ti?(Ae=Pn.current)==null||Ae.style.setProperty("--swipe-amount",`${be}px`):Math.abs(xt)>ti&&(Tr.current=null)}},Aa&&!h.jsx?B.createElement("button",{"aria-label":K,"data-disabled":is,"data-close-button":!0,onClick:is||!Zn?()=>{}:()=>{var ae;er(),(ae=h.onDismiss)==null||ae.call(h,h)},className:Y(j==null?void 0:j.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||B.isValidElement(h.title)?h.jsx||h.title:B.createElement(B.Fragment,null,tt||h.icon||h.promise?B.createElement("div",{"data-icon":"",className:Y(j==null?void 0:j.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||jf():null,h.type!=="loading"?h.icon||(F==null?void 0:F[tt])||TM(tt):null):null,B.createElement("div",{"data-content":"",className:Y(j==null?void 0:j.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:Y(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?B.createElement("div",{"data-description":"",className:Y(D,Mf,j==null?void 0:j.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),B.isValidElement(h.cancel)?h.cancel:h.cancel&&vu(h.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ae=>{var Ae,be;vu(h.cancel)&&Zn&&((be=(Ae=h.cancel).onClick)==null||be.call(Ae,ae),er())},className:Y(j==null?void 0:j.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,B.isValidElement(h.action)?h.action:h.action&&vu(h.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ae=>{var Ae,be;vu(h.action)&&(ae.defaultPrevented||((be=(Ae=h.action).onClick)==null||be.call(Ae,ae),er()))},className:Y(j==null?void 0:j.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function K_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var qM=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=jM,toastOptions:y,dir:x=K_(),gap:w=$M,loadingIcon:T,icons:E,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:b,cn:k=HM}=t,[N,M]=B.useState([]),S=B.useMemo(()=>Array.from(new Set([n].concat(N.filter(q=>q.position).map(q=>q.position)))),[N,n]),[I,A]=B.useState([]),[R,O]=B.useState(!1),[D,P]=B.useState(!1),[W,ee]=B.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=B.useRef(null),re=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=B.useRef(null),F=B.useRef(!1),K=B.useCallback(q=>{var Y;(Y=N.find(te=>te.id===q.id))!=null&&Y.delete||nn.dismiss(q.id),M(te=>te.filter(({id:Ie})=>Ie!==q.id))},[N]);return B.useEffect(()=>nn.subscribe(q=>{if(q.dismiss){M(Y=>Y.map(te=>te.id===q.id?{...te,delete:!0}:te));return}setTimeout(()=>{YI.flushSync(()=>{M(Y=>{let te=Y.findIndex(Ie=>Ie.id===q.id);return te!==-1?[...Y.slice(0,te),{...Y[te],...q},...Y.slice(te+1)]:[q,...Y]})})})}),[]),B.useEffect(()=>{if(l!=="system"){ee(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{ee(q?"dark":"light")})},[l]),B.useEffect(()=>{N.length<=1&&O(!1)},[N]),B.useEffect(()=>{let q=Y=>{var te,Ie;r.every(He=>Y[He]||Y.code===He)&&(O(!0),(te=Q.current)==null||te.focus()),Y.code==="Escape"&&(document.activeElement===Q.current||(Ie=Q.current)!=null&&Ie.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),B.useEffect(()=>{if(Q.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,F.current=!1)}},[Q.current]),N.length?B.createElement("section",{"aria-label":`${_} ${re}`,tabIndex:-1},S.map((q,Y)=>{var te;let[Ie,He]=q.split("-");return B.createElement("ol",{key:q,dir:x==="auto"?K_():x,tabIndex:-1,ref:Q,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Ie,"data-x-position":He,style:{"--front-toast-height":`${((te=I[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||VM,"--width":`${UM}px`,"--gap":`${w}px`,...f},onBlur:fe=>{F.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(F.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||F.current||(F.current=!0,j.current=fe.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},N.filter(fe=>!fe.position&&Y===0||fe.position===q).map((fe,Fe)=>{var Zt,et;return B.createElement(WM,{key:fe.id,icons:E,index:Fe,toast:fe,defaultRichColors:u,duration:(Zt=y==null?void 0:y.duration)!=null?Zt:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(et=y==null?void 0:y.closeButton)!=null?et:s,interacting:D,position:q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:K,toasts:N.filter(Et=>Et.position==fe.position),heights:I.filter(Et=>Et.position==fe.position),setHeights:A,expandByDefault:i,gap:w,loadingIcon:T,expanded:R,pauseWhenPageIsHidden:b,cn:k})}))})):null};const GM=({...t})=>{const{theme:e="system"}=xM();return m.jsx(qM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var KM=Gx.useId||(()=>{}),QM=0;function Kl(t){const[e,n]=v.useState(KM());return Wn(()=>{n(r=>r??String(QM++))},[t]),e?`radix-${e}`:""}const YM=["top","right","bottom","left"],zi=Math.min,sn=Math.max,Od=Math.round,wu=Math.floor,Bi=t=>({x:t,y:t}),XM={left:"right",right:"left",bottom:"top",top:"bottom"},JM={start:"end",end:"start"};function ig(t,e,n){return sn(t,zi(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function pa(t){return t.split("-")[1]}function iv(t){return t==="x"?"y":"x"}function sv(t){return t==="y"?"height":"width"}function Hi(t){return["top","bottom"].includes(Br(t))?"y":"x"}function ov(t){return iv(Hi(t))}function ZM(t,e,n){n===void 0&&(n=!1);const r=pa(t),i=ov(t),s=sv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Dd(o)),[o,Dd(o)]}function eL(t){const e=Dd(t);return[sg(t),e,sg(e)]}function sg(t){return t.replace(/start|end/g,e=>JM[e])}function tL(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function nL(t,e,n,r){const i=pa(t);let s=tL(Br(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(sg)))),s}function Dd(t){return t.replace(/left|right|bottom|top/g,e=>XM[e])}function rL(t){return{top:0,right:0,bottom:0,left:0,...t}}function jb(t){return typeof t!="number"?rL(t):{top:t,right:t,bottom:t,left:t}}function Md(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Q_(t,e,n){let{reference:r,floating:i}=t;const s=Hi(e),o=ov(e),a=sv(o),l=Br(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(pa(e)){case"start":y[o]-=h*(n&&u?-1:1);break;case"end":y[o]+=h*(n&&u?-1:1);break}return y}const iL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Q_(u,r,l),h=r,y={},x=0;for(let w=0;w<a.length;w++){const{name:T,fn:E}=a[w],{x:_,y:b,data:k,reset:N}=await E({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=b??f,y={...y,[T]:{...y[T],...k}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:f}=Q_(u,h,l)),w=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:y}};async function Ql(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:y=0}=zr(e,t),x=jb(y),T=a[h?f==="floating"?"reference":"floating":f],E=Md(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Md(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:l}):_);return{top:(E.top-N.top+x.top)/k.y,bottom:(N.bottom-E.bottom+x.bottom)/k.y,left:(E.left-N.left+x.left)/k.x,right:(N.right-E.right+x.right)/k.x}}const sL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=zr(t,e)||{};if(u==null)return{};const f=jb(d),h={x:n,y:r},y=ov(i),x=sv(y),w=await o.getDimensions(u),T=y==="y",E=T?"top":"left",_=T?"bottom":"right",b=T?"clientHeight":"clientWidth",k=s.reference[x]+s.reference[y]-h[y]-s.floating[x],N=h[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=M?M[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(M)))&&(S=a.floating[b]||s.floating[x]);const I=k/2-N/2,A=S/2-w[x]/2-1,R=zi(f[E],A),O=zi(f[_],A),D=R,P=S-w[x]-O,W=S/2-w[x]/2+I,ee=ig(D,W,P),Q=!l.arrow&&pa(i)!=null&&W!==ee&&s.reference[x]/2-(W<D?R:O)-w[x]/2<0,re=Q?W<D?W-D:W-P:0;return{[y]:h[y]+re,data:{[y]:ee,centerOffset:W-ee-re,...Q&&{alignmentOffset:re}},reset:Q}}}),oL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...T}=zr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Br(i),_=Hi(a),b=Br(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(b||!w?[Dd(a)]:eL(a)),M=x!=="none";!h&&M&&N.push(...nL(a,w,x,k));const S=[a,...N],I=await Ql(e,T),A=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(I[E]),f){const W=ZM(i,o,k);A.push(I[W[0]],I[W[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(W=>W<=0)){var O,D;const W=(((O=s.flip)==null?void 0:O.index)||0)+1,ee=S[W];if(ee)return{data:{index:W,overflows:R},reset:{placement:ee}};let Q=(D=R.filter(re=>re.overflows[0]<=0).sort((re,j)=>re.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(y){case"bestFit":{var P;const re=(P=R.filter(j=>{if(M){const F=Hi(j.placement);return F===_||F==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((j,F)=>j[1]-F[1])[0])==null?void 0:P[0];re&&(Q=re);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function Y_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function X_(t){return YM.some(e=>t[e]>=0)}const aL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=zr(t,e);switch(r){case"referenceHidden":{const s=await Ql(e,{...i,elementContext:"reference"}),o=Y_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:X_(o)}}}case"escaped":{const s=await Ql(e,{...i,altBoundary:!0}),o=Y_(s,n.floating);return{data:{escapedOffsets:o,escaped:X_(o)}}}default:return{}}}}};async function lL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Br(n),a=pa(n),l=Hi(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=zr(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),l?{x:y*d,y:h*u}:{x:h*u,y:y*d}}const cL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await lL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},uL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:E,y:_}=T;return{x:E,y:_}}},...l}=zr(t,e),u={x:n,y:r},d=await Ql(e,l),f=Hi(Br(i)),h=iv(f);let y=u[h],x=u[f];if(s){const T=h==="y"?"top":"left",E=h==="y"?"bottom":"right",_=y+d[T],b=y-d[E];y=ig(_,y,b)}if(o){const T=f==="y"?"top":"left",E=f==="y"?"bottom":"right",_=x+d[T],b=x-d[E];x=ig(_,x,b)}const w=a.fn({...e,[h]:y,[f]:x});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:s,[f]:o}}}}}},dL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=zr(t,e),d={x:n,y:r},f=Hi(i),h=iv(f);let y=d[h],x=d[f];const w=zr(a,e),T=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const b=h==="y"?"height":"width",k=s.reference[h]-s.floating[b]+T.mainAxis,N=s.reference[h]+s.reference[b]-T.mainAxis;y<k?y=k:y>N&&(y=N)}if(u){var E,_;const b=h==="y"?"width":"height",k=["top","left"].includes(Br(i)),N=s.reference[f]-s.floating[b]+(k&&((E=o.offset)==null?void 0:E[f])||0)+(k?0:T.crossAxis),M=s.reference[f]+s.reference[b]+(k?0:((_=o.offset)==null?void 0:_[f])||0)-(k?T.crossAxis:0);x<N?x=N:x>M&&(x=M)}return{[h]:y,[f]:x}}}},hL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=zr(t,e),d=await Ql(e,u),f=Br(i),h=pa(i),y=Hi(i)==="y",{width:x,height:w}=s.floating;let T,E;f==="top"||f==="bottom"?(T=f,E=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,T=h==="end"?"top":"bottom");const _=w-d.top-d.bottom,b=x-d.left-d.right,k=zi(w-d[T],_),N=zi(x-d[E],b),M=!e.middlewareData.shift;let S=k,I=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),M&&!h){const R=sn(d.left,0),O=sn(d.right,0),D=sn(d.top,0),P=sn(d.bottom,0);y?I=x-2*(R!==0||O!==0?R+O:sn(d.left,d.right)):S=w-2*(D!==0||P!==0?D+P:sn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:S});const A=await o.getDimensions(a.floating);return x!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function Mh(){return typeof window<"u"}function ma(t){return Vb(t)?(t.nodeName||"").toLowerCase():"#document"}function cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _r(t){var e;return(e=(Vb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vb(t){return Mh()?t instanceof Node||t instanceof cn(t).Node:!1}function qn(t){return Mh()?t instanceof Element||t instanceof cn(t).Element:!1}function yr(t){return Mh()?t instanceof HTMLElement||t instanceof cn(t).HTMLElement:!1}function J_(t){return!Mh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cn(t).ShadowRoot}function _c(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function fL(t){return["table","td","th"].includes(ma(t))}function Lh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function av(t){const e=lv(),n=qn(t)?Gn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pL(t){let e=Wi(t);for(;yr(e)&&!ea(e);){if(av(e))return e;if(Lh(e))return null;e=Wi(e)}return null}function lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ea(t){return["html","body","#document"].includes(ma(t))}function Gn(t){return cn(t).getComputedStyle(t)}function jh(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wi(t){if(ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J_(t)&&t.host||_r(t);return J_(e)?e.host:e}function Fb(t){const e=Wi(t);return ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&_c(e)?e:Fb(e)}function Yl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Fb(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=cn(i);if(s){const a=og(o);return e.concat(o,o.visualViewport||[],_c(i)?i:[],a&&n?Yl(a):[])}return e.concat(i,Yl(i,[],n))}function og(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ub(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=yr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Od(n)!==s||Od(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function cv(t){return qn(t)?t:t.contextElement}function Ro(t){const e=cv(t);if(!yr(e))return Bi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Ub(e);let o=(s?Od(n.width):n.width)/r,a=(s?Od(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mL=Bi(0);function $b(t){const e=cn(t);return!lv()||!e.visualViewport?mL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cn(t)?!1:e}function Rs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=cv(t);let o=Bi(1);e&&(r?qn(r)&&(o=Ro(r)):o=Ro(t));const a=gL(s,n,r)?$b(s):Bi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=cn(s),y=r&&qn(r)?cn(r):r;let x=h,w=og(x);for(;w&&r&&y!==x;){const T=Ro(w),E=w.getBoundingClientRect(),_=Gn(w),b=E.left+(w.clientLeft+parseFloat(_.paddingLeft))*T.x,k=E.top+(w.clientTop+parseFloat(_.paddingTop))*T.y;l*=T.x,u*=T.y,d*=T.x,f*=T.y,l+=b,u+=k,x=cn(w),w=og(x)}}return Md({width:d,height:f,x:l,y:u})}function yL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=_r(r),a=e?Lh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Bi(1);const d=Bi(0),f=yr(r);if((f||!f&&!s)&&((ma(r)!=="body"||_c(o))&&(l=jh(r)),yr(r))){const h=Rs(r);u=Ro(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function vL(t){return Array.from(t.getClientRects())}function ag(t,e){const n=jh(t).scrollLeft;return e?e.left+n:Rs(_r(t)).left+n}function wL(t){const e=_r(t),n=jh(t),r=t.ownerDocument.body,i=sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ag(t);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(o+=sn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function _L(t,e){const n=cn(t),r=_r(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=lv();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function EL(t,e){const n=Rs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=yr(t)?Ro(t):Bi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Z_(t,e,n){let r;if(e==="viewport")r=_L(t,n);else if(e==="document")r=wL(_r(t));else if(qn(e))r=EL(e,n);else{const i=$b(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Md(r)}function zb(t,e){const n=Wi(t);return n===e||!qn(n)||ea(n)?!1:Gn(n).position==="fixed"||zb(n,e)}function xL(t,e){const n=e.get(t);if(n)return n;let r=Yl(t,[],!1).filter(a=>qn(a)&&ma(a)!=="body"),i=null;const s=Gn(t).position==="fixed";let o=s?Wi(t):t;for(;qn(o)&&!ea(o);){const a=Gn(o),l=av(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||_c(o)&&!l&&zb(t,o))?r=r.filter(d=>d!==o):i=a,o=Wi(o)}return e.set(t,r),r}function TL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Lh(e)?[]:xL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=Z_(e,d,i);return u.top=sn(f.top,u.top),u.right=zi(f.right,u.right),u.bottom=zi(f.bottom,u.bottom),u.left=sn(f.left,u.left),u},Z_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function IL(t){const{width:e,height:n}=Ub(t);return{width:e,height:n}}function bL(t,e,n){const r=yr(e),i=_r(e),s=n==="fixed",o=Rs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Bi(0);if(r||!r&&!s)if((ma(e)!=="body"||_c(i))&&(a=jh(e)),r){const y=Rs(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else i&&(l.x=ag(i));let u=0,d=0;if(i&&!r&&!s){const y=i.getBoundingClientRect();d=y.top+a.scrollTop,u=y.left+a.scrollLeft-ag(i,y)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Cp(t){return Gn(t).position==="static"}function e1(t,e){if(!yr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _r(t)===n&&(n=n.ownerDocument.body),n}function Bb(t,e){const n=cn(t);if(Lh(t))return n;if(!yr(t)){let i=Wi(t);for(;i&&!ea(i);){if(qn(i)&&!Cp(i))return i;i=Wi(i)}return n}let r=e1(t,e);for(;r&&fL(r)&&Cp(r);)r=e1(r,e);return r&&ea(r)&&Cp(r)&&!av(r)?n:r||pL(t)||n}const SL=async function(t){const e=this.getOffsetParent||Bb,n=this.getDimensions,r=await n(t.floating);return{reference:bL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CL(t){return Gn(t).direction==="rtl"}const AL={convertOffsetParentRelativeRectToViewportRelativeRect:yL,getDocumentElement:_r,getClippingRect:TL,getOffsetParent:Bb,getElementRects:SL,getClientRects:vL,getDimensions:IL,getScale:Ro,isElement:qn,isRTL:CL};function RL(t,e){let n=null,r;const i=_r(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const y=wu(d),x=wu(i.clientWidth-(u+f)),w=wu(i.clientHeight-(d+h)),T=wu(u),_={rootMargin:-y+"px "+-x+"px "+-w+"px "+-T+"px",threshold:sn(0,zi(1,l))||1};let b=!0;function k(N){const M=N[0].intersectionRatio;if(M!==l){if(!b)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,_)}n.observe(t)}return o(!0),s}function PL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=cv(t),d=i||s?[...u?Yl(u):[],...Yl(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=u&&a?RL(u,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(E=>{let[_]=E;_&&_.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let x,w=l?Rs(t):null;l&&T();function T(){const E=Rs(t);w&&(E.x!==w.x||E.y!==w.y||E.width!==w.width||E.height!==w.height)&&n(),w=E,x=requestAnimationFrame(T)}return n(),()=>{var E;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(x)}}const kL=cL,NL=uL,OL=oL,DL=hL,ML=aL,t1=sL,LL=dL,jL=(t,e,n)=>{const r=new Map,i={platform:AL,...n},s={...i.platform,_c:r};return iL(t,e,{...i,platform:s})};var Yu=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Ld(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ld(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ld(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Hb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function n1(t,e){const n=Hb(t);return Math.round(e*n)/n}function Ap(t){const e=v.useRef(t);return Yu(()=>{e.current=t}),e}function VL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=v.useState(r);Ld(h,r)||y(r);const[x,w]=v.useState(null),[T,E]=v.useState(null),_=v.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),b=v.useCallback(j=>{j!==S.current&&(S.current=j,E(j))},[]),k=s||x,N=o||T,M=v.useRef(null),S=v.useRef(null),I=v.useRef(d),A=l!=null,R=Ap(l),O=Ap(i),D=Ap(u),P=v.useCallback(()=>{if(!M.current||!S.current)return;const j={placement:e,strategy:n,middleware:h};O.current&&(j.platform=O.current),jL(M.current,S.current,j).then(F=>{const K={...F,isPositioned:D.current!==!1};W.current&&!Ld(I.current,K)&&(I.current=K,wc.flushSync(()=>{f(K)}))})},[h,e,n,O,D]);Yu(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const W=v.useRef(!1);Yu(()=>(W.current=!0,()=>{W.current=!1}),[]),Yu(()=>{if(k&&(M.current=k),N&&(S.current=N),k&&N){if(R.current)return R.current(k,N,P);P()}},[k,N,P,R,A]);const ee=v.useMemo(()=>({reference:M,floating:S,setReference:_,setFloating:b}),[_,b]),Q=v.useMemo(()=>({reference:k,floating:N}),[k,N]),re=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!Q.floating)return j;const F=n1(Q.floating,d.x),K=n1(Q.floating,d.y);return a?{...j,transform:"translate("+F+"px, "+K+"px)",...Hb(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:K}},[n,a,Q.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:P,refs:ee,elements:Q,floatingStyles:re}),[d,P,ee,Q,re])}const FL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?t1({element:r.current,padding:i}).fn(n):{}:r?t1({element:r,padding:i}).fn(n):{}}}},UL=(t,e)=>({...kL(t),options:[t,e]}),$L=(t,e)=>({...NL(t),options:[t,e]}),zL=(t,e)=>({...LL(t),options:[t,e]}),BL=(t,e)=>({...OL(t),options:[t,e]}),HL=(t,e)=>({...DL(t),options:[t,e]}),WL=(t,e)=>({...ML(t),options:[t,e]}),qL=(t,e)=>({...FL(t),options:[t,e]});var GL="Arrow",Wb=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(Ee.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wb.displayName=GL;var KL=Wb;function QL(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:y,...x}=f,w=(h==null?void 0:h[t][l])||a,T=v.useMemo(()=>x,Object.values(x));return m.jsx(w.Provider,{value:T,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,x=v.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,YL(i,...e)]}function YL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function XL(t){const[e,n]=v.useState(void 0);return Wn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var uv="Popper",[qb,Vh]=QL(uv),[JL,Gb]=qb(uv),Kb=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return m.jsx(JL,{scope:e,anchor:r,onAnchorChange:i,children:n})};Kb.displayName=uv;var Qb="PopperAnchor",Yb=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Gb(Qb,n),o=v.useRef(null),a=at(e,o);return v.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(Ee.div,{...i,ref:a})});Yb.displayName=Qb;var dv="PopperContent",[ZL,e4]=qb(dv),Xb=v.forwardRef((t,e)=>{var Fe,Zt,et,Et,Er,Jn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:x,...w}=t,T=Gb(dv,n),[E,_]=v.useState(null),b=at(e,Rn=>_(Rn)),[k,N]=v.useState(null),M=XL(k),S=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,A=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],D=O.length>0,P={padding:R,boundary:O.filter(n4),altBoundary:D},{refs:W,floatingStyles:ee,placement:Q,isPositioned:re,middlewareData:j}=VL({strategy:"fixed",placement:A,whileElementsMounted:(...Rn)=>PL(...Rn,{animationFrame:y==="always"}),elements:{reference:T.anchor},middleware:[UL({mainAxis:i+I,alignmentAxis:o}),l&&$L({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zL():void 0,...P}),l&&BL({...P}),HL({...P,apply:({elements:Rn,rects:xr,availableWidth:Jr,availableHeight:Pn})=>{const{width:Sa,height:Ca}=xr.reference,tt=Rn.floating.style;tt.setProperty("--radix-popper-available-width",`${Jr}px`),tt.setProperty("--radix-popper-available-height",`${Pn}px`),tt.setProperty("--radix-popper-anchor-width",`${Sa}px`),tt.setProperty("--radix-popper-anchor-height",`${Ca}px`)}}),k&&qL({element:k,padding:a}),r4({arrowWidth:S,arrowHeight:I}),h&&WL({strategy:"referenceHidden",...P})]}),[F,K]=eS(Q),q=Dt(x);Wn(()=>{re&&(q==null||q())},[re,q]);const Y=(Fe=j.arrow)==null?void 0:Fe.x,te=(Zt=j.arrow)==null?void 0:Zt.y,Ie=((et=j.arrow)==null?void 0:et.centerOffset)!==0,[He,fe]=v.useState();return Wn(()=>{E&&fe(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:re?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(Et=j.transformOrigin)==null?void 0:Et.x,(Er=j.transformOrigin)==null?void 0:Er.y].join(" "),...((Jn=j.hide)==null?void 0:Jn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(ZL,{scope:n,placedSide:F,onArrowChange:N,arrowX:Y,arrowY:te,shouldHideArrow:Ie,children:m.jsx(Ee.div,{"data-side":F,"data-align":K,...w,ref:b,style:{...w.style,animation:re?void 0:"none"}})})})});Xb.displayName=dv;var Jb="PopperArrow",t4={top:"bottom",right:"left",bottom:"top",left:"right"},Zb=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=e4(Jb,r),o=t4[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(KL,{...i,ref:n,style:{...i.style,display:"block"}})})});Zb.displayName=Jb;function n4(t){return t!==null}var r4=t=>({name:"transformOrigin",options:t,fn(e){var T,E,_;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=eS(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,y=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let x="",w="";return u==="bottom"?(x=o?f:`${h}px`,w=`${-l}px`):u==="top"?(x=o?f:`${h}px`,w=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,w=o?f:`${y}px`):u==="left"&&(x=`${r.floating.width+l}px`,w=o?f:`${y}px`),{data:{x,y:w}}}});function eS(t){const[e,n="center"]=t.split("-");return[e,n]}var i4=Kb,tS=Yb,nS=Xb,rS=Zb,[Fh,xG]=Fs("Tooltip",[Vh]),hv=Vh(),iS="TooltipProvider",s4=700,r1="tooltip.open",[o4,sS]=Fh(iS),oS=t=>{const{__scopeTooltip:e,delayDuration:n=s4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=v.useState(!0),l=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),m.jsx(o4,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};oS.displayName=iS;var aS="Tooltip",[TG,Uh]=Fh(aS),lg="TooltipTrigger",a4=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Uh(lg,n),s=sS(lg,n),o=hv(n),a=v.useRef(null),l=at(e,a,i.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.jsx(tS,{asChild:!0,...o,children:m.jsx(Ee.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ie(t.onBlur,i.onClose),onClick:ie(t.onClick,i.onClose)})})});a4.displayName=lg;var l4="TooltipPortal",[IG,c4]=Fh(l4,{forceMount:void 0}),ta="TooltipContent",lS=v.forwardRef((t,e)=>{const n=c4(ta,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Uh(ta,t.__scopeTooltip);return m.jsx(ns,{present:r||o.open,children:o.disableHoverableContent?m.jsx(cS,{side:i,...s,ref:e}):m.jsx(u4,{side:i,...s,ref:e})})}),u4=v.forwardRef((t,e)=>{const n=Uh(ta,t.__scopeTooltip),r=sS(ta,t.__scopeTooltip),i=v.useRef(null),s=at(e,i),[o,a]=v.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{a(null),f(!1)},[f]),y=v.useCallback((x,w)=>{const T=x.currentTarget,E={x:x.clientX,y:x.clientY},_=p4(E,T.getBoundingClientRect()),b=m4(E,_),k=g4(w.getBoundingClientRect()),N=v4([...b,...k]);a(N),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const x=T=>y(T,d),w=T=>y(T,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",w)}}},[l,d,y,h]),v.useEffect(()=>{if(o){const x=w=>{const T=w.target,E={x:w.clientX,y:w.clientY},_=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),b=!y4(E,o);_?h():b&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,h]),m.jsx(cS,{...t,ref:s})}),[d4,h4]=Fh(aS,{isInside:!1}),cS=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Uh(ta,n),u=hv(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(r1,d),()=>document.removeEventListener(r1,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),m.jsx(kh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:m.jsxs(nS,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(ZI,{children:r}),m.jsx(d4,{scope:n,isInside:!0,children:m.jsx(JO,{id:l.contentId,role:"tooltip",children:i||r})})]})})});lS.displayName=ta;var uS="TooltipArrow",f4=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=hv(n);return h4(uS,n).isInside?null:m.jsx(rS,{...i,...r,ref:e})});f4.displayName=uS;function p4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function m4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function g4(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function y4(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function v4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),w4(e)}function w4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _4=oS,dS=lS;const E4=_4,x4=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(dS,{ref:r,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));x4.displayName=dS.displayName;var $h=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zh=typeof window>"u"||"Deno"in globalThis;function Dn(){}function T4(t,e){return typeof t=="function"?t(e):t}function I4(t){return typeof t=="number"&&t>=0&&t!==1/0}function b4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function i1(t,e){return typeof t=="function"?t(e):t}function S4(t,e){return typeof t=="function"?t(e):t}function s1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==fv(o,e.options))return!1}else if(!Jl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function o1(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Xl(e.options.mutationKey)!==Xl(s))return!1}else if(!Jl(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function fv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xl)(t)}function Xl(t){return JSON.stringify(t,(e,n)=>cg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jl(t[n],e[n])):!1}function hS(t,e){if(t===e)return t;const n=a1(t)&&a1(e);if(n||cg(t)&&cg(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=hS(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function a1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function cg(t){if(!l1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!l1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function l1(t){return Object.prototype.toString.call(t)==="[object Object]"}function C4(t){return new Promise(e=>{setTimeout(e,t)})}function A4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?hS(t,e):e}function R4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function P4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var pv=Symbol();function fS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===pv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ys,vi,jo,Rx,k4=(Rx=class extends $h{constructor(){super();xe(this,ys);xe(this,vi);xe(this,jo);de(this,jo,e=>{if(!zh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,vi)||this.setEventListener(z(this,jo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,vi))==null||e.call(this),de(this,vi,void 0))}setEventListener(e){var n;de(this,jo,e),(n=z(this,vi))==null||n.call(this),de(this,vi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,ys)!==e&&(de(this,ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,ys)=="boolean"?z(this,ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ys=new WeakMap,vi=new WeakMap,jo=new WeakMap,Rx),pS=new k4,Vo,wi,Fo,Px,N4=(Px=class extends $h{constructor(){super();xe(this,Vo,!0);xe(this,wi);xe(this,Fo);de(this,Fo,e=>{if(!zh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,wi)||this.setEventListener(z(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,wi))==null||e.call(this),de(this,wi,void 0))}setEventListener(e){var n;de(this,Fo,e),(n=z(this,wi))==null||n.call(this),de(this,wi,e(this.setOnline.bind(this)))}setOnline(e){z(this,Vo)!==e&&(de(this,Vo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Vo)}},Vo=new WeakMap,wi=new WeakMap,Fo=new WeakMap,Px),jd=new N4;function O4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function D4(t){return Math.min(1e3*2**t,3e4)}function mS(t){return(t??"online")==="online"?jd.isOnline():!0}var gS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rp(t){return t instanceof gS}function yS(t){let e=!1,n=0,r=!1,i;const s=O4(),o=w=>{var T;r||(h(new gS(w)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>pS.isFocused()&&(t.networkMode==="always"||jd.isOnline())&&t.canRun(),d=()=>mS(t.networkMode)&&t.canRun(),f=w=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,w),i==null||i(),s.resolve(w))},h=w=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,w),i==null||i(),s.reject(w))},y=()=>new Promise(w=>{var T;i=E=>{(r||u())&&w(E)},(T=t.onPause)==null||T.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),x=()=>{if(r)return;let w;const T=n===0?t.initialPromise:void 0;try{w=T??t.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(f).catch(E=>{var M;if(r)return;const _=t.retry??(zh?0:3),b=t.retryDelay??D4,k=typeof b=="function"?b(n,E):b,N=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!N){h(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),C4(k).then(()=>u()?void 0:y()).then(()=>{e?h(E):x()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():y().then(x),s)}}function M4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ft=M4(),vs,kx,vS=(kx=class{constructor(){xe(this,vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I4(this.gcTime)&&de(this,vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zh?1/0:5*60*1e3))}clearGcTimeout(){z(this,vs)&&(clearTimeout(z(this,vs)),de(this,vs,void 0))}},vs=new WeakMap,kx),Uo,$o,pn,Rt,hc,ws,Mn,Ar,Nx,L4=(Nx=class extends vS{constructor(n){super();xe(this,Mn);xe(this,Uo);xe(this,$o);xe(this,pn);xe(this,Rt);xe(this,hc);xe(this,ws);de(this,ws,!1),de(this,hc,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,pn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,Uo,V4(this.options)),this.state=n.state??z(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Rt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,hc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,pn).remove(this)}setData(n,r){const i=A4(this.state.data,n,this.options);return bt(this,Mn,Ar).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){bt(this,Mn,Ar).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,Rt))==null?void 0:i.promise;return(s=z(this,Rt))==null||s.cancel(n),r?r.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Uo))}isActive(){return this.observers.some(n=>S4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!b4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Rt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Rt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Rt)&&(z(this,ws)?z(this,Rt).cancel({revert:!0}):z(this,Rt).cancelRetry()),this.scheduleGc()),z(this,pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bt(this,Mn,Ar).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Rt))return z(this,Rt).continueRetry(),z(this,Rt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,ws,!0),i.signal)})},o=()=>{const h=fS(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return s(y),de(this,ws,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),de(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&bt(this,Mn,Ar).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var y,x,w,T;Rp(h)&&h.silent||bt(this,Mn,Ar).call(this,{type:"error",error:h}),Rp(h)||((x=(y=z(this,pn).config).onError)==null||x.call(y,h,this),(T=(w=z(this,pn).config).onSettled)==null||T.call(w,this.state.data,h,this)),this.scheduleGc()};return de(this,Rt,yS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var y,x,w,T;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(E){l(E);return}(x=(y=z(this,pn).config).onSuccess)==null||x.call(y,h,this),(T=(w=z(this,pn).config).onSettled)==null||T.call(w,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,y)=>{bt(this,Mn,Ar).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{bt(this,Mn,Ar).call(this,{type:"pause"})},onContinue:()=>{bt(this,Mn,Ar).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Rt).start()}},Uo=new WeakMap,$o=new WeakMap,pn=new WeakMap,Rt=new WeakMap,hc=new WeakMap,ws=new WeakMap,Mn=new WeakSet,Ar=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...j4(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Rp(s)&&s.revert&&z(this,$o)?{...z(this,$o),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,pn).notify({query:this,type:"updated",action:n})})},Nx);function j4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function V4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ir,Ox,F4=(Ox=class extends $h{constructor(e={}){super();xe(this,ir);this.config=e,de(this,ir,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??fv(i,n);let o=this.get(s);return o||(o=new L4({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,ir).has(e.queryHash)||(z(this,ir).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,ir).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,ir).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,ir).get(e)}getAll(){return[...z(this,ir).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>s1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>s1(e,r)):n}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ir=new WeakMap,Ox),sr,jt,_s,or,ci,Dx,U4=(Dx=class extends vS{constructor(n){super();xe(this,or);xe(this,sr);xe(this,jt);xe(this,_s);this.mutationId=n.mutationId,de(this,jt,n.mutationCache),de(this,sr,[]),this.state=n.state||$4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,sr).includes(n)||(z(this,sr).push(n),this.clearGcTimeout(),z(this,jt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,sr,z(this,sr).filter(r=>r!==n)),this.scheduleGc(),z(this,jt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,sr).length||(this.state.status==="pending"?this.scheduleGc():z(this,jt).remove(this))}continue(){var n;return((n=z(this,_s))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,d,f,h,y,x,w,T,E,_,b,k,N,M,S,I;de(this,_s,yS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{bt(this,or,ci).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{bt(this,or,ci).call(this,{type:"pause"})},onContinue:()=>{bt(this,or,ci).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,jt).canRun(this)}));const r=this.state.status==="pending",i=!z(this,_s).canStart();try{if(!r){bt(this,or,ci).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,jt).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&bt(this,or,ci).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const A=await z(this,_s).start();return await((d=(u=z(this,jt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,n,this.state.context)),await((x=(y=z(this,jt).config).onSettled)==null?void 0:x.call(y,A,null,this.state.variables,this.state.context,this)),await((T=(w=this.options).onSettled)==null?void 0:T.call(w,A,null,n,this.state.context)),bt(this,or,ci).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(E=z(this,jt).config).onError)==null?void 0:_.call(E,A,n,this.state.context,this)),await((k=(b=this.options).onError)==null?void 0:k.call(b,A,n,this.state.context)),await((M=(N=z(this,jt).config).onSettled)==null?void 0:M.call(N,void 0,A,this.state.variables,this.state.context,this)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,void 0,A,n,this.state.context)),A}finally{bt(this,or,ci).call(this,{type:"error",error:A})}}finally{z(this,jt).runNext(this)}}},sr=new WeakMap,jt=new WeakMap,_s=new WeakMap,or=new WeakSet,ci=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{z(this,sr).forEach(i=>{i.onMutationUpdate(n)}),z(this,jt).notify({mutation:this,type:"updated",action:n})})},Dx);function $4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tn,fc,Mx,z4=(Mx=class extends $h{constructor(e={}){super();xe(this,tn);xe(this,fc);this.config=e,de(this,tn,new Map),de(this,fc,Date.now())}build(e,n,r){const i=new U4({mutationCache:this,mutationId:++Xc(this,fc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=_u(e),r=z(this,tn).get(n)??[];r.push(e),z(this,tn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=_u(e);if(z(this,tn).has(n)){const i=(r=z(this,tn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,tn).delete(n):z(this,tn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,tn).get(_u(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,tn).get(_u(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,tn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>o1(n,r))}findAll(e={}){return this.getAll().filter(n=>o1(e,n))}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ft.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dn))))}},tn=new WeakMap,fc=new WeakMap,Mx);function _u(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function c1(t){return{onFetch:(e,n)=>{var d,f,h,y,x;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const T=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},E=fS(e.options,e.fetchOptions),_=async(b,k,N)=>{if(w)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const M={queryKey:e.queryKey,pageParam:k,direction:N?"backward":"forward",meta:e.options.meta};T(M);const S=await E(M),{maxPages:I}=e.options,A=N?P4:R4;return{pages:A(b.pages,S,I),pageParams:A(b.pageParams,k,I)}};if(i&&s.length){const b=i==="backward",k=b?B4:u1,N={pages:s,pageParams:o},M=k(r,N);a=await _(N,M,b)}else{const b=t??s.length;do{const k=l===0?o[0]??r.initialPageParam:u1(r,a);if(l>0&&k==null)break;a=await _(a,k),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var w,T;return(T=(w=e.options).persister)==null?void 0:T.call(w,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function u1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function B4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ge,_i,Ei,zo,Bo,xi,Ho,Wo,Lx,H4=(Lx=class{constructor(t={}){xe(this,Ge);xe(this,_i);xe(this,Ei);xe(this,zo);xe(this,Bo);xe(this,xi);xe(this,Ho);xe(this,Wo);de(this,Ge,t.queryCache||new F4),de(this,_i,t.mutationCache||new z4),de(this,Ei,t.defaultOptions||{}),de(this,zo,new Map),de(this,Bo,new Map),de(this,xi,0)}mount(){Xc(this,xi)._++,z(this,xi)===1&&(de(this,Ho,pS.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ge).onFocus())})),de(this,Wo,jd.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ge).onOnline())})))}unmount(){var t,e;Xc(this,xi)._--,z(this,xi)===0&&((t=z(this,Ho))==null||t.call(this),de(this,Ho,void 0),(e=z(this,Wo))==null||e.call(this),de(this,Wo,void 0))}isFetching(t){return z(this,Ge).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,_i).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ge).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Ge).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(i1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Ge).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Ge).get(r.queryHash),s=i==null?void 0:i.state.data,o=T4(e,s);if(o!==void 0)return z(this,Ge).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ft.batch(()=>z(this,Ge).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ge).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Ge);Ft.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Ge),r={type:"active",...t};return Ft.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ft.batch(()=>z(this,Ge).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Dn).catch(Dn)}invalidateQueries(t={},e={}){return Ft.batch(()=>{if(z(this,Ge).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ft.batch(()=>z(this,Ge).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Dn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Ge).build(this,e);return n.isStaleByTime(i1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dn).catch(Dn)}fetchInfiniteQuery(t){return t.behavior=c1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dn).catch(Dn)}ensureInfiniteQueryData(t){return t.behavior=c1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jd.isOnline()?z(this,_i).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ge)}getMutationCache(){return z(this,_i)}getDefaultOptions(){return z(this,Ei)}setDefaultOptions(t){de(this,Ei,t)}setQueryDefaults(t,e){z(this,zo).set(Xl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,zo).values()];let n={};return e.forEach(r=>{Jl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Bo).set(Xl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Bo).values()];let n={};return e.forEach(r=>{Jl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ei).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===pv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ei).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Ge).clear(),z(this,_i).clear()}},Ge=new WeakMap,_i=new WeakMap,Ei=new WeakMap,zo=new WeakMap,Bo=new WeakMap,xi=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Lx),W4=v.createContext(void 0),q4=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(W4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const d1="popstate";function G4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ug("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_S(i)}return Q4(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K4(){return Math.random().toString(36).substr(2,8)}function h1(t,e){return{usr:t.state,key:t.key,idx:e}}function ug(t,e,n,r){return n===void 0&&(n=null),Vd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bh(e):e,{state:n,key:e&&e.key||r||K4()})}function _S(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Vd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=bi.Pop;let T=d(),E=T==null?null:T-u;u=T,l&&l({action:a,location:w.location,delta:E})}function h(T,E){a=bi.Push;let _=ug(w.location,T,E);u=d()+1;let b=h1(_,u),k=w.createHref(_);try{o.pushState(b,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(k)}s&&l&&l({action:a,location:w.location,delta:1})}function y(T,E){a=bi.Replace;let _=ug(w.location,T,E);u=d();let b=h1(_,u),k=w.createHref(_);o.replaceState(b,"",k),s&&l&&l({action:a,location:w.location,delta:0})}function x(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof T=="string"?T:_S(T);return _=_.replace(/ $/,"%20"),Jt(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let w={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d1,f),l=T,()=>{i.removeEventListener(d1,f),l=null}},createHref(T){return e(i,T)},createURL:x,encodeLocation(T){let E=x(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:h,replace:y,go(T){return o.go(T)}};return w}var f1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(f1||(f1={}));function Y4(t,e,n){return n===void 0&&(n="/"),X4(t,e,n,!1)}function X4(t,e,n,r){let i=typeof e=="string"?Bh(e):e,s=TS(i.pathname||"/",n);if(s==null)return null;let o=ES(t);J4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=cj(s);a=aj(o[l],u,r)}return a}function ES(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Po([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Jt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ES(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sj(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of xS(s.path))i(s,o,l)}),e}function xS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=xS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function J4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Z4=/^:[\w-]+$/,ej=3,tj=2,nj=1,rj=10,ij=-2,p1=t=>t==="*";function sj(t,e){let n=t.split("/"),r=n.length;return n.some(p1)&&(r+=ij),e&&(r+=tj),n.filter(i=>!p1(i)).reduce((i,s)=>i+(Z4.test(s)?ej:s===""?nj:rj),r)}function oj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aj(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=m1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=m1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Po([s,f.pathname]),pathnameBase:uj(Po([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Po([s,f.pathnameBase]))}return o}function m1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[f];return y&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function lj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function TS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),uj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function dj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IS=["post","put","patch","delete"];new Set(IS);const hj=["get",...IS];new Set(hj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}const fj=v.createContext(null),pj=v.createContext(null),bS=v.createContext(null),Hh=v.createContext(null),Wh=v.createContext({outlet:null,matches:[],isDataRoute:!1}),SS=v.createContext(null);function mv(){return v.useContext(Hh)!=null}function CS(){return mv()||Jt(!1),v.useContext(Hh).location}function mj(t,e){return gj(t,e)}function gj(t,e,n,r){mv()||Jt(!1);let{navigator:i}=v.useContext(bS),{matches:s}=v.useContext(Wh),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=CS(),d;if(e){var f;let T=typeof e=="string"?Bh(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||Jt(!1),d=T}else d=u;let h=d.pathname||"/",y=h;if(l!=="/"){let T=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=Y4(t,{pathname:y}),w=Ej(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Po([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Po([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&w?v.createElement(Hh.Provider,{value:{location:Fd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bi.Pop}},w):w}function yj(){let t=bj(),e=dj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const vj=v.createElement(yj,null);class wj extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Wh.Provider,{value:this.props.routeContext},v.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _j(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(fj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Wh.Provider,{value:e},r)}function Ej(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Jt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let y,x=!1,w=null,T=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||vj,l&&(u<0&&h===0?(x=!0,T=null):u===h&&(x=!0,T=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,h+1)),_=()=>{let b;return y?b=w:x?b=T:f.route.Component?b=v.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,v.createElement(_j,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(wj,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var dg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dg||{});function xj(t){let e=v.useContext(pj);return e||Jt(!1),e}function Tj(t){let e=v.useContext(Wh);return e||Jt(!1),e}function Ij(t){let e=Tj(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function bj(){var t;let e=v.useContext(SS),n=xj(dg.UseRouteError),r=Ij(dg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hg(t){Jt(!1)}function Sj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:s,static:o=!1,future:a}=t;mv()&&Jt(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Fd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Bh(r));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:x="default"}=r,w=v.useMemo(()=>{let T=TS(d,l);return T==null?null:{location:{pathname:T,search:f,hash:h,state:y,key:x},navigationType:i}},[l,d,f,h,y,x,i]);return w==null?null:v.createElement(bS.Provider,{value:u},v.createElement(Hh.Provider,{children:n,value:w}))}function Cj(t){let{children:e,location:n}=t;return mj(fg(e),n)}new Promise(()=>{});function fg(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,fg(r.props.children,s));return}r.type!==hg&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Aj="6";try{window.__reactRouterVersion=Aj}catch{}const Rj="startTransition",g1=Gx[Rj];function Pj(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=G4({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&g1?g1(()=>l(f)):l(f)},[l,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(Sj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var y1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(y1||(y1={}));var v1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v1||(v1={}));const kj=nv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Zo:"button";return m.jsx(o,{className:he(kj({variant:e,size:n,className:t})),ref:s,...i})});Xe.displayName="Button";const yn=v.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yn.displayName="Card";const Nj=v.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",t),...e}));Nj.displayName="CardHeader";const Oj=v.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));Oj.displayName="CardTitle";const pg=v.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",t),...e}));pg.displayName="CardDescription";const mg=v.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("p-6 pt-0",t),...e}));mg.displayName="CardContent";const Dj=v.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",t),...e}));Dj.displayName="CardFooter";const Mj="/assets/hero-bg-Grn_XkpW.jpg",Pp=()=>m.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Mj})`},children:m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/95 via-background/80 to-background/95"})}),m.jsxs("div",{className:"absolute inset-0 opacity-20",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-primary/30 rounded-full blur-3xl animate-pulse-glow"}),m.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-48 h-48 bg-accent/20 rounded-full blur-3xl animate-pulse-glow",style:{animationDelay:"1s"}}),m.jsx("div",{className:"absolute top-1/2 right-1/3 w-24 h-24 bg-primary/40 rounded-full blur-2xl animate-pulse-glow",style:{animationDelay:"2s"}})]}),m.jsx("div",{className:"relative z-10 container mx-auto px-6 text-center",children:m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-sm text-primary font-medium",children:[m.jsx(El,{className:"w-4 h-4"}),"AI-Powered Tax Optimization"]}),m.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r from-foreground via-primary to-accent bg-clip-text text-transparent leading-tight",children:"FinSight"}),m.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Your AI investment advisor that works 24/7 to find tax-saving opportunities and optimize your portfolio"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[m.jsxs(Xe,{size:"lg",className:"bg-gradient-primary hover:opacity-90 text-white shadow-glow transition-all duration-300 hover:scale-105",children:[m.jsx(LD,{className:"w-5 h-5 mr-2"}),"Start Optimizing"]}),m.jsx(Xe,{variant:"outline",size:"lg",className:"border-border/50 hover:bg-card transition-all duration-300",children:"Watch Demo"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-16",children:[m.jsxs(yn,{className:"p-6 bg-gradient-card border-border/50 hover:shadow-glow transition-all duration-500 hover:scale-105",children:[m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-primary p-2.5 mb-4",children:m.jsx(El,{className:"w-full h-full text-white"})}),m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"AI Tax Advisor"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:"Chat with our AI to get personalized tax-saving strategies and investment advice"})]}),m.jsxs(yn,{className:"p-6 bg-gradient-card border-border/50 hover:shadow-glow transition-all duration-500 hover:scale-105",children:[m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-success p-2.5 mb-4",children:m.jsx(xl,{className:"w-full h-full text-white"})}),m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Smart Analytics"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:"Real-time portfolio tracking with LTCG/STCG optimization and wash-sale prevention"})]}),m.jsxs(yn,{className:"p-6 bg-gradient-card border-border/50 hover:shadow-glow transition-all duration-500 hover:scale-105",children:[m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-primary p-2.5 mb-4",children:m.jsx(bb,{className:"w-full h-full text-white"})}),m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Secure & Private"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:"Bank-grade security with encrypted data and compliance with Indian tax regulations"})]})]})]})})]}),Lj=nv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jj({className:t,variant:e,...n}){return m.jsx("div",{className:he(Lj({variant:e}),t),...n})}const Vj=()=>{const[t,e]=v.useState("1Y"),[n,r]=v.useState([]),[i,s]=v.useState(!0),[o,a]=v.useState("");v.useEffect(()=>{s(!0),fetch("/api/holdings").then(d=>d.json()).then(d=>{r(d),s(!1)}).catch(d=>{a("Failed to fetch holdings"),s(!1)})},[]);const l={totalValue:525e4,totalReturns:65e4,returnsPercentage:14.1,ltcgHarvested:125e3,stcgHarvested:45e3,potentialSavings:89e3},u=[{id:1,type:"LTCG Harvesting",stock:"RELIANCE",potential:25e3,deadline:"15 days",risk:"low",description:"Harvest long-term capital gains to offset future liabilities"},{id:2,type:"Tax Loss Harvesting",stock:"TATASTEEL",potential:18e3,deadline:"7 days",risk:"medium",description:"Book losses to reduce taxable income for FY 2024-25"},{id:3,type:"STCG Optimization",stock:"INFY",potential:12e3,deadline:"30 days",risk:"low",description:"Optimize short-term gains timing for better tax efficiency"}];return m.jsxs("div",{className:"min-h-screen bg-background p-6 space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[m.jsxs(yn,{className:"p-6 bg-gradient-card border-border/50",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Portfolio Value"}),m.jsxs("p",{className:"text-2xl font-bold",children:["",(l.totalValue/1e5).toFixed(1),"L"]})]}),m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-primary p-2.5",children:m.jsx(Ib,{className:"w-full h-full text-white"})})]}),m.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[m.jsx(xl,{className:"w-4 h-4 text-green-500"}),m.jsxs("span",{className:"text-sm text-green-500",children:["+",l.returnsPercentage,"%"]})]})]}),m.jsx(yn,{className:"p-6 bg-gradient-card border-border/50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Returns"}),m.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",(l.totalReturns/1e5).toFixed(1),"L"]})]}),m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-success p-2.5",children:m.jsx(xl,{className:"w-full h-full text-white"})})]})}),m.jsx(yn,{className:"p-6 bg-gradient-card border-border/50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Tax Saved (YTD)"}),m.jsxs("p",{className:"text-2xl font-bold text-accent",children:["",(l.ltcgHarvested/1e3).toFixed(0),"K"]})]}),m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-primary p-2.5",children:m.jsx(bb,{className:"w-full h-full text-white"})})]})}),m.jsx(yn,{className:"p-6 bg-gradient-card border-border/50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Savings"}),m.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",(l.potentialSavings/1e3).toFixed(0),"K"]})]}),m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-primary p-2.5",children:m.jsx(DD,{className:"w-full h-full text-white"})})]})})]}),m.jsxs(yn,{className:"p-6 bg-gradient-card border-border/50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold",children:" Tax Opportunities"}),m.jsx(jj,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:"3 Active"})]}),m.jsx("div",{className:"space-y-4",children:u.map(d=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-card/50 border border-border/50 hover:bg-card/80 transition-all duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${d.risk==="low"?"bg-green-500":d.risk==="medium"?"bg-yellow-500":"bg-red-500"}`}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:d.type}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.stock,"  ",d.description]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-medium text-green-500",children:["",(d.potential/1e3).toFixed(0),"K"]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:d.deadline})]}),m.jsx(Xe,{size:"sm",className:"bg-gradient-primary hover:opacity-90",children:"Execute"})]})]},d.id))})]}),m.jsxs(yn,{className:"p-6 bg-gradient-card border-border/50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold",children:" Top Holdings"}),m.jsx("div",{className:"flex gap-2",children:["1M","3M","6M","1Y"].map(d=>m.jsx(Xe,{variant:t===d?"default":"outline",size:"sm",onClick:()=>e(d),className:t===d?"bg-gradient-primary":"",children:d},d))})]}),i&&m.jsx("div",{children:"Loading holdings..."}),o&&m.jsx("div",{className:"text-red-500",children:o}),m.jsx("div",{className:"space-y-3",children:n.map((d,f)=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-card/50 border border-border/50",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center text-white font-bold",children:f+1}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:d.name}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["",(d.value/1e5).toFixed(1),"L"]})]})]}),m.jsxs("div",{className:`flex items-center gap-1 ${d.returns>=0?"text-green-500":"text-red-500"}`,children:[d.returns>=0?m.jsx(xl,{className:"w-4 h-4"}):m.jsx(MD,{className:"w-4 h-4"}),m.jsxs("span",{className:"font-medium",children:[d.returns>=0?"+":"",d.returns,"%"]})]})]},d.name))})]})]})},Eo=v.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Eo.displayName="Input";const Fj=()=>{};var w1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Uj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(h=64)),r.push(n[d],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new $j;const h=s<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zj=function(t){const e=AS(t);return RS.encodeByteArray(e,!0)},Ud=function(t){return zj(t).replace(/\./g,"")},PS=function(t){try{return RS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=()=>Bj().__FIREBASE_DEFAULTS__,Wj=()=>{if(typeof process>"u"||typeof w1>"u")return;const t=w1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PS(t[1]);return e&&JSON.parse(e)},qh=()=>{try{return Fj()||Hj()||Wj()||qj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kS=t=>{var e,n;return(n=(e=qh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Gj=t=>{const e=kS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NS=()=>{var t;return(t=qh())==null?void 0:t.config},OS=t=>{var e;return(e=qh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ud(JSON.stringify(n)),Ud(JSON.stringify(o)),""].join(".")}const Il={};function Yj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?t.emulator.push(e):t.prod.push(e);return t}function Xj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _1=!1;function MS(t,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||Il[t]===e||Il[t]||_1)return;Il[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=Yj().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{_1=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Xj(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),w=n("learnmore"),T=document.getElementById(w)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),d(T,w);const k=u();l(_,E),b.append(_,x,T,k),document.body.appendChild(b)}s?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function Zj(){var e;const t=(e=qh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nV(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rV(){return!Zj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function VS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function iV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sV,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Us.prototype.create)}}class Us{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?oV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,a,r)}}function oV(t,e){return t.replace(aV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aV=/\{\$([^}]+)}/g;function lV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(E1(s)&&E1(o)){if(!qi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cV(t,e){const n=new uV(t,e);return n.subscribe.bind(n)}class uV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kp),i.error===void 0&&(i.error=kp),i.complete===void 0&&(i.complete=kp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1e3,fV=2,pV=4*60*60*1e3,mV=.5;function x1(t,e=hV,n=fV){const r=e*Math.pow(n,t),i=Math.round(mV*r*(Math.random()-.5)*2);return Math.min(pV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class Kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vV(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yV(t){return t===us?void 0:t}function vV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const _V={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},EV=me.INFO,xV={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},TV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gh{constructor(e){this.name=e,this._logLevel=EV,this._logHandler=TV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const IV=(t,e)=>e.some(n=>t instanceof n);let T1,I1;function bV(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,gg=new WeakMap,US=new WeakMap,Np=new WeakMap,gv=new WeakMap;function CV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FS.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function AV(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gg.set(t,e)}let yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||US.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RV(t){yg=t(yg)}function PV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Op(this),e,...n);return US.set(r,e.sort?e.sort():[e]),Mi(r)}:SV().includes(t)?function(...e){return t.apply(Op(this),e),Mi(FS.get(this))}:function(...e){return Mi(t.apply(Op(this),e))}}function kV(t){return typeof t=="function"?PV(t):(t instanceof IDBTransaction&&AV(t),IV(t,bV())?new Proxy(t,yg):t)}function Mi(t){if(t instanceof IDBRequest)return CV(t);if(Np.has(t))return Np.get(t);const e=kV(t);return e!==t&&(Np.set(t,e),gv.set(e,t)),e}const Op=t=>gv.get(t);function $S(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const NV=["get","getKey","getAll","getAllKeys","count"],OV=["put","add","delete","clear"],Dp=new Map;function b1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dp.get(e))return Dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Dp.set(e,s),s}RV(t=>({...t,get:(e,n,r)=>b1(e,n)||t.get(e,n,r),has:(e,n)=>!!b1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vg="@firebase/app",S1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Gh("@firebase/app"),LV="@firebase/app-compat",jV="@firebase/analytics-compat",VV="@firebase/analytics",FV="@firebase/app-check-compat",UV="@firebase/app-check",$V="@firebase/auth",zV="@firebase/auth-compat",BV="@firebase/database",HV="@firebase/data-connect",WV="@firebase/database-compat",qV="@firebase/functions",GV="@firebase/functions-compat",KV="@firebase/installations",QV="@firebase/installations-compat",YV="@firebase/messaging",XV="@firebase/messaging-compat",JV="@firebase/performance",ZV="@firebase/performance-compat",eF="@firebase/remote-config",tF="@firebase/remote-config-compat",nF="@firebase/storage",rF="@firebase/storage-compat",iF="@firebase/firestore",sF="@firebase/ai",oF="@firebase/firestore-compat",aF="firebase",lF="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="[DEFAULT]",cF={[vg]:"fire-core",[LV]:"fire-core-compat",[VV]:"fire-analytics",[jV]:"fire-analytics-compat",[UV]:"fire-app-check",[FV]:"fire-app-check-compat",[$V]:"fire-auth",[zV]:"fire-auth-compat",[BV]:"fire-rtdb",[HV]:"fire-data-connect",[WV]:"fire-rtdb-compat",[qV]:"fire-fn",[GV]:"fire-fn-compat",[KV]:"fire-iid",[QV]:"fire-iid-compat",[YV]:"fire-fcm",[XV]:"fire-fcm-compat",[JV]:"fire-perf",[ZV]:"fire-perf-compat",[eF]:"fire-rc",[tF]:"fire-rc-compat",[nF]:"fire-gcs",[rF]:"fire-gcs-compat",[iF]:"fire-fst",[oF]:"fire-fst-compat",[sF]:"fire-vertex","fire-js":"fire-js",[aF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,uF=new Map,_g=new Map;function C1(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){const e=t.name;if(_g.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,t);for(const n of $d.values())C1(n,t);for(const n of uF.values())C1(n,t);return!0}function $s(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Us("app","Firebase",dF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=lF;function zS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=NS()),!n)throw Li.create("no-options");const s=$d.get(i);if(s){if(qi(n,s.options)&&qi(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new wV(i);for(const l of _g.values())o.addComponent(l);const a=new hF(n,r,o);return $d.set(i,a),a}function yv(t=wg){const e=$d.get(t);if(!e&&t===wg&&NS())return zS();if(!e)throw Li.create("no-app",{appName:t});return e}function Tn(t,e,n){let r=cF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(o.join(" "));return}vr(new Kn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="firebase-heartbeat-database",pF=1,Zl="firebase-heartbeat-store";let Mp=null;function BS(){return Mp||(Mp=$S(fF,pF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),Mp}async function mF(t){try{const n=(await BS()).transaction(Zl),r=await n.objectStore(Zl).get(HS(t));return await n.done,r}catch(e){if(e instanceof Yn)Hr.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function A1(t,e){try{const r=(await BS()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,HS(t)),await r.done}catch(n){if(n instanceof Yn)Hr.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function HS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=1024,yF=30;class vF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _F(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yF){const o=EF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:i}=wF(this._heartbeatsCache.heartbeats),s=Ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hr.warn(n),""}}}function R1(){return new Date().toISOString().substring(0,10)}function wF(t,e=gF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),P1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _F{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?VS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function P1(t){return Ud(JSON.stringify({version:2,heartbeats:t})).length}function EF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){vr(new Kn("platform-logger",e=>new DV(e),"PRIVATE")),vr(new Kn("heartbeat",e=>new vF(e),"PRIVATE")),Tn(vg,S1,t),Tn(vg,S1,"esm2020"),Tn("fire-js","")}xF("");var TF="firebase",IF="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn(TF,IF,"app");function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bF=WS,qS=new Us("auth","Firebase",WS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Gh("@firebase/auth");function SF(t,...e){zd.logLevel<=me.WARN&&zd.warn(`Auth (${ya}): ${t}`,...e)}function Xu(t,...e){zd.logLevel<=me.ERROR&&zd.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw wv(t,...e)}function Bn(t,...e){return wv(t,...e)}function vv(t,e,n){const r={...bF(),[e]:n};return new Us("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return vv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(t,"argument-error"),vv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qS.create(t,...e)}function se(t,e,...n){if(!t)throw wv(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function Wr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function AF(){return k1()==="http:"||k1()==="https:"}function k1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AF()||LS()||"connection"in navigator)?navigator.onLine:!0}function PF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=Jj()||tV()}get(){return RF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OF=new xc(3e4,6e4);function Qr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xn(t,e,n,r,i={}){return KS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ec({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return eV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ga(t.emulatorConfig.host)&&(u.credentials="include"),GS.fetch()(await QS(t,t.config.apiHost,n,a),u)})}async function KS(t,e,n){t._canInitEmulator=!1;const r={...kF,...e};try{const i=new MF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Eu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Eu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Eu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vv(t,d,u);Cn(t,d)}}catch(i){if(i instanceof Yn)throw i;Cn(t,"network-request-failed",{message:String(i)})}}async function Tc(t,e,n,r,i={}){const s=await Xn(t,e,n,r,i);return"mfaPendingCredential"in s&&Cn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function QS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?_v(t.config,i):`${t.config.apiScheme}://${i}`;return NF.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function DF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),OF.get())})}}function Eu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bn(t,e,r);return i.customData._tokenResponse=n,i}function N1(t){return t!==void 0&&t.enterprise!==void 0}class LF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jF(t,e){return Xn(t,"GET","/v2/recaptchaConfig",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(t,e){return Xn(t,"POST","/v1/accounts:delete",e)}async function Bd(t,e){return Xn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FF(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),i=Ev(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bl(Lp(i.auth_time)),issuedAtTime:bl(Lp(i.iat)),expirationTime:bl(Lp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lp(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const i=PS(n);return i?JSON.parse(i):(Xu("Failed to decode base64 JWT payload"),null)}catch(i){return Xu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function O1(t){const e=Ev(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&UF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ps(t,Bd(e,{idToken:n}));se(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?YS(i.providerUserInfo):[],o=BF(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function zF(t){const e=Qe(t);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e){const n=await KS(t,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await QS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ga(t.emulatorConfig.host)&&(l.credentials="include"),GS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WF(t,e){return Xn(t,"POST","/v2/accounts:revokeToken",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=O1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ko;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $F(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ps(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FF(this,e)}reload(){return zF(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await Ps(this,VF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:y,providerData:x,stsTokenManager:w}=n;se(f&&w,e,"internal-error");const T=ko.fromJSON(this.name,w);se(typeof f=="string",e,"internal-error"),li(r,e.name),li(i,e.name),se(typeof h=="boolean",e,"internal-error"),se(typeof y=="boolean",e,"internal-error"),li(s,e.name),li(o,e.name),li(a,e.name),li(l,e.name),li(u,e.name),li(d,e.name);const E=new Fn({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:T,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(E.providerData=x.map(_=>({..._}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new ko;i.updateFromServerResponse(n);const s=new Fn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?YS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ko;a.updateFromIdToken(r);const l=new Fn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map;function Dr(t){Wr(t instanceof Function,"Expected a class definition");let e=D1.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XS.type="NONE";const M1=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ju(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ju("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Dr(M1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Dr(M1);const o=Ju(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Bd(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Fn._fromGetAccountInfoResponse(e,h,d)}else f=Fn._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new No(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rC(e))return"Blackberry";if(iC(e))return"Webos";if(ZS(e))return"Safari";if((e.includes("chrome/")||eC(e))&&!e.includes("edge/"))return"Chrome";if(nC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JS(t=Mt()){return/firefox\//i.test(t)}function ZS(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eC(t=Mt()){return/crios\//i.test(t)}function tC(t=Mt()){return/iemobile/i.test(t)}function nC(t=Mt()){return/android/i.test(t)}function rC(t=Mt()){return/blackberry/i.test(t)}function iC(t=Mt()){return/webos/i.test(t)}function xv(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qF(t=Mt()){var e;return xv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function GF(){return nV()&&document.documentMode===10}function sC(t=Mt()){return xv(t)||nC(t)||iC(t)||rC(t)||/windows phone/i.test(t)||tC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e=[]){let n;switch(t){case"Browser":n=L1(Mt());break;case"Worker":n=`${L1(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t,e={}){return Xn(t,"GET","/v2/passwordPolicy",Qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=6;class XF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new KF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(on(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Lr(this));const n=e?Qe(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QF(this),n=new XF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Us("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&SF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yr(t){return Qe(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=cV(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZF(t){Kh=t}function aC(t){return Kh.loadJS(t)}function e5(){return Kh.recaptchaEnterpriseScript}function t5(){return Kh.gapiScript}function n5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class r5{constructor(){this.enterprise=new i5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const s5="recaptcha-enterprise",lC="NO_RECAPTCHA";class o5{constructor(e){this.type=s5,this.auth=Yr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{jF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new LF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;N1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(lC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&N1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=e5();l.length!==0&&(l+=a),aC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function V1(t,e,n,r=!1,i=!1){const s=new o5(t);let o;if(i)o=lC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wd(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await V1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await V1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t,e){const n=$s(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(qi(s,e??{}))return i;Cn(i,"already-initialized")}return n.initialize({options:e})}function l5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c5(t,e,n){const r=Yr(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=cC(e),{host:o,port:a}=u5(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(qi(u,r.config.emulator)&&qi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ga(o)?(DS(`${s}//${o}${l}`),MS("Auth",!0)):d5()}function cC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u5(t){const e=cC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:F1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:F1(o)}}}function F1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function h5(t,e){return Xn(t,"POST","/v1/accounts:update",e)}async function f5(t,e){return Xn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e){return Tc(t,"POST","/v1/accounts:signInWithPassword",Qr(t,e))}async function m5(t,e){return Xn(t,"POST","/v1/accounts:sendOobCode",Qr(t,e))}async function g5(t,e){return m5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}async function v5(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Tv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ec(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,n,"signInWithPassword",p5);case"emailLink":return y5(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,r,"signUpPassword",f5);case"emailLink":return v5(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return Tc(t,"POST","/v1/accounts:signInWithIdp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="http://localhost";class ks extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ks(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:w5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E5(t){const e=il(sl(t)).link,n=e?il(sl(e)).deep_link_id:null,r=il(sl(t)).deep_link_id;return(r?il(sl(r)).link:null)||r||n||e||t}class Iv{constructor(e){const n=il(sl(e)),r=n.apiKey??null,i=n.oobCode??null,s=_5(n.mode??null);se(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=E5(e);try{return new Iv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.providerId=zs.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Iv.parseLink(n);return se(r,"argument-error"),ec._fromEmailAndCode(e,r.code,r.tenantId)}}zs.PROVIDER_ID="password";zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends bv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Ic{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vn.credential(n,r)}catch{return null}}}Vn.GOOGLE_SIGN_IN_METHOD="google.com";Vn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Ic{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Ic{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e){return Tc(t,"POST","/v1/accounts:signUp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fn._fromIdTokenResponse(e,r,i),o=U1(r);return new Ns({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U1(r);return new Ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Yn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qd(e,n,r,i)}}function uC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(t,s,e,r):s})}async function T5(t,e,n=!1){const r=await Ps(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const s=await Ps(t,uC(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=Ev(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Ns._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(t,e,n=!1){if(on(t.app))return Promise.reject(Lr(t));const r="signIn",i=await uC(t,r,e),s=await Ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function I5(t,e){return hC(Yr(t),e)}async function b5(t,e){return dC(Qe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t){const e=Yr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S5(t,e,n){const r=Yr(t);await Wd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g5)}async function C5(t,e,n){if(on(t.app))return Promise.reject(Lr(t));const r=Yr(t),o=await Wd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fC(t),l}),a=await Ns._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function A5(t,e,n){return on(t.app)?Promise.reject(Lr(t)):I5(Qe(t),zs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){return Xn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ps(r,R5(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function P5(t,e){return k5(Qe(t),null,e)}async function k5(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Ps(t,h5(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e){return Qe(t).setPersistence(e)}function N5(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function O5(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function Qh(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function mC(t){return Qe(t).signOut()}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=1e3,M5=10;class yC extends gC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);GF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yC.type="LOCAL";const Tg=yC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends gC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vC.type="SESSION";const Kd=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await L5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Sv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function V5(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function F5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $5(){return wC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebaseLocalStorageDb",z5=1,Qd="firebaseLocalStorage",EC="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function B5(){const t=indexedDB.deleteDatabase(_C);return new bc(t).toPromise()}function Ig(){const t=indexedDB.open(_C,z5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qd,{keyPath:EC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qd)?e(r):(r.close(),await B5(),e(await Ig()))})})}async function z1(t,e,n){const r=Xh(t,!0).put({[EC]:e,value:n});return new bc(r).toPromise()}async function H5(t,e){const n=Xh(t,!1).get(e),r=await new bc(n).toPromise();return r===void 0?null:r.value}function B1(t,e){const n=Xh(t,!0).delete(e);return new bc(n).toPromise()}const W5=800,q5=3;class xC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance($5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await F5(),!this.activeServiceWorker)return;this.sender=new j5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await z1(e,Gd,"1"),await B1(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>z1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xh(i,!1).getAll();return new bc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xC.type="LOCAL";const G5=xC;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e){return e?Dr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K5(t){return hC(t.auth,new Cv(t),t.bypassAuthState)}function Q5(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),dC(n,new Cv(t),t.bypassAuthState)}async function Y5(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),T5(n,new Cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K5;case"linkViaPopup":case"linkViaRedirect":return Y5;case"reauthViaPopup":case"reauthViaRedirect":return Q5;default:Cn(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new xc(2e3,1e4);async function Av(t,e,n){if(on(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const r=Yr(t);CF(t,e,bv);const i=TC(r,n);return new ps(r,"signInViaPopup",e,i).executeNotNull()}class ps extends IC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X5.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="pendingRedirect",Zu=new Map;class Z5 extends IC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const r=await e3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e3(t,e){const n=r3(e),r=n3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function t3(t,e){Zu.set(t._key(),e)}function n3(t){return Dr(t._redirectPersistence)}function r3(t){return Ju(J5,t.config.apiKey,t.name)}async function i3(t,e,n=!1){if(on(t.app))return Promise.reject(Lr(t));const r=Yr(t),i=TC(r,e),o=await new Z5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=10*60*1e3;class o3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s3&&this.cachedEventUids.clear(),this.cachedEventUids.has(H1(e))}saveEventToCache(e){this.cachedEventUids.add(H1(e)),this.lastProcessedEventTime=Date.now()}}function H1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e={}){return Xn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u3=/^https?/;async function d3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l3(t);for(const n of e)try{if(h3(n))return}catch{}Cn(t,"unauthorized-domain")}function h3(t){const e=Eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!u3.test(n))return!1;if(c3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new xc(3e4,6e4);function W1(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p3(t){return new Promise((e,n)=>{var i,s,o;function r(){W1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W1(),n(Bn(t,"network-request-failed"))},timeout:f3.get()})}if((s=(i=dr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=dr().gapi)!=null&&o.load)r();else{const a=n5("iframefcb");return dr()[a]=()=>{gapi.load?r():n(Bn(t,"network-request-failed"))},aC(`${t5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ed=null,e})}let ed=null;function m3(t){return ed=ed||p3(t),ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new xc(5e3,15e3),y3="__/auth/iframe",v3="emulator/auth/iframe",w3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E3(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_v(e,v3):`https://${t.config.authDomain}/${y3}`,r={apiKey:e.apiKey,appName:t.name,v:ya},i=_3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ec(r).slice(1)}`}async function x3(t){const e=await m3(t),n=dr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:E3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),a=dr().setTimeout(()=>{s(o)},g3.get());function l(){dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I3=500,b3=600,S3="_blank",C3="http://localhost";class q1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A3(t,e,n,r=I3,i=b3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...T3,width:r.toString(),height:i.toString(),top:s,left:o},u=Mt().toLowerCase();n&&(a=eC(u)?S3:n),JS(u)&&(e=e||C3,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[y,x])=>`${h}${y}=${x},`,"");if(qF(u)&&a!=="_self")return R3(e||"",a),new q1(null);const f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new q1(f)}function R3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__/auth/handler",k3="emulator/auth/handler",N3=encodeURIComponent("fac");async function G1(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:i};if(e instanceof bv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Ic){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${N3}=${encodeURIComponent(l)}`:"";return`${O3(t)}?${Ec(a).slice(1)}${u}`}function O3({config:t}){return t.emulator?_v(t,k3):`https://${t.authDomain}/${P3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class D3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kd,this._completeRedirectFn=i3,this._overrideRedirectResult=t3}async _openPopup(e,n,r,i){var o;Wr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await G1(e,n,r,Eg(),i);return A3(e,s,Sv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await G1(e,n,r,Eg(),i);return V5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x3(e),r=new o3(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jp,{type:jp},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[jp];s!==void 0&&n(!!s),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sC()||ZS()||xv()}}const M3=D3;var K1="@firebase/auth",Q1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V3(t){vr(new Kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oC(t)},u=new JF(r,i,s,l);return l5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new Kn("auth-internal",e=>{const n=Yr(e.getProvider("auth").getImmediate());return(r=>new L3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(K1,Q1,j3(t)),Tn(K1,Q1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=5*60,U3=OS("authIdTokenMaxAge")||F3;let Y1=null;const $3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U3)return;const i=n==null?void 0:n.token;Y1!==i&&(Y1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SC(t=yv()){const e=$s(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a5(t,{popupRedirectResolver:M3,persistence:[G5,Tg,Kd]}),r=OS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=$3(s.toString());O5(n,o,()=>o(n.currentUser)),N5(n,a=>o(a))}}const i=kS("auth");return i&&c5(n,`http://${i}`),n}function z3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ZF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",z3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V3("Browser");const CC="@firebase/installations",Rv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1e4,RC=`w:${Rv}`,PC="FIS_v2",B3="https://firebaseinstallations.googleapis.com/v1",H3=60*60*1e3,W3="installations",q3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Os=new Us(W3,q3,G3);function kC(t){return t instanceof Yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC({projectId:t}){return`${B3}/projects/${t}/installations`}function OC(t){return{token:t.token,requestStatus:2,expiresIn:Q3(t.expiresIn),creationTime:Date.now()}}async function DC(t,e){const r=(await e.json()).error;return Os.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function MC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function K3(t,{refreshToken:e}){const n=MC(t);return n.append("Authorization",Y3(e)),n}async function LC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q3(t){return Number(t.replace("s","000"))}function Y3(t){return`${PC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NC(t),i=MC(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:PC,appId:t.appId,sdkVersion:RC},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await LC(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:OC(u.authToken)}}else throw await DC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^[cdef][\w-]{21}$/,bg="";function e6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=t6(t);return Z3.test(n)?n:bg}catch{return bg}}function t6(t){return J3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Map;function FC(t,e){const n=Jh(t);UC(n,e),n6(n,e)}function UC(t,e){const n=VC.get(t);if(n)for(const r of n)r(e)}function n6(t,e){const n=r6();n&&n.postMessage({key:t,fid:e}),i6()}let ms=null;function r6(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=t=>{UC(t.data.key,t.data.fid)}),ms}function i6(){VC.size===0&&ms&&(ms.close(),ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="firebase-installations-database",o6=1,Ds="firebase-installations-store";let Vp=null;function Pv(){return Vp||(Vp=$S(s6,o6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ds)}}})),Vp}async function Yd(t,e){const n=Jh(t),i=(await Pv()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&FC(t,e.fid),e}async function $C(t){const e=Jh(t),r=(await Pv()).transaction(Ds,"readwrite");await r.objectStore(Ds).delete(e),await r.done}async function Zh(t,e){const n=Jh(t),i=(await Pv()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&FC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kv(t){let e;const n=await Zh(t.appConfig,r=>{const i=a6(r),s=l6(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function a6(t){const e=t||{fid:e6(),registrationStatus:0};return zC(e)}function l6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Os.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=c6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:u6(t)}:{installationEntry:e}}async function c6(t,e){try{const n=await X3(t,e);return Yd(t.appConfig,n)}catch(n){throw kC(n)&&n.customData.serverCode===409?await $C(t.appConfig):await Yd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function u6(t){let e=await X1(t.appConfig);for(;e.registrationStatus===1;)await jC(100),e=await X1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await kv(t);return r||n}return e}function X1(t){return Zh(t,e=>{if(!e)throw Os.create("installation-not-found");return zC(e)})}function zC(t){return d6(t)?{fid:t.fid,registrationStatus:0}:t}function d6(t){return t.registrationStatus===1&&t.registrationTime+AC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6({appConfig:t,heartbeatServiceProvider:e},n){const r=f6(t,n),i=K3(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:RC,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await LC(()=>fetch(r,a));if(l.ok){const u=await l.json();return OC(u)}else throw await DC("Generate Auth Token",l)}function f6(t,{fid:e}){return`${NC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(t,e=!1){let n;const r=await Zh(t.appConfig,s=>{if(!BC(s))throw Os.create("not-registered");const o=s.authToken;if(!e&&g6(o))return s;if(o.requestStatus===1)return n=p6(t,e),s;{if(!navigator.onLine)throw Os.create("app-offline");const a=v6(s);return n=m6(t,a),a}});return n?await n:r.authToken}async function p6(t,e){let n=await J1(t.appConfig);for(;n.authToken.requestStatus===1;)await jC(100),n=await J1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Nv(t,e):r}function J1(t){return Zh(t,e=>{if(!BC(e))throw Os.create("not-registered");const n=e.authToken;return w6(n)?{...e,authToken:{requestStatus:0}}:e})}async function m6(t,e){try{const n=await h6(t,e),r={...e,authToken:n};return await Yd(t.appConfig,r),n}catch(n){if(kC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $C(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Yd(t.appConfig,r)}throw n}}function BC(t){return t!==void 0&&t.registrationStatus===2}function g6(t){return t.requestStatus===2&&!y6(t)}function y6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H3}function v6(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function w6(t){return t.requestStatus===1&&t.requestTime+AC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t){const e=t,{installationEntry:n,registrationPromise:r}=await kv(e);return r?r.catch(console.error):Nv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t,e=!1){const n=t;return await x6(n),(await Nv(n,e)).token}async function x6(t){const{registrationPromise:e}=await kv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){if(!t||!t.options)throw Fp("App Configuration");if(!t.name)throw Fp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fp(t){return Os.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="installations",I6="installations-internal",b6=t=>{const e=t.getProvider("app").getImmediate(),n=T6(e),r=$s(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},S6=t=>{const e=t.getProvider("app").getImmediate(),n=$s(e,HC).getImmediate();return{getId:()=>_6(n),getToken:i=>E6(n,i)}};function C6(){vr(new Kn(HC,b6,"PUBLIC")),vr(new Kn(I6,S6,"PRIVATE"))}C6();Tn(CC,Rv);Tn(CC,Rv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="analytics",A6="firebase_id",R6="origin",P6=60*1e3,k6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ov="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new Gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},un=new Us("analytics","Analytics",N6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){if(!t.startsWith(Ov)){const e=un.create("invalid-gtag-resource",{gtagURL:t});return Xt.warn(e.message),""}return t}function WC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function D6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function M6(t,e){const n=D6("firebase-js-sdk-policy",{createScriptURL:O6}),r=document.createElement("script"),i=`${Ov}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function L6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function j6(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await WC(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Xt.error(a)}t("config",i,s)}async function V6(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await WC(n);for(const l of o){const u=a.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Xt.error(s)}}function F6(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await V6(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await j6(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Xt.error(a)}}return i}function U6(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=F6(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function $6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ov)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=30,B6=1e3;class H6{constructor(e={},n=B6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qC=new H6;function W6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function q6(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:W6(n)},i=k6.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw un.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function G6(t,e=qC,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw un.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw un.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Y6;return setTimeout(async()=>{a.abort()},P6),GC({appId:r,apiKey:i,measurementId:s},o,a,e)}async function GC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=qC){var a;const{appId:s,measurementId:o}=t;try{await K6(r,e)}catch(l){if(o)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await q6(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!Q6(u)){if(i.deleteThrottleMetadata(s),o)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw l}const d=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?x1(n,i.intervalMillis,z6):x1(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,f),Xt.debug(`Calling attemptFetch again in ${d} millis`),GC(t,f,r,i)}}function K6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Q6(t){if(!(t instanceof Yn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Y6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function X6(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(){if(jS())try{await VS()}catch(t){return Xt.warn(un.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xt.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Z6(t,e,n,r,i,s,o){const a=G6(t);a.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Xt.error(h)),e.push(a);const l=J6().then(h=>{if(h)return r.getId()}),[u,d]=await Promise.all([a,l]);$6(s)||M6(s,u.measurementId),i("js",new Date);const f=(o==null?void 0:o.config)??{};return f[R6]="firebase",f.update=!0,d!=null&&(f[A6]=d),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.app=e}_delete(){return delete Sl[this.app.options.appId],Promise.resolve()}}let Sl={},Z1=[];const eE={};let Up="dataLayer",tU="gtag",tE,KC,nE=!1;function nU(){const t=[];if(LS()&&t.push("This is a browser extension environment."),iV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=un.create("invalid-analytics-context",{errorInfo:e});Xt.warn(n.message)}}function rU(t,e,n){nU();const r=t.options.appId;if(!r)throw un.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw un.create("no-api-key");if(Sl[r]!=null)throw un.create("already-exists",{id:r});if(!nE){L6(Up);const{wrappedGtag:s,gtagCore:o}=U6(Sl,Z1,eE,Up,tU);KC=s,tE=o,nE=!0}return Sl[r]=Z6(t,Z1,eE,e,tE,Up,n),new eU(t)}function iU(t=yv()){t=Qe(t);const e=$s(t,Xd);return e.isInitialized()?e.getImmediate():sU(t)}function sU(t,e={}){const n=$s(t,Xd);if(n.isInitialized()){const i=n.getImmediate();if(qi(e,n.getOptions()))return i;throw un.create("already-initialized")}return n.initialize({options:e})}function oU(t,e,n,r){t=Qe(t),X6(KC,Sl[t.app.options.appId],e,n,r).catch(i=>Xt.error(i))}const rE="@firebase/analytics",iE="0.10.18";function aU(){vr(new Kn(Xd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return rU(r,i,n)},"PUBLIC")),vr(new Kn("analytics-internal",t,"PRIVATE")),Tn(rE,iE),Tn(rE,iE,"esm2020");function t(e){try{const n=e.getProvider(Xd).getImmediate();return{logEvent:(r,i,s)=>oU(n,r,i,s)}}catch(n){throw un.create("interop-component-reg-failed",{reason:n})}}}aU();var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,QC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function A(){}A.prototype=I.prototype,S.D=I.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(R,O,D){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return I.prototype[O].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,A){A||(A=0);var R=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)R[O]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(O=0;16>O;++O)R[O]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=S.g[0],A=S.g[1],O=S.g[2];var D=S.g[3],P=I+(D^A&(O^D))+R[0]+3614090360&4294967295;I=A+(P<<7&4294967295|P>>>25),P=D+(O^I&(A^O))+R[1]+3905402710&4294967295,D=I+(P<<12&4294967295|P>>>20),P=O+(A^D&(I^A))+R[2]+606105819&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(I^O&(D^I))+R[3]+3250441966&4294967295,A=O+(P<<22&4294967295|P>>>10),P=I+(D^A&(O^D))+R[4]+4118548399&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(O^I&(A^O))+R[5]+1200080426&4294967295,D=I+(P<<12&4294967295|P>>>20),P=O+(A^D&(I^A))+R[6]+2821735955&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(I^O&(D^I))+R[7]+4249261313&4294967295,A=O+(P<<22&4294967295|P>>>10),P=I+(D^A&(O^D))+R[8]+1770035416&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(O^I&(A^O))+R[9]+2336552879&4294967295,D=I+(P<<12&4294967295|P>>>20),P=O+(A^D&(I^A))+R[10]+4294925233&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(I^O&(D^I))+R[11]+2304563134&4294967295,A=O+(P<<22&4294967295|P>>>10),P=I+(D^A&(O^D))+R[12]+1804603682&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(O^I&(A^O))+R[13]+4254626195&4294967295,D=I+(P<<12&4294967295|P>>>20),P=O+(A^D&(I^A))+R[14]+2792965006&4294967295,O=D+(P<<17&4294967295|P>>>15),P=A+(I^O&(D^I))+R[15]+1236535329&4294967295,A=O+(P<<22&4294967295|P>>>10),P=I+(O^D&(A^O))+R[1]+4129170786&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(I^A))+R[6]+3225465664&4294967295,D=I+(P<<9&4294967295|P>>>23),P=O+(I^A&(D^I))+R[11]+643717713&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(O^D))+R[0]+3921069994&4294967295,A=O+(P<<20&4294967295|P>>>12),P=I+(O^D&(A^O))+R[5]+3593408605&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(I^A))+R[10]+38016083&4294967295,D=I+(P<<9&4294967295|P>>>23),P=O+(I^A&(D^I))+R[15]+3634488961&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(O^D))+R[4]+3889429448&4294967295,A=O+(P<<20&4294967295|P>>>12),P=I+(O^D&(A^O))+R[9]+568446438&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(I^A))+R[14]+3275163606&4294967295,D=I+(P<<9&4294967295|P>>>23),P=O+(I^A&(D^I))+R[3]+4107603335&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(O^D))+R[8]+1163531501&4294967295,A=O+(P<<20&4294967295|P>>>12),P=I+(O^D&(A^O))+R[13]+2850285829&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^O&(I^A))+R[2]+4243563512&4294967295,D=I+(P<<9&4294967295|P>>>23),P=O+(I^A&(D^I))+R[7]+1735328473&4294967295,O=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(O^D))+R[12]+2368359562&4294967295,A=O+(P<<20&4294967295|P>>>12),P=I+(A^O^D)+R[5]+4294588738&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^O)+R[8]+2272392833&4294967295,D=I+(P<<11&4294967295|P>>>21),P=O+(D^I^A)+R[11]+1839030562&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^I)+R[14]+4259657740&4294967295,A=O+(P<<23&4294967295|P>>>9),P=I+(A^O^D)+R[1]+2763975236&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^O)+R[4]+1272893353&4294967295,D=I+(P<<11&4294967295|P>>>21),P=O+(D^I^A)+R[7]+4139469664&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^I)+R[10]+3200236656&4294967295,A=O+(P<<23&4294967295|P>>>9),P=I+(A^O^D)+R[13]+681279174&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^O)+R[0]+3936430074&4294967295,D=I+(P<<11&4294967295|P>>>21),P=O+(D^I^A)+R[3]+3572445317&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^I)+R[6]+76029189&4294967295,A=O+(P<<23&4294967295|P>>>9),P=I+(A^O^D)+R[9]+3654602809&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^O)+R[12]+3873151461&4294967295,D=I+(P<<11&4294967295|P>>>21),P=O+(D^I^A)+R[15]+530742520&4294967295,O=D+(P<<16&4294967295|P>>>16),P=A+(O^D^I)+R[2]+3299628645&4294967295,A=O+(P<<23&4294967295|P>>>9),P=I+(O^(A|~D))+R[0]+4096336452&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~O))+R[7]+1126891415&4294967295,D=I+(P<<10&4294967295|P>>>22),P=O+(I^(D|~A))+R[14]+2878612391&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~I))+R[5]+4237533241&4294967295,A=O+(P<<21&4294967295|P>>>11),P=I+(O^(A|~D))+R[12]+1700485571&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~O))+R[3]+2399980690&4294967295,D=I+(P<<10&4294967295|P>>>22),P=O+(I^(D|~A))+R[10]+4293915773&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~I))+R[1]+2240044497&4294967295,A=O+(P<<21&4294967295|P>>>11),P=I+(O^(A|~D))+R[8]+1873313359&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~O))+R[15]+4264355552&4294967295,D=I+(P<<10&4294967295|P>>>22),P=O+(I^(D|~A))+R[6]+2734768916&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~I))+R[13]+1309151649&4294967295,A=O+(P<<21&4294967295|P>>>11),P=I+(O^(A|~D))+R[4]+4149444226&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~O))+R[11]+3174756917&4294967295,D=I+(P<<10&4294967295|P>>>22),P=O+(I^(D|~A))+R[2]+718787259&4294967295,O=D+(P<<15&4294967295|P>>>17),P=A+(D^(O|~I))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var A=I-this.blockSize,R=this.B,O=this.h,D=0;D<I;){if(O==0)for(;D<=A;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<I;)if(R[O++]=S.charCodeAt(D++),O==this.blockSize){i(this,R),O=0;break}}else for(;D<I;)if(R[O++]=S[D++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var A=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=A&255,A/=256;for(this.u(S),S=Array(16),I=A=0;4>I;++I)for(var R=0;32>R;R+=8)S[A++]=this.g[I]>>>R&255;return S};function s(S,I){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=I(S)}function o(S,I){this.h=I;for(var A=[],R=!0,O=S.length-1;0<=O;O--){var D=S[O]|0;R&&D==I||(A[O]=D,R=!1)}this.g=A}var a={};function l(S){return-128<=S&&128>S?s(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return T(u(-S));for(var I=[],A=1,R=0;S>=A;R++)I[R]=S/A|0,A*=4294967296;return new o(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return T(d(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(I,8)),R=f,O=0;O<S.length;O+=8){var D=Math.min(8,S.length-O),P=parseInt(S.substring(O,O+D),I);8>D?(D=u(Math.pow(I,D)),R=R.j(D).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=l(0),h=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var S=0,I=1,A=0;A<this.g.length;A++){var R=this.i(A);S+=(0<=R?R:4294967296+R)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(w(this))return"-"+T(this).toString(S);for(var I=u(Math.pow(S,6)),A=this,R="";;){var O=k(A,I).g;A=E(A,O.j(I));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=O,x(A))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=E(this,S),w(S)?-1:x(S)?0:1};function T(S){for(var I=S.g.length,A=[],R=0;R<I;R++)A[R]=~S.g[R];return new o(A,~S.h).add(h)}t.abs=function(){return w(this)?T(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),A=[],R=0,O=0;O<=I;O++){var D=R+(this.i(O)&65535)+(S.i(O)&65535),P=(D>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);R=P>>>16,D&=65535,P&=65535,A[O]=P<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(S,I){return S.add(T(I))}t.j=function(S){if(x(this)||x(S))return f;if(w(this))return w(S)?T(this).j(T(S)):T(T(this).j(S));if(w(S))return T(this.j(T(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,A=[],R=0;R<2*I;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<S.g.length;O++){var D=this.i(R)>>>16,P=this.i(R)&65535,W=S.i(O)>>>16,ee=S.i(O)&65535;A[2*R+2*O]+=P*ee,_(A,2*R+2*O),A[2*R+2*O+1]+=D*ee,_(A,2*R+2*O+1),A[2*R+2*O+1]+=P*W,_(A,2*R+2*O+1),A[2*R+2*O+2]+=D*W,_(A,2*R+2*O+2)}for(R=0;R<I;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=I;R<2*I;R++)A[R]=0;return new o(A,0)};function _(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function b(S,I){this.g=S,this.h=I}function k(S,I){if(x(I))throw Error("division by zero");if(x(S))return new b(f,f);if(w(S))return I=k(T(S),I),new b(T(I.g),T(I.h));if(w(I))return I=k(S,T(I)),new b(T(I.g),I.h);if(30<S.g.length){if(w(S)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=I;0>=R.l(S);)A=N(A),R=N(R);var O=M(A,1),D=M(R,1);for(R=M(R,2),A=M(A,2);!x(R);){var P=D.add(R);0>=P.l(S)&&(O=O.add(A),D=P),R=M(R,1),A=M(A,1)}return I=E(S,O.j(I)),new b(O,I)}for(O=f;0<=S.l(I);){for(A=Math.max(1,Math.floor(S.m()/I.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(A),P=D.j(I);w(P)||0<P.l(S);)A-=R,D=u(A),P=D.j(I);x(D)&&(D=h),O=O.add(D),S=E(S,P)}return new b(O,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)&S.i(R);return new o(A,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)|S.i(R);return new o(A,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)^S.i(R);return new o(A,this.h^S.h)};function N(S){for(var I=S.g.length+1,A=[],R=0;R<I;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(A,S.h)}function M(S,I){var A=I>>5;I%=32;for(var R=S.g.length-A,O=[],D=0;D<R;D++)O[D]=0<I?S.i(D+A)>>>I|S.i(D+A+1)<<32-I:S.i(D+A);return new o(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ji=o}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YC,ol,XC,td,Sg,JC,ZC,eA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var L=c[C];if(!(L in g))break e;g=g[L]}c=c[c.length-1],C=g[c],p=p(C),p!=C&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,C=!1,L={next:function(){if(!C&&g<c.length){var V=g++;return{value:p(V,c[V]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function f(c,p,g){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function h(c,p,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function y(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function x(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(C,L,V){for(var G=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)G[Re-2]=arguments[Re];return p.prototype[L].apply(C,G)}}function w(c){const p=c.length;if(0<p){const g=Array(p);for(let C=0;C<p;C++)g[C]=c[C];return g}return[]}function T(c,p){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(l(C)){const L=c.length||0,V=C.length||0;c.length=L+V;for(let G=0;G<V;G++)c[L+G]=C[G]}else c.push(C)}}class E{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(c,p,g){for(const C in c)p.call(g,c[C],C,c)}function S(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function I(c){const p={};for(const g in c)p[g]=c[g];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,p){let g,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(g in C)c[g]=C[g];for(let V=0;V<A.length;V++)g=A[V],Object.prototype.hasOwnProperty.call(C,g)&&(c[g]=C[g])}}function O(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function D(c){a.setTimeout(()=>{throw c},0)}function P(){var c=F;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class W{constructor(){this.h=this.g=null}add(p,g){const C=ee.get();C.set(p,g),this.h?this.h.next=C:this.g=C,this.h=C}}var ee=new E(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let re,j=!1,F=new W,K=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(q)}};var q=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(g){D(g)}var p=ee;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}j=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function He(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(N){e:{try{k(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&He.aa.h.call(this)}}x(He,te);var fe={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function et(c,p,g,C,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!C,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Er(c){this.src=c,this.g={},this.h=0}Er.prototype.add=function(c,p,g,C,L){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var G=Rn(c,p,C,L);return-1<G?(p=c[G],g||(p.fa=!1)):(p=new et(p,this.src,V,!!C,L),p.fa=g,c.push(p)),p};function Jn(c,p){var g=p.type;if(g in c.g){var C=c.g[g],L=Array.prototype.indexOf.call(C,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(C,L,1),V&&(Et(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Rn(c,p,g,C){for(var L=0;L<c.length;++L){var V=c[L];if(!V.da&&V.listener==p&&V.capture==!!g&&V.ha==C)return L}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),Jr={};function Pn(c,p,g,C,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)Pn(c,p[V],g,C,L);return null}return g=Ra(g),c&&c[Fe]?c.K(p,g,u(C)?!!C.capture:!!C,L):Sa(c,p,g,!1,C,L)}function Sa(c,p,g,C,L,V){if(!p)throw Error("Invalid event type");var G=u(L)?!!L.capture:!!L,Re=Zr(c);if(Re||(c[xr]=Re=new Er(c)),g=Re.add(p,g,C,G,V),g.proxy)return g;if(C=Ca(),g.proxy=C,C.src=c,C.listener=g,c.addEventListener)Ie||(L=G),L===void 0&&(L=!1),c.addEventListener(p.toString(),C,L);else if(c.attachEvent)c.attachEvent(Dc(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ca(){function c(g){return p.call(c.src,c.listener,g)}const p=Mf;return c}function tt(c,p,g,C,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)tt(c,p[V],g,C,L);else C=u(C)?!!C.capture:!!C,g=Ra(g),c&&c[Fe]?(c=c.i,p=String(p).toString(),p in c.g&&(V=c.g[p],g=Rn(V,g,C,L),-1<g&&(Et(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete c.g[p],c.h--)))):c&&(c=Zr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Rn(p,g,C,L)),(g=-1<c?p[c]:null)&&Zn(g))}function Zn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Fe])Jn(p.i,c);else{var g=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(g,C,c.capture):p.detachEvent?p.detachEvent(Dc(g),C):p.addListener&&p.removeListener&&p.removeListener(C),(g=Zr(p))?(Jn(g,c),g.h==0&&(g.src=null,p[xr]=null)):Et(c)}}}function Dc(c){return c in Jr?Jr[c]:Jr[c]="on"+c}function Mf(c,p){if(c.da)c=!0;else{p=new He(p,this);var g=c.listener,C=c.ha||c.src;c.fa&&Zn(c),c=g.call(C,p)}return c}function Zr(c){return c=c[xr],c instanceof Er?c:null}var Aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ra(c){return typeof c=="function"?c:(c[Aa]||(c[Aa]=function(p){return c.handleEvent(p)}),c[Aa])}function nt(){Y.call(this),this.i=new Er(this),this.M=this,this.F=null}x(nt,Y),nt.prototype[Fe]=!0,nt.prototype.removeEventListener=function(c,p,g,C){tt(this,c,p,g,C)};function We(c,p){var g,C=c.F;if(C)for(g=[];C;C=C.F)g.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var L=p;p=new te(C,c),R(p,L)}if(L=!0,g)for(var V=g.length-1;0<=V;V--){var G=p.g=g[V];L=rs(G,C,!0,p)&&L}if(G=p.g=c,L=rs(G,C,!0,p)&&L,L=rs(G,C,!1,p)&&L,g)for(V=0;V<g.length;V++)G=p.g=g[V],L=rs(G,C,!1,p)&&L}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],C=0;C<g.length;C++)Et(g[C]);delete c.g[p],c.h--}}this.F=null},nt.prototype.K=function(c,p,g,C){return this.i.add(String(c),p,!1,g,C)},nt.prototype.L=function(c,p,g,C){return this.i.add(String(c),p,!0,g,C)};function rs(c,p,g,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var G=p[V];if(G&&!G.da&&G.capture==g){var Re=G.listener,pt=G.ha||G.src;G.fa&&Jn(c.i,G),L=Re.call(pt,C)!==!1&&L}}return L&&!C.defaultPrevented}function Tr(c,p,g){if(typeof c=="function")g&&(c=h(c,g));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Pa(c){c.g=Tr(()=>{c.g=null,c.i&&(c.i=!1,Pa(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Lf extends Y{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(c){Y.call(this),this.h=c,this.g={}}x(ei,Y);var ka=[];function Mc(c){M(c.g,function(p,g){this.g.hasOwnProperty(g)&&Zn(p)},c),c.g={}}ei.prototype.N=function(){ei.aa.N.call(this),Mc(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=a.JSON.stringify,er=a.JSON.parse,jf=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ae(){}ae.prototype.h=null;function Ae(c){return c.h||(c.h=c.i())}function be(){}var xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){te.call(this,"d")}x(Ht,te);function ti(){te.call(this,"c")}x(ti,te);var Ir={},Fw=null;function Lc(){return Fw=Fw||new nt}Ir.La="serverreachability";function Uw(c){te.call(this,Ir.La,c)}x(Uw,te);function Na(c){const p=Lc();We(p,new Uw(p))}Ir.STAT_EVENT="statevent";function $w(c,p){te.call(this,Ir.STAT_EVENT,c),this.stat=p}x($w,te);function Lt(c){const p=Lc();We(p,new $w(p,c))}Ir.Ma="timingevent";function zw(c,p){te.call(this,Ir.Ma,c),this.size=p}x(zw,te);function Oa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function Rk(c,p,g,C,L,V){c.info(function(){if(c.g)if(V)for(var G="",Re=V.split("&"),pt=0;pt<Re.length;pt++){var _e=Re[pt].split("=");if(1<_e.length){var Tt=_e[0];_e=_e[1];var It=Tt.split("_");G=2<=It.length&&It[1]=="type"?G+(Tt+"="+_e+"&"):G+(Tt+"=redacted&")}}else G=null;else G=V;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+p+`
`+g+`
`+G})}function Pk(c,p,g,C,L,V,G){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+p+`
`+g+`
`+V+" "+G})}function Ys(c,p,g,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Nk(c,g)+(C?" "+C:"")})}function kk(c,p){c.info(function(){return"TIMEOUT: "+p})}Da.prototype.info=function(){};function Nk(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var C=g[c];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return is(g)}catch{return p}}var jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vf;function Vc(){}x(Vc,ae),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},Vf=new Vc;function ni(c,p,g,C){this.j=c,this.i=p,this.l=g,this.R=C||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hw}function Hw(){this.i=null,this.g="",this.h=!1}var Ww={},Ff={};function Uf(c,p,g){c.L=1,c.v=zc(br(p)),c.m=g,c.P=!0,qw(c,null)}function qw(c,p){c.F=Date.now(),Fc(c),c.A=br(c.v);var g=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),o0(g.i,"t",C),c.C=0,g=c.j.J,c.h=new Hw,c.g=I0(c.j,g?p:null,!c.m),0<c.O&&(c.M=new Lf(h(c.Y,c,c.g),c.O)),p=c.U,g=c.g,C=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ka[0]=L.toString()),L=ka);for(var V=0;V<L.length;V++){var G=Pn(g,L[V],C||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Na(),Rk(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;const p=this.M;p&&Sr(c)==3?p.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{const It=Sr(this.g);var p=this.g.Ba();const Zs=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||f0(this.g)))){this.J||It!=4||p==7||(p==8||0>=Zs?Na(3):Na(2)),$f(this);var g=this.g.Z();this.X=g;t:if(Gw(this)){var C=f0(this.g);c="";var L=C.length,V=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),Ma(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(C[p],{stream:!(V&&p==L-1)});C.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,Pk(this.i,this.u,this.A,this.l,this.R,It,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,pt=this.g;if((Re=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Re)){var _e=Re;break t}}_e=null}if(g=_e)Ys(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,g);else{this.o=!1,this.s=3,Lt(12),ss(this),Ma(this);break e}}if(this.P){g=!0;let kn;for(;!this.J&&this.C<G.length;)if(kn=Ok(this,G),kn==Ff){It==4&&(this.s=4,Lt(14),g=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Ww){this.s=4,Lt(15),Ys(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Ys(this.i,this.l,kn,null),zf(this,kn);if(Gw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||G.length!=0||this.h.h||(this.s=1,Lt(16),g=!1),this.o=this.o&&g,!g)Ys(this.i,this.l,G,"[Invalid Chunked Response]"),ss(this),Ma(this);else if(0<G.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Kf(Tt),Tt.M=!0,Lt(11))}}else Ys(this.i,this.l,G,null),zf(this,G);It==4&&ss(this),this.o&&!this.J&&(It==4?_0(this.j,this):(this.o=!1,Fc(this)))}else Yk(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),ss(this),Ma(this)}}}catch{}finally{}};function Gw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ok(c,p){var g=c.C,C=p.indexOf(`
`,g);return C==-1?Ff:(g=Number(p.substring(g,C)),isNaN(g)?Ww:(C+=1,C+g>p.length?Ff:(p=p.slice(C,C+g),c.C=C+g,p)))}ni.prototype.cancel=function(){this.J=!0,ss(this)};function Fc(c){c.S=Date.now()+c.I,Kw(c,c.I)}function Kw(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oa(h(c.ba,c),p)}function $f(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(kk(this.i,this.A),this.L!=2&&(Na(),Lt(17)),ss(this),this.s=2,Ma(this)):Kw(this,this.S-c)};function Ma(c){c.j.G==0||c.J||_0(c.j,c)}function ss(c){$f(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Mc(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function zf(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||Bf(g.h,c))){if(!c.K&&Bf(g.h,c)&&g.G==3){try{var C=g.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Kc(g),qc(g);else break e;Gf(g),Lt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Oa(h(g.Za,g),6e3));if(1>=Xw(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else as(g,11)}else if((c.K||g.g==c)&&Kc(g),!_(p))for(L=g.Da.g.parse(p),p=0;p<L.length;p++){let _e=L[p];if(g.T=_e[0],_e=_e[1],g.G==2)if(_e[0]=="c"){g.K=_e[1],g.ia=_e[2];const Tt=_e[3];Tt!=null&&(g.la=Tt,g.j.info("VER="+g.la));const It=_e[4];It!=null&&(g.Aa=It,g.j.info("SVER="+g.Aa));const Zs=_e[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(C=1.5*Zs,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const kn=c.g;if(kn){const Yc=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var V=C.h;V.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Hf(V,V.h),V.h=null))}if(C.D){const Qf=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qf&&(C.ya=Qf,Ne(C.I,C.D,Qf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var G=c;if(C.qa=T0(C,C.J?C.ia:null,C.W),G.K){Jw(C.h,G);var Re=G,pt=C.L;pt&&(Re.I=pt),Re.B&&($f(Re),Fc(Re)),C.g=G}else v0(C);0<g.i.length&&Gc(g)}else _e[0]!="stop"&&_e[0]!="close"||as(g,7);else g.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?as(g,7):qf(g):_e[0]!="noop"&&g.l&&g.l.ta(_e),g.v=0)}}Na(4)}catch{}}var Dk=class{constructor(c,p){this.g=c,this.map=p}};function Qw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xw(c){return c.h?1:c.g?c.g.size:0}function Bf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Hf(c,p){c.g?c.g.add(p):c.h=p}function Jw(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Qw.prototype.cancel=function(){if(this.i=Zw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return w(c.i)}function Mk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,C=0;C<g;C++)p.push(c[C]);return p}p=[],g=0;for(C in c)p[g++]=c[C];return p}function Lk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const C in c)p[g++]=C;return p}}}function e0(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=Lk(c),C=Mk(c),L=C.length,V=0;V<L;V++)p.call(void 0,C[V],g&&g[V],c)}var t0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jk(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var C=c[g].indexOf("="),L=null;if(0<=C){var V=c[g].substring(0,C);L=c[g].substring(C+1)}else V=c[g];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function os(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof os){this.h=c.h,Uc(this,c.j),this.o=c.o,this.g=c.g,$c(this,c.s),this.l=c.l;var p=c.i,g=new Va;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),n0(this,g),this.m=c.m}else c&&(p=String(c).match(t0))?(this.h=!1,Uc(this,p[1]||"",!0),this.o=La(p[2]||""),this.g=La(p[3]||"",!0),$c(this,p[4]),this.l=La(p[5]||"",!0),n0(this,p[6]||"",!0),this.m=La(p[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}os.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ja(p,r0,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ja(p,r0,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ja(g,g.charAt(0)=="/"?Uk:Fk,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ja(g,zk)),c.join("")};function br(c){return new os(c)}function Uc(c,p,g){c.j=g?La(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function $c(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function n0(c,p,g){p instanceof Va?(c.i=p,Bk(c.i,c.h)):(g||(p=ja(p,$k)),c.i=new Va(p,c.h))}function Ne(c,p,g){c.i.set(p,g)}function zc(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function La(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ja(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,Vk),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var r0=/[#\/\?@]/g,Fk=/[#\?:]/g,Uk=/[#\?]/g,$k=/[#\?@]/g,zk=/#/g;function Va(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ri(c){c.g||(c.g=new Map,c.h=0,c.i&&jk(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Va.prototype,t.add=function(c,p){ri(this),this.i=null,c=Xs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function i0(c,p){ri(c),p=Xs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function s0(c,p){return ri(c),p=Xs(c,p),c.g.has(p)}t.forEach=function(c,p){ri(this),this.g.forEach(function(g,C){g.forEach(function(L){c.call(p,L,C,this)},this)},this)},t.na=function(){ri(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let C=0;C<p.length;C++){const L=c[C];for(let V=0;V<L.length;V++)g.push(p[C])}return g},t.V=function(c){ri(this);let p=[];if(typeof c=="string")s0(this,c)&&(p=p.concat(this.g.get(Xs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return ri(this),this.i=null,c=Xs(this,c),s0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function o0(c,p,g){i0(c,p),0<g.length&&(c.i=null,c.g.set(Xs(c,p),w(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var C=p[g];const V=encodeURIComponent(String(C)),G=this.V(C);for(C=0;C<G.length;C++){var L=V;G[C]!==""&&(L+="="+encodeURIComponent(String(G[C]))),c.push(L)}}return this.i=c.join("&")};function Xs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Bk(c,p){p&&!c.j&&(ri(c),c.i=null,c.g.forEach(function(g,C){var L=C.toLowerCase();C!=L&&(i0(this,C),o0(this,L,g))},c)),c.j=p}function Hk(c,p){const g=new Da;if(a.Image){const C=new Image;C.onload=y(ii,g,"TestLoadImage: loaded",!0,p,C),C.onerror=y(ii,g,"TestLoadImage: error",!1,p,C),C.onabort=y(ii,g,"TestLoadImage: abort",!1,p,C),C.ontimeout=y(ii,g,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function Wk(c,p){const g=new Da,C=new AbortController,L=setTimeout(()=>{C.abort(),ii(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(V=>{clearTimeout(L),V.ok?ii(g,"TestPingServer: ok",!0,p):ii(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),ii(g,"TestPingServer: error",!1,p)})}function ii(c,p,g,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(g)}catch{}}function qk(){this.g=new jf}function Gk(c,p,g){const C=g||"";try{e0(c,function(L,V){let G=L;u(L)&&(G=is(L)),p.push(C+V+"="+encodeURIComponent(G))})}catch(L){throw p.push(C+"type="+encodeURIComponent("_badmap")),L}}function Bc(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Bc,ae),Bc.prototype.g=function(){return new Hc(this.l,this.j)},Bc.prototype.i=function(c){return function(){return c}}({});function Hc(c,p){nt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Hc,nt),t=Hc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Ua(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function a0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Fa(this):Ua(this),this.readyState==3&&a0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Fa(this))},t.Qa=function(c){this.g&&(this.response=c,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ua(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function Ua(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function l0(c){let p="";return M(c,function(g,C){p+=C,p+=":",p+=g,p+=`\r
`}),p}function Wf(c,p,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=l0(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ne(c,p,g))}function qe(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qe,nt);var Kk=/^https?$/i,Qk=["POST","PUT"];t=qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vf.g(),this.v=this.o?Ae(this.o):Ae(Vf),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(V){c0(this,V);return}if(c=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)g.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const V of C.keys())g.set(V,C.get(V));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Qk,p,void 0))||C||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of g)this.g.setRequestHeader(V,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h0(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){c0(this,V)}};function c0(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,u0(c),Wc(c)}function u0(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d0(this):this.bb())},t.bb=function(){d0(this)};function d0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)Tr(c.Ea,0,c);else if(We(c,"readystatechange"),Sr(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var C;if(C=G===0){var L=String(c.D).match(t0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!Kk.test(L?L.toLowerCase():"")}g=C}if(g)We(c,"complete"),We(c,"success");else{c.m=6;try{var V=2<Sr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",u0(c)}}finally{Wc(c)}}}}function Wc(c,p){if(c.g){h0(c);const g=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||We(c,"ready");try{g.onreadystatechange=C}catch{}}}function h0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),er(p)}};function f0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yk(c){const p={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(_(c[C]))continue;var g=O(c[C]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=p[L]||[];p[L]=V,V.push(g)}S(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function p0(c){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,c),this.cb=$a("retryDelaySeedMs",1e4,c),this.Wa=$a("forwardChannelMaxRetries",2,c),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qw(c&&c.concurrentRequestLimit),this.Da=new qk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p0.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,C){Lt(0),this.W=c,this.H=p||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=T0(this,null,this.W),Gc(this)};function qf(c){if(m0(c),c.G==3){var p=c.U++,g=br(c.I);if(Ne(g,"SID",c.K),Ne(g,"RID",p),Ne(g,"TYPE","terminate"),za(c,g),p=new ni(c,c.j,p),p.L=2,p.v=zc(br(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=I0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Fc(p)}x0(c)}function qc(c){c.g&&(Kf(c),c.g.cancel(),c.g=null)}function m0(c){qc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gc(c){if(!Yw(c.h)&&!c.s){c.s=!0;var p=c.Ga;re||K(),j||(re(),j=!0),F.add(p,c),c.B=0}}function Xk(c,p){return Xw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oa(h(c.Ga,c,p),E0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ni(this,this.j,c);let V=this.o;if(this.S&&(V?(V=I(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=y0(this,L,p),g=br(this.I),Ne(g,"RID",c),Ne(g,"CVER",22),this.D&&Ne(g,"X-HTTP-Session-Id",this.D),za(this,g),V&&(this.O?p="headers="+encodeURIComponent(String(l0(V)))+"&"+p:this.m&&Wf(g,this.m,V)),Hf(this.h,L),this.Ua&&Ne(g,"TYPE","init"),this.P?(Ne(g,"$req",p),Ne(g,"SID","null"),L.T=!0,Uf(L,g,null)):Uf(L,g,p),this.G=2}}else this.G==3&&(c?g0(this,c):this.i.length==0||Yw(this.h)||g0(this))};function g0(c,p){var g;p?g=p.l:g=c.U++;const C=br(c.I);Ne(C,"SID",c.K),Ne(C,"RID",g),Ne(C,"AID",c.T),za(c,C),c.m&&c.o&&Wf(C,c.m,c.o),g=new ni(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=y0(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hf(c.h,g),Uf(g,C,p)}function za(c,p){c.H&&M(c.H,function(g,C){Ne(p,C,g)}),c.l&&e0({},function(g,C){Ne(p,C,g)})}function y0(c,p,g){g=Math.min(c.i.length,g);var C=c.l?h(c.l.Na,c.l,c):null;e:{var L=c.i;let V=-1;for(;;){const G=["count="+g];V==-1?0<g?(V=L[0].g,G.push("ofs="+V)):V=0:G.push("ofs="+V);let Re=!0;for(let pt=0;pt<g;pt++){let _e=L[pt].g;const Tt=L[pt].map;if(_e-=V,0>_e)V=Math.max(0,L[pt].g-100),Re=!1;else try{Gk(Tt,G,"req"+_e+"_")}catch{C&&C(Tt)}}if(Re){C=G.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,C}function v0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;re||K(),j||(re(),j=!0),F.add(p,c),c.v=0}}function Gf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oa(h(c.Fa,c),E0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,w0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oa(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),qc(this),w0(this))};function Kf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function w0(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=br(c.qa);Ne(p,"RID","rpc"),Ne(p,"SID",c.K),Ne(p,"AID",c.T),Ne(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(p,"TO",c.ja),Ne(p,"TYPE","xmlhttp"),za(c,p),c.m&&c.o&&Wf(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=zc(br(p)),g.m=null,g.P=!0,qw(g,c)}t.Za=function(){this.C!=null&&(this.C=null,qc(this),Gf(this),Lt(19))};function Kc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function _0(c,p){var g=null;if(c.g==p){Kc(c),Kf(c),c.g=null;var C=2}else if(Bf(c.h,p))g=p.D,Jw(c.h,p),C=1;else return;if(c.G!=0){if(p.o)if(C==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;C=Lc(),We(C,new zw(C,g)),Gc(c)}else v0(c);else if(L=p.s,L==3||L==0&&0<p.X||!(C==1&&Xk(c,p)||C==2&&Gf(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),L){case 1:as(c,5);break;case 4:as(c,10);break;case 3:as(c,6);break;default:as(c,2)}}}function E0(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function as(c,p){if(c.j.info("Error code "+p),p==2){var g=h(c.fb,c),C=c.Xa;const L=!C;C=new os(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uc(C,"https"),zc(C),L?Hk(C.toString(),g):Wk(C.toString(),g)}else Lt(2);c.G=0,c.l&&c.l.sa(p),x0(c),m0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function x0(c){if(c.G=0,c.ka=[],c.l){const p=Zw(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ka,p),T(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function T0(c,p,g){var C=g instanceof os?br(g):new os(g);if(C.g!="")p&&(C.g=p+"."+C.g),$c(C,C.s);else{var L=a.location;C=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new os(null);C&&Uc(V,C),p&&(V.g=p),L&&$c(V,L),g&&(V.l=g),C=V}return g=c.D,p=c.ya,g&&p&&Ne(C,g,p),Ne(C,"VER",c.la),za(c,C),C}function I0(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qe(new Bc({eb:g})):new qe(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b0(){}t=b0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qc(){}Qc.prototype.g=function(c,p){return new en(c,p)};function en(c,p){nt.call(this),this.g=new p0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Js(this)}x(en,nt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){qf(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=is(c),c=g);p.i.push(new Dk(p.Ya++,c)),p.G==3&&Gc(p)},en.prototype.N=function(){this.g.l=null,delete this.j,qf(this.g),delete this.g,en.aa.N.call(this)};function S0(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}x(S0,Ht);function C0(){ti.call(this),this.status=1}x(C0,ti);function Js(c){this.g=c}x(Js,b0),Js.prototype.ua=function(){We(this.g,"a")},Js.prototype.ta=function(c){We(this.g,new S0(c))},Js.prototype.sa=function(c){We(this.g,new C0)},Js.prototype.ra=function(){We(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,eA=function(){return new Qc},ZC=function(){return Lc()},JC=Ir,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jc.NO_ERROR=0,jc.TIMEOUT=8,jc.HTTP_ERROR=6,td=jc,Bw.COMPLETE="complete",XC=Bw,be.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,ol=be,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,YC=qe}).apply(typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore",aE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Gh("@firebase/firestore");function io(){return Ms.logLevel}function J(t,...e){if(Ms.logLevel<=me.DEBUG){const n=e.map(Dv);Ms.debug(`Firestore (${va}): ${t}`,...n)}}function qr(t,...e){if(Ms.logLevel<=me.ERROR){const n=e.map(Dv);Ms.error(`Firestore (${va}): ${t}`,...n)}}function na(t,...e){if(Ms.logLevel<=me.WARN){const n=e.map(Dv);Ms.warn(`Firestore (${va}): ${t}`,...n)}}function Dv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tA(t,r,n)}function tA(t,e,n){let r=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qr(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tA(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class cU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uU{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new nA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class dU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=pU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Cg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return $p(i)===$p(s)?ge(i,s):$p(i)?1:-1}return ge(t.length,e.length)}const mU=55296,gU=57343;function $p(t){const e=t.charCodeAt(0);return e>=mU&&e<=gU}function ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=rr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ge(e.length,n.length)}static compareSegments(e,n){const r=rr.isNumericId(e),i=rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?rr.extractNumericId(e).compare(rr.extractNumericId(n)):Cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ji.fromString(e.substring(4,e.length-2))}}class Pe extends rr{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const yU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends rr{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return yU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new yt([cE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Pe.fromString(e))}static fromName(e){return new ne(Pe.fromString(e).popFirst(5))}static empty(){return new ne(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vU(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uE(t){if(!ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dE(t){if(ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sc(t,e){if(!iA(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,fE=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fE);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hE)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:ot("string",Me._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Me(0,0))}static max(){return new le(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function wU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Gi(i,ne.empty(),e)}function _U(t){return new Gi(t.readTime,t.key,tc)}class Gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gi(le.min(),ne.empty(),tc)}static max(){return new Gi(le.max(),ne.empty(),tc)}}function EU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==xU)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function IU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=-1;function nf(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function bU(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="";function SU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pE(e)),e=CU(t.get(n),e);return pE(e)}function CU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case sA:n+="";break;default:n+=s}}return n}function pE(t){return t+sA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}}class Tu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new ut(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aA("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const AU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=AU.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="server_timestamp",cA="__type__",uA="__previous_value__",dA="__local_write_time__";function jv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cA])==null?void 0:r.stringValue)===lA}function rf(t){const e=t.mapValue.fields[uA];return jv(e)?rf(e):e}function nc(t){const e=Ki(t.mapValue.fields[dA].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Zd="(default)";class rc{constructor(e,n){this.projectId=e,this.database=n||Zd}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__type__",fA="__max__",Iu={mapValue:{fields:{__type__:{stringValue:fA}}}},pA="__vector__",eh="value";function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jv(t)?4:kU(t)?9007199254740991:PU(t)?10:11:oe(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ki(i.timestampValue),a=Ki(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qi(i.bytesValue).isEqual(Qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?Jd(o)===Jd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mE(o)!==mE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wr(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function ic(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function ia(t,e){if(t===e)return 0;const n=Yi(t),r=Yi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yE(t.timestampValue,e.timestampValue);case 4:return yE(nc(t),nc(e));case 5:return Cg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Qi(s),l=Qi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ge(a[u],l[u]);if(d!==0)return d}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(Ye(s.latitude),Ye(o.latitude));return a!==0?a:ge(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var h,y,x,w;const a=s.fields||{},l=o.fields||{},u=(h=a[eh])==null?void 0:h.arrayValue,d=(y=l[eh])==null?void 0:y.arrayValue,f=ge(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return f!==0?f:vE(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Iu.mapValue&&o===Iu.mapValue)return 0;if(s===Iu.mapValue)return 1;if(o===Iu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Cg(l[f],d[f]);if(h!==0)return h;const y=ia(a[l[f]],u[d[f]]);if(y!==0)return y}return ge(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function yE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Ki(t),r=Ki(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function vE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ia(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function sa(t){return Ag(t)}function Ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ki(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ag(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ag(n.fields[o])}`;return i+"}"}(t.mapValue):oe(61005,{value:t})}function nd(t){switch(Yi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(t);return e?16+nd(e):16;case 5:return 2*t.stringValue.length;case 6:return Qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+nd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bs(r.fields,(s,o)=>{i+=s.length+nd(o)}),i}(t.mapValue);default:throw oe(13486,{value:t})}}function wE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rg(t){return!!t&&"integerValue"in t}function Vv(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function EE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rd(t){return!!t&&"mapValue"in t}function PU(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hA])==null?void 0:r.stringValue)===pA}function Cl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(t.arrayValue.values[n]);return e}return{...t}}function kU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(Cl(this.value))}}function mA(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new yt([n]);if(rd(r)){const s=mA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,le.min(),le.min(),le.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,le.min(),le.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,le.min(),le.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.position=e,this.inclusive=n}}function xE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ia(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function NU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{}class st extends gA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DU(e,n,r):n==="array-contains"?new jU(e,r):n==="in"?new VU(e,r):n==="not-in"?new FU(e,r):n==="array-contains-any"?new UU(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MU(e,r):new LU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ia(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends gA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return yA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yA(t){return t.op==="and"}function vA(t){return OU(t)&&yA(t)}function OU(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Pg(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+sa(t.value);if(vA(t))return t.filters.map(e=>Pg(e)).join(",");{const e=t.filters.map(n=>Pg(n)).join(",");return`${t.op}(${e})`}}function wA(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&wr(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wA(o,i.filters[a]),!0):!1}(t,e):void oe(19439)}function _A(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${sa(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(_A).join(" ,")+"}"}(t):"Filter"}class DU extends st{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class MU extends st{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LU extends st{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class jU extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vv(n)&&ic(n.arrayValue,this.value)}}class VU extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ic(this.value.arrayValue,n)}}class FU extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ic(this.value.arrayValue,n)}}class UU extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function IE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $U(t,e,n,r,i,s,o)}function Fv(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),e.Te=n}return e.Te}function Uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TE(t.startAt,e.startAt)&&TE(t.endAt,e.endAt)}function kg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zU(t,e,n,r,i,s,o,a){return new Ea(t,e,n,r,i,s,o,a)}function sf(t){return new Ea(t)}function bE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xA(t){return t.collectionGroup!==null}function Al(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sc(s,r))}),n.has(yt.keyField().canonicalString())||e.Ie.push(new sc(yt.keyField(),r))}return e.Ie}function hr(t){const e=ce(t);return e.Ee||(e.Ee=BU(e,Al(t))),e.Ee}function BU(t,e){if(t.limitType==="F")return IE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sc(i.field,s)});const n=t.endAt?new th(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new th(t.startAt.position,t.startAt.inclusive):null;return IE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ng(t,e){const n=t.filters.concat([e]);return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Og(t,e,n){return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function of(t,e){return Uv(hr(t),hr(e))&&t.limitType===e.limitType}function TA(t){return`${Fv(hr(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_A(i)).join(", ")}]`),nf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sa(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Al(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Al(r),i)||r.endAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Al(r),i))}(t,e)}function HU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IA(t){return(e,n)=>{let r=!1;for(const i of Al(t)){const s=WU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WU(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ia(l,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return oA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=new Be(ne.comparator);function Gr(){return qU}const bA=new Be(ne.comparator);function al(...t){let e=bA;for(const n of t)e=e.insert(n.key,n);return e}function SA(t){let e=bA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return Rl()}function CA(){return Rl()}function Rl(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const GU=new Be(ne.comparator),KU=new ut(ne.comparator);function ye(...t){let e=KU;for(const n of t)e=e.add(n);return e}const QU=new ut(ge);function YU(){return QU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function AA(t){return{integerValue:""+t}}function XU(t,e){return bU(e)?AA(e):$v(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function JU(t,e,n){return t instanceof oc?function(i,s){const o={fields:{[cA]:{stringValue:lA},[dA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jv(s)&&(s=rf(s)),s&&(o.fields[uA]=s),{mapValue:o}}(n,e):t instanceof ac?PA(t,e):t instanceof lc?kA(t,e):function(i,s){const o=RA(i,s),a=SE(o)+SE(i.Ae);return Rg(o)&&Rg(i.Ae)?AA(a):$v(i.serializer,a)}(t,e)}function ZU(t,e,n){return t instanceof ac?PA(t,e):t instanceof lc?kA(t,e):n}function RA(t,e){return t instanceof nh?function(r){return Rg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oc extends lf{}class ac extends lf{constructor(e){super(),this.elements=e}}function PA(t,e){const n=NA(e);for(const r of t.elements)n.some(i=>wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class lc extends lf{constructor(e){super(),this.elements=e}}function kA(t,e){let n=NA(e);for(const r of t.elements)n=n.filter(i=>!wr(i,r));return{arrayValue:{values:n}}}class nh extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SE(t){return Ye(t.integerValue||t.doubleValue)}function NA(t){return Vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n){this.field=e,this.transform=n}}function t$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ac&&i instanceof ac||r instanceof lc&&i instanceof lc?ra(r.elements,i.elements,wr):r instanceof nh&&i instanceof nh?wr(r.Ae,i.Ae):r instanceof oc&&i instanceof oc}(t.transform,e.transform)}class n${constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cf{}function OA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MA(t.key,fr.none()):new Cc(t.key,t.data,fr.none());{const n=t.data,r=wn.empty();let i=new ut(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ws(t.key,r,new Un(i.toArray()),fr.none())}}function r$(t,e,n){t instanceof Cc?function(i,s,o){const a=i.value.clone(),l=AE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(i,s,o){if(!id(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=AE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(DA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pl(t,e,n,r){return t instanceof Cc?function(s,o,a,l){if(!id(s.precondition,o))return a;const u=s.value.clone(),d=RE(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(s,o,a,l){if(!id(s.precondition,o))return a;const u=RE(s.fieldTransforms,l,o),d=o.data;return d.setAll(DA(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return id(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RA(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function CE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ra(r,i,(s,o)=>t$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends cf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AE(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZU(o,a,n[i]))}return r}function RE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,JU(s,o,e))}return r}class MA extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s$ extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&r$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>CE(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>CE(n,r))}}class zv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return GU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,ve;function c$(t){switch(t){case U.OK:return oe(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function LA(t){if(t===void 0)return qr("GRPC error has no .code"),U.UNKNOWN;switch(t){case rt.OK:return U.OK;case rt.CANCELLED:return U.CANCELLED;case rt.UNKNOWN:return U.UNKNOWN;case rt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case rt.INTERNAL:return U.INTERNAL;case rt.UNAVAILABLE:return U.UNAVAILABLE;case rt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case rt.NOT_FOUND:return U.NOT_FOUND;case rt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case rt.ABORTED:return U.ABORTED;case rt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case rt.DATA_LOSS:return U.DATA_LOSS;default:return oe(39323,{code:t})}}(ve=rt||(rt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new ji([4294967295,4294967295],0);function PE(t){const e=u$().encode(t),n=new QC;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ji([n,r],0),new ji([i,s],0)]}class Bv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ll(`Invalid padding: ${n}`);if(r<0)throw new ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ji.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ji.fromNumber(r)));return i.compare(d$)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Bv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=PE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uf(le.min(),i,new Be(ge),Gr(),ye())}}class Ac{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ac(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class jA{constructor(e,n){this.targetId=e,this.Ce=n}}class VA{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NE{constructor(){this.ve=0,this.Fe=OE(),this.Me=_t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ye(),n=ye(),r=ye();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:s})}}),new Ac(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=OE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class h${constructor(e){this.Ge=e,this.ze=new Map,this.je=Gr(),this.Je=bu(),this.He=bu(),this.Ye=new Be(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(kg(s))if(r===0){const o=new ne(s.path);this.et(n,o,Nt.newNoDocument(o,le.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Qi(r).toUint8Array()}catch(l){if(l instanceof aA)return na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bv(o,i,s)}catch(l){return na(l instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&kg(a.target)){const l=new ne(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Nt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ye();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new uf(e,n,this.Ye,this.je,r);return this.je=Gr(),this.Je=bu(),this.He=bu(),this.Ye=new Be(ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bu(){return new Be(ne.comparator)}function OE(){return new Be(ne.comparator)}const f$={asc:"ASCENDING",desc:"DESCENDING"},p$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m$={and:"AND",or:"OR"};class g${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||nf(e)?e:{value:e}}function rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y$(t,e){return rh(t,e.toTimestamp())}function pr(t){return Te(!!t,49232),le.fromTimestamp(function(n){const r=Ki(n);return new Me(r.seconds,r.nanos)}(t))}function Hv(t,e){return Mg(t,e).canonicalString()}function Mg(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UA(t){const e=Pe.fromString(t);return Te(WA(e),10190,{key:e.toString()}),e}function Lg(t,e){return Hv(t.databaseId,e.path)}function zp(t,e){const n=UA(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(zA(n))}function $A(t,e){return Hv(t.databaseId,e)}function v$(t){const e=UA(t);return e.length===4?Pe.emptyPath():zA(e)}function jg(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zA(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DE(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function w$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Te(d===void 0||typeof d=="string",58123),_t.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:LA(u.code);return new X(d,u.message||"")}(o);n=new VA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zp(t,r.document.name),s=pr(r.document.updateTime),o=r.document.createTime?pr(r.document.createTime):le.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new sd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zp(t,r.document),s=r.readTime?pr(r.readTime):le.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new sd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zp(t,r.document),s=r.removedTargetIds||[];n=new sd([],s,i,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new l$(i,s),a=r.targetId;n=new jA(a,o)}}return n}function _$(t,e){let n;if(e instanceof Cc)n={update:DE(t,e.key,e.value)};else if(e instanceof MA)n={delete:Lg(t,e.key)};else if(e instanceof Ws)n={update:DE(t,e.key,e.data),updateMask:R$(e.fieldMask)};else{if(!(e instanceof s$))return oe(16599,{Vt:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:y$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe(27497)}(t,e.precondition)),n}function E$(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?pr(i.updateTime):pr(s);return o.isEqual(le.min())&&(o=pr(s)),new n$(o,i.transformResults||[])}(n,e))):[]}function x$(t,e){return{documents:[$A(t,e.path)]}}function T$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$A(t,i);const s=function(u){if(u.length!==0)return HA(Qn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:oo(h.field),direction:S$(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function I$(t){let e=v$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=BA(f);return h instanceof Qn&&vA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(x){return new sc(ao(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,nf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new th(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new th(y,h)}(n.endAt)),zU(e,i,o,s,a,"F",l,u)}function b$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ao(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ao(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ao(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ao(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return st.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>BA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function S$(t){return f$[t]}function C$(t){return p$[t]}function A$(t){return m$[t]}function oo(t){return{fieldPath:t.canonicalString()}}function ao(t){return yt.fromServerFormat(t.fieldPath)}function HA(t){return t instanceof st?function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:C$(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(i=>HA(i));return r.length===1?r[0]:{compositeFilter:{op:A$(n.op),filters:r}}}(t):oe(54877,{filter:t})}function R$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r,i,s=le.min(),o=le.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.yt=e}}function k$(t){const e=I$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.Cn=new O$}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Gi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class O${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qA=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(qA,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oa(0)}static cr(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",D$=1048576;function jE([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class M${constructor(e){this.Ir=e,this.buffer=new ut(jE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(LE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_a(n)?J(LE,"Ignoring IndexedDB error during garbage collection: ",n):await wa(n)}await this.Vr(3e5)})}}class j${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(tf.ce);const r=new M$(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(ME)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),io()<=me.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function V$(t,e){return new j$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pl(r.mutation,i,Un.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=al();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gr();const o=Rl(),a=function(){return Rl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ws)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Pl(d.mutation,u,d.mutation.getFieldMask(),Me.now())):o.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new U$(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Rl();let i=new Be((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Un.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=CA();d.forEach(h=>{if(!s.has(h)){const y=OA(n.get(h),r.get(h));y!==null&&f.set(h,y),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(gs());let a=tc,l=s;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ye())).next(d=>({batchId:a,changes:SA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=al();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=al();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(f,h){return new Ea(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=al();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Pl(d.mutation,u,Un.empty(),Me.now()),af(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:k$(i.bundledQuery),readTime:pr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this.overlays=new Be(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=gs(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=gs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a$(n,r));let s=this.qr.get(n);s===void 0&&(s=ye(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.Qr=new ut(dt.$r),this.Ur=new ut(dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new dt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new Pe([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Pe([])),r=new dt(n,e),i=new dt(n,e+1);let s=ye();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(dt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new o$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Lv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(ge);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new dt(new ne(s),0);let a=new ut(ge);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new dt(n,0),i=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.ri=e,this.docs=function(){return new Be(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gr();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||EU(_U(d),r)<=0||(i.has(d.key)||af(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new G$(this)}getSize(e){return $.resolve(this.size)}}class G$ extends F${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){this.persistence=e,this.si=new Hs(n=>Fv(n),Uv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new Wv,this.targetCount=0,this.ai=oa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new H$,this.referenceDelegate=e(this),this.Pi=new K$(this),this.indexManager=new N$,this.remoteDocumentCache=function(i){return new q$(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new P$(n),this.Ii=new z$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new W$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new Q$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Q$ extends TU{constructor(e){super(),this.currentSequenceNumber=e}}class qv{constructor(e){this.persistence=e,this.Ri=new Wv,this.Vi=null}static mi(e){return new qv(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const i=ne.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.pi=new Hs(r=>SU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=V$(this,n)}static mi(e,n){return new ih(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rV()?8:IU(Mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Y$;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(io()<=me.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(io()<=me.DEBUG&&J("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(io()<=me.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):$.resolve())}ys(e,n){if(bE(n))return $.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Og(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Og(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return bE(n)||i.isEqual(le.min())?$.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?$.resolve(null):(io()<=me.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.vs(e,o,n,wU(i,tc)).next(a=>a))})}Ds(e,n){let r=new ut(IA(e));return n.forEach((i,s)=>{af(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return io()<=me.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,Gi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="LocalStore",J$=3e8;class Z${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Be(ge),this.xs=new Hs(s=>Fv(s),Uv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function e9(t,e,n,r){return new Z$(t,e,n,r)}async function KA(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ye();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function t9(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let y=$.resolve();return h.forEach(x=>{y=y.next(()=>d.getEntry(l,x)).next(w=>{const T=u.docVersions.get(x);Te(T!==null,48541),w.version.compareTo(T)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QA(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function n9(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let y=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(_t.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(w,T,E){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=J$?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,y,d)&&a.push(n.Pi.updateTargetData(s,y))});let l=Gr(),u=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(r9(s,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(le.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function r9(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J(Kv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function i9(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s9(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Vg(t,e,n){const r=ce(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_a(o))throw o;J(Kv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function VE(t,e,n){const r=ce(t);let i=le.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ce(l),h=f.xs.get(d);return h!==void 0?$.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,o,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:ye())).next(a=>(o9(r,HU(e),a),{documents:a,Qs:s})))}function o9(t,e,n){let r=t.Os.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class FE{constructor(){this.activeTargetIds=YU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a9{constructor(){this.Mo=new FE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class $E{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(UE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function Fg(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RestConnection",c9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Zd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Fg(),a=this.zo(e,n.toUriEncodedString());J(Bp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),d=ga(u);return this.Jo(e,a,l,r,d).then(f=>(J(Bp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw na(Bp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=c9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class h9 extends u9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Fg();return new Promise((a,l)=>{const u=new YC;u.setWithCredentials(!0),u.listenOnce(XC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case td.NO_ERROR:const f=u.getResponseJson();J(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case td.TIMEOUT:J(At,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case td.HTTP_ERROR:const h=u.getStatus();if(J(At,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const w=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(x.status);l(new X(w,x.message))}else l(new X(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{J(At,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);J(At,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Fg(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eA(),a=ZC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");J(At,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let h=!1,y=!1;const x=new d9({Yo:T=>{y?J(At,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(h||(J(At,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),J(At,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},Zo:()=>f.close()}),w=(T,E,_)=>{T.listen(E,b=>{try{_(b)}catch(k){setTimeout(()=>{throw k},0)}})};return w(f,ol.EventType.OPEN,()=>{y||(J(At,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),w(f,ol.EventType.CLOSE,()=>{y||(y=!0,J(At,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))}),w(f,ol.EventType.ERROR,T=>{y||(y=!0,na(At,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),x.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))}),w(f,ol.EventType.MESSAGE,T=>{var E;if(!y){const _=T.data[0];Te(!!_,16349);const b=_,k=(b==null?void 0:b.error)||((E=b[0])==null?void 0:E.error);if(k){J(At,`RPC '${e}' stream ${i} received error:`,k);const N=k.status;let M=function(A){const R=rt[A];if(R!==void 0)return LA(R)}(N),S=k.message;M===void 0&&(M=U.INTERNAL,S="Unknown error status: "+N+" with message "+k.message),y=!0,x.a_(new X(M,S)),f.close()}else J(At,`RPC '${e}' stream ${i} received:`,_),x.u_(_)}}),w(a,JC.STAT_EVENT,T=>{T.stat===Sg.PROXY?J(At,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Sg.NOPROXY&&J(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return new g$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="PersistentStream";class XA{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f9 extends XA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=w$(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?pr(o.readTime):le.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=kg(l)?{documents:x$(s,l)}:{query:T$(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FA(s,o.resumeToken);const u=Dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=rh(s,o.snapshotVersion.toTimestamp());const u=Dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=b$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jg(this.serializer),n.removeTarget=e,this.q_(n)}}class p9 extends XA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=E$(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{}class g9 extends m9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Mg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Mg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class y9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class v9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{qs(this)&&(J(Ls,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Rc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await hf(u)}(this))})}),this.Ra=new y9(r,i)}}async function hf(t){if(qs(t))for(const e of t.da)await e(!0)}async function Rc(t){for(const e of t.da)await e(!1)}function JA(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jv(n)?Xv(n):xa(n).O_()&&Yv(n,e))}function Qv(t,e){const n=ce(t),r=xa(n);n.Ia.delete(e),r.O_()&&ZA(n,e),n.Ia.size===0&&(r.O_()?r.L_():qs(n)&&n.Ra.set("Unknown"))}function Yv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xa(t).Y_(e)}function ZA(t,e){t.Va.Ue(e),xa(t).Z_(e)}function Xv(t){t.Va=new h$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xa(t).start(),t.Ra.ua()}function Jv(t){return qs(t)&&!xa(t).x_()&&t.Ia.size>0}function qs(t){return ce(t).Ea.size===0}function eR(t){t.Va=void 0}async function w9(t){t.Ra.set("Online")}async function _9(t){t.Ia.forEach((e,n)=>{Yv(t,e)})}async function E9(t,e){eR(t),Jv(t)?(t.Ra.ha(e),Xv(t)):t.Ra.set("Unknown")}async function x9(t,e,n){if(t.Ra.set("Online"),e instanceof VA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){J(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof sd?t.Va.Ze(e):e instanceof jA?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await QA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),ZA(s,l);const f=new Si(d.target,l,u,d.sequenceNumber);Yv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J(Ls,"Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!_a(e))throw e;t.Ea.add(1),await Rc(t),t.Ra.set("Offline"),n||(n=()=>QA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(Ls,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hf(t)})}function tR(t,e){return e().catch(n=>sh(t,n,e))}async function ff(t){const e=ce(t),n=Xi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lv;for(;T9(e);)try{const i=await i9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,I9(e,i)}catch(i){await sh(e,i)}nR(e)&&rR(e)}function T9(t){return qs(t)&&t.Ta.length<10}function I9(t,e){t.Ta.push(e);const n=Xi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nR(t){return qs(t)&&!Xi(t).x_()&&t.Ta.length>0}function rR(t){Xi(t).start()}async function b9(t){Xi(t).ra()}async function S9(t){const e=Xi(t);for(const n of t.Ta)e.ea(n.mutations)}async function C9(t,e,n){const r=t.Ta.shift(),i=zv.from(r,e,n);await tR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ff(t)}async function A9(t,e){e&&Xi(t).X_&&await async function(r,i){if(function(o){return c$(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Xi(r).B_(),await tR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ff(r)}}(t,e),nR(t)&&rR(t)}async function BE(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),J(Ls,"RemoteStore received new credentials");const r=qs(n);n.Ea.add(3),await Rc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function R9(t,e){const n=ce(t);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function xa(t){return t.ma||(t.ma=function(n,r,i){const s=ce(n);return s.sa(),new f9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:w9.bind(null,t),t_:_9.bind(null,t),r_:E9.bind(null,t),H_:x9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Jv(t)?Xv(t):t.Ra.set("Unknown")):(await t.ma.stop(),eR(t))})),t.ma}function Xi(t){return t.fa||(t.fa=function(n,r,i){const s=ce(n);return s.sa(),new p9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:b9.bind(null,t),r_:A9.bind(null,t),ta:S9.bind(null,t),na:C9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ff(t)):(await t.fa.stop(),t.Ta.length>0&&(J(Ls,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Zv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ew(t,e){if(qr("AsyncQueue",`${e}: ${t}`),_a(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=al(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.ga=new Be(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class aa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new aa(e,n,Do.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class k9{constructor(){this.queries=WE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=WE(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function WE(){return new Hs(t=>TA(t),of)}async function iR(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new P9,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ew(o,`Initialization of query '${so(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&tw(n)}async function sR(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function N9(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&tw(n)}function O9(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function tw(t){t.Ca.forEach(e=>{e.next()})}var Ug,qE;(qE=Ug||(Ug={})).Ma="default",qE.Cache="cache";class oR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.key=e}}class lR{constructor(e){this.key=e}}class D9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ye(),this.mutatedKeys=ye(),this.eu=IA(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new HE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),y=af(this.query,f)?f:null,x=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;h&&y?h.data.isEqual(y.data)?x!==w&&(r.track({type:3,doc:y}),T=!0):this.su(h,y)||(r.track({type:2,doc:y}),T=!0,(l&&this.eu(y,l)>0||u&&this.eu(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),T=!0):h&&!y&&(r.track({type:1,doc:h}),T=!0,(l||u)&&(a=!0)),T&&(y?(o=o.add(y),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(y,x){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:T})}};return w(y)-w(x)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new aa(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new lR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new aR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nw="SyncEngine";class M9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class L9{constructor(e){this.key=e,this.hu=!1}}class j9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hs(a=>TA(a),of),this.Iu=new Map,this.Eu=new Set,this.du=new Be(ne.comparator),this.Au=new Map,this.Ru=new Wv,this.Vu={},this.mu=new Map,this.fu=oa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V9(t,e,n=!0){const r=pR(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await cR(r,e,n,!0),i}async function F9(t,e){const n=pR(t);await cR(n,e,!0,!1)}async function cR(t,e,n,r){const i=await s9(t.localStore,hr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await U9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&JA(t.remoteStore,i),a}async function U9(t,e,n,r,i){t.pu=(f,h,y)=>async function(w,T,E,_){let b=T.view.ru(E);b.Cs&&(b=await VE(w.localStore,T.query,!1).then(({documents:S})=>T.view.ru(S,b)));const k=_&&_.targetChanges.get(T.targetId),N=_&&_.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(b,w.isPrimaryClient,k,N);return KE(w,T.targetId,M.au),M.snapshot}(t,f,h,y);const s=await VE(t.localStore,e,!0),o=new D9(e,s.Qs),a=o.ru(s.documents),l=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);KE(t,n,u.au);const d=new M9(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function $9(t,e,n){const r=ce(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!of(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qv(r.remoteStore,i.targetId),$g(r,i.targetId)}).catch(wa)):($g(r,i.targetId),await Vg(r.localStore,i.targetId,!0))}async function z9(t,e){const n=ce(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qv(n.remoteStore,r.targetId))}async function B9(t,e,n){const r=Y9(t);try{const i=await function(o,a){const l=ce(o),u=Me.now(),d=a.reduce((y,x)=>y.add(x.key),ye());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Gr(),w=ye();return l.Ns.getEntries(y,d).next(T=>{x=T,x.forEach((E,_)=>{_.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,x)).next(T=>{f=T;const E=[];for(const _ of a){const b=i$(_,f.get(_.key).overlayedDocument);b!=null&&E.push(new Ws(_.key,b,mA(b.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)}).next(T=>{h=T;const E=T.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(y,T.batchId,E)})}).then(()=>({batchId:h.batchId,changes:SA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Be(ge)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Pc(r,i.changes),await ff(r.remoteStore)}catch(i){const s=ew(i,"Failed to persist write");n.reject(s)}}async function uR(t,e){const n=ce(t);try{const r=await n9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Te(o.hu,14607):i.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await Pc(n,r,e)}catch(r){await wa(r)}}function GE(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&tw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H9(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Be(ne.comparator);o=o.insert(s,Nt.newNoDocument(s,le.min()));const a=ye().add(s),l=new uf(le.min(),new Map,new Be(ge),o,a);await uR(r,l),r.du=r.du.remove(s),r.Au.delete(e),rw(r)}else await Vg(r.localStore,e,!1).then(()=>$g(r,e,n)).catch(wa)}async function W9(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await t9(n.localStore,e);hR(n,r,null),dR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pc(n,i)}catch(i){await wa(i)}}async function q9(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Te(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);hR(r,e,n),dR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pc(r,i)}catch(i){await wa(i)}}function dR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function hR(t,e,n){const r=ce(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||fR(t,r)})}function fR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rw(t))}function KE(t,e,n){for(const r of n)r instanceof aR?(t.Ru.addReference(r.key,e),G9(t,r)):r instanceof lR?(J(nw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fR(t,r.key)):oe(19791,{wu:r})}function G9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(J(nw,"New document in limbo: "+n),t.Eu.add(r),rw(t))}function rw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Pe.fromString(e)),r=t.fu.next();t.Au.set(r,new L9(n)),t.du=t.du.insert(n,r),JA(t.remoteStore,new Si(hr(sf(n.path)),r,"TargetPurposeLimboResolution",tf.ce))}}async function Pc(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Gv.As(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,h=>$.forEach(h.Es,y=>d.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>$.forEach(h.ds,y=>d.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!_a(f))throw f;J(Kv,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=d.Ms.get(h),x=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(h,w)}}}(r.localStore,s))}async function K9(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){J(nw,"User change. New user:",e.toKey());const r=await KA(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pc(n,r.Ls)}}function Q9(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return ye().add(r.key);{let i=ye();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function pR(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H9.bind(null,e),e.Pu.H_=N9.bind(null,e.eventManager),e.Pu.yu=O9.bind(null,e.eventManager),e}function Y9(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q9.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return e9(this.persistence,new X$,e.initialUser,this.serializer)}Cu(e){return new GA(qv.mi,this.serializer)}Du(e){return new a9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class X9 extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new L$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new GA(r=>ih.mi(r,n),this.serializer)}}class zg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K9.bind(null,this.syncEngine),await R9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new k9}()}createDatastore(e){const n=df(e.databaseInfo.databaseId),r=function(s){return new h9(s)}(e.databaseInfo);return function(s,o,a,l){return new g9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new v9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GE(this.syncEngine,n,0),function(){return $E.v()?new $E:new l9}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new j9(i,s,o,a,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);J(Ls,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class J9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=Mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{J(Ji,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J(Ji,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ew(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wp(t,e){t.asyncQueue.verifyOperationInProgress(),J(Ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z9(t);J(Ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BE(e.remoteStore,i)),t._onlineComponents=e}async function Z9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Ji,"Using user provided OfflineComponentProvider");try{await Wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await Wp(t,new oh)}}else J(Ji,"Using default OfflineComponentProvider"),await Wp(t,new X9(void 0));return t._offlineComponents}async function gR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Ji,"Using user provided OnlineComponentProvider"),await QE(t,t._uninitializedComponentsProvider._online)):(J(Ji,"Using default OnlineComponentProvider"),await QE(t,new zg))),t._onlineComponents}function ez(t){return gR(t).then(e=>e.syncEngine)}async function Bg(t){const e=await gR(t),n=e.eventManager;return n.onListen=V9.bind(null,e.syncEngine),n.onUnlisten=$9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z9.bind(null,e.syncEngine),n}function tz(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new mR({next:h=>{d.Nu(),o.enqueueAndForget(()=>sR(s,f));const y=h.docs.has(a);!y&&h.fromCache?u.reject(new X(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&h.fromCache&&l&&l.source==="server"?u.reject(new X(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new oR(sf(a.path),d,{includeMetadataChanges:!0,qa:!0});return iR(s,f)}(await Bg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firestore.googleapis.com",XE=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vR,this.ssl=XE}else this.host=e.host,this.ssl=e.ssl??XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D$)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lU;switch(r.type){case"firstParty":return new hU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YE.get(n);r&&(J("ComponentProvider","Removing Datastore"),YE.delete(n),r.terminate())}(this),Promise.resolve()}}function nz(t,e,n,r={}){var u;t=jr(t,pf);const i=ga(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(DS(`https://${a}`),MS("Firestore",!0)),s.host!==vR&&s.host!==a&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!qi(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Pt.MOCK_USER;else{d=Qj(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pt(h)}t._authCredentials=new cU(new nA(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Sc(n,Ze._jsonSchema))return new Ze(e,r||null,new ne(Pe.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:ot("string",Ze._jsonSchemaVersion),referencePath:ot("string")};class Fi extends Gs{constructor(e,n,r){super(e,n,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new ne(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function Cu(t,e,...n){if(t=Qe(t),rA("collection","path",e),t instanceof pf){const r=Pe.fromString(e,...n);return dE(r),new Fi(t,null,r)}{if(!(t instanceof Ze||t instanceof Fi))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return dE(r),new Fi(t.firestore,null,r)}}function ah(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Mv.newId()),rA("doc","path",e),t instanceof pf){const r=Pe.fromString(e,...n);return uE(r),new Ze(t,null,new ne(r))}{if(!(t instanceof Ze||t instanceof Fi))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return uE(r),new Ze(t.firestore,t instanceof Fi?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class ex{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YA(this,"async_queue_retry"),this._c=()=>{const r=Hp();r&&J(ZE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_a(e))throw e;J(ZE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",tx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Zv.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&oe(47125,{Pc:tx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class la extends pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ex,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ex(e),this._firestoreClient=void 0,await e}}}function wR(t,e){const n=typeof t=="object"?t:yv(),r=typeof t=="string"?t:Zd,i=$s(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Gj("firestore");s&&nz(i,...s)}return i}function iw(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rz(t),t._firestoreClient}function rz(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,d){return new RU(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new J9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(_t.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _n(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:ot("string",_n._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:ot("string",mr._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gr(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:ot("string",gr._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=/^__.*__$/;class sz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}function _R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class aw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new aw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_R(this.Ac)&&iz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||df(e)}Cc(e,n,r,i=!1){return new aw({Ac:e,methodName:n,Dc:r,path:yt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lw(t){const e=t._freezeSettings(),n=df(t._databaseId);return new oz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ER(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);IR("Data must be an object, but it was:",o,r);const a=xR(r,o);let l,u;if(s.merge)l=new Un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=lz(e,f,n);if(!o.contains(h))throw new X(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);uz(d,h)||d.push(h)}l=new Un(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new sz(new wn(a),l,u)}class cw extends ow{_toFieldTransform(e){return new e$(e.path,new oc)}isEqual(e){return e instanceof cw}}function az(t,e,n,r=!1){return uw(n,t.Cc(r?4:3,e))}function uw(t,e){if(TR(t=Qe(t)))return IR("Unsupported field value:",e,t),xR(t,e);if(t instanceof ow)return function(r,i){if(!_R(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=uw(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Me.fromDate(r);return{timestampValue:rh(i.serializer,s)}}if(r instanceof Me){const s=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(i.serializer,s)}}if(r instanceof mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _n)return{bytesValue:FA(i.serializer,r._byteString)};if(r instanceof Ze){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gr)return function(o,a){return{mapValue:{fields:{[hA]:{stringValue:pA},[eh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return $v(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ef(r)}`)}(t,e)}function xR(t,e){const n={};return oA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const s=uw(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function TR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof mr||t instanceof _n||t instanceof Ze||t instanceof ow||t instanceof gr)}function IR(t,e,n){if(!TR(n)||!iA(n)){const r=ef(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function lz(t,e,n){if((e=Qe(e))instanceof sw)return e._internalPath;if(typeof e=="string")return bR(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const cz=new RegExp("[~\\*/\\[\\]]");function bR(t,e,n){if(e.search(cz)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sw(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function uz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dz extends SR{data(){return super.data()}}function dw(t,e){return typeof e=="string"?bR(t,e):e instanceof sw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hw{}class CR extends hw{}function fz(t,e,...n){let r=[];e instanceof hw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof pw).length,a=s.filter(l=>l instanceof fw).length;if(o>1||o>0&&a>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fw extends CR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fw(e,n,r)}_apply(e){const n=this._parse(e);return AR(e._query,n),new Gs(e.firestore,e.converter,Ng(e._query,n))}_parse(e){const n=lw(e.firestore);return function(s,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ix(f,d);const x=[];for(const w of f)x.push(rx(l,s,w));h={arrayValue:{values:x}}}else h=rx(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ix(f,d),h=az(a,o,f,d==="in"||d==="not-in");return st.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pw extends hw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)AR(o,l),o=Ng(o,l)}(e._query,n),new Gs(e.firestore,e.converter,Ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mw extends CR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sc(s,o)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ea(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pz(t,e="asc"){const n=e,r=dw("orderBy",t);return mw._create(r,n)}function rx(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xA(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!ne.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(t,new ne(r))}if(n instanceof Ze)return wE(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function ix(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mz{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[eh].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ye(o.doubleValue));return new gr(n)}convertGeoPoint(e){return new mr(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=Ki(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Te(WA(r),9688,{name:e});const i=new rc(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends SR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:ot("string",Ts._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class od extends Ts{data(e={}){return super.data(e)}}class Mo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new od(this._firestore,this._userDataWriter,r.key,r,new cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new od(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new od(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:gz(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){t=jr(t,Ze);const e=jr(t.firestore,la);return tz(iw(e),t._key).then(n=>OR(e,t,n))}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:ot("string",Mo._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class PR extends mz{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function kR(t,e,n){t=jr(t,Ze);const r=jr(t.firestore,la),i=RR(t.converter,e,n);return NR(r,[ER(lw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fr.none())])}function qp(t,e){const n=jr(t.firestore,la),r=ah(t),i=RR(t.converter,e);return NR(n,[ER(lw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function vz(t,...e){var l,u,d;t=Qe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nx(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nx(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,o,a;if(t instanceof Ze)o=jr(t.firestore,la),a=sf(t._key.path),s={next:f=>{e[r]&&e[r](OR(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=jr(t,Gs);o=jr(f.firestore,la),a=f._query;const h=new PR(o);s={next:y=>{e[r]&&e[r](new Mo(o,h,f,y))},error:e[r+1],complete:e[r+2]},hz(t._query)}return function(h,y,x,w){const T=new mR(w),E=new oR(y,T,x);return h.asyncQueue.enqueueAndForget(async()=>iR(await Bg(h),E)),()=>{T.Nu(),h.asyncQueue.enqueueAndForget(async()=>sR(await Bg(h),E))}}(iw(o),a,i,s)}function NR(t,e){return function(r,i){const s=new Vi;return r.asyncQueue.enqueueAndForget(async()=>B9(await ez(r),i,s)),s.promise}(iw(t),e)}function OR(t,e,n){const r=n.docs.get(e._key),i=new PR(t);return new Ts(t,i,e._key,r,new cl(n.hasPendingWrites,n.fromCache),e.converter)}function Gp(){return new cw("serverTimestamp")}(function(e,n=!0){(function(i){va=i})(ya),vr(new Kn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new la(new uU(r.getProvider("auth-internal")),new fU(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Tn(oE,aE,e),Tn(oE,aE,"esm2020")})();const wz={apiKey:"AIzaSyACOgfXdFbJJ1EOC-oWvz6I5xljYaCaUiU",authDomain:"storage-of-finsight.firebaseapp.com",databaseURL:"https://storage-of-finsight-default-rtdb.firebaseio.com",projectId:"storage-of-finsight",storageBucket:"storage-of-finsight.appspot.com",messagingSenderId:"583194312680",appId:"1:583194312680:web:eed755f06f44c95660ae5d",measurementId:"G-K9LGRW78L6"},gw=zS(wz),vn=SC(gw);iU(gw);const Hg=wR(gw);var _z=Array.isArray,Ez=_z,xz=typeof Jc=="object"&&Jc&&Jc.Object===Object&&Jc,Tz=xz,Iz=Tz,bz=typeof self=="object"&&self&&self.Object===Object&&self,Sz=Iz||bz||Function("return this")(),mf=Sz,Cz=mf,Az=Cz.Symbol,yw=Az,sx=yw,DR=Object.prototype,Rz=DR.hasOwnProperty,Pz=DR.toString,Za=sx?sx.toStringTag:void 0;function kz(t){var e=Rz.call(t,Za),n=t[Za];try{t[Za]=void 0;var r=!0}catch{}var i=Pz.call(t);return r&&(e?t[Za]=n:delete t[Za]),i}var Nz=kz,Oz=Object.prototype,Dz=Oz.toString;function Mz(t){return Dz.call(t)}var Lz=Mz,ox=yw,jz=Nz,Vz=Lz,Fz="[object Null]",Uz="[object Undefined]",ax=ox?ox.toStringTag:void 0;function $z(t){return t==null?t===void 0?Uz:Fz:ax&&ax in Object(t)?jz(t):Vz(t)}var vw=$z;function zz(t){return t!=null&&typeof t=="object"}var MR=zz,Bz=vw,Hz=MR,Wz="[object Symbol]";function qz(t){return typeof t=="symbol"||Hz(t)&&Bz(t)==Wz}var Gz=qz;function Kz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kc=Kz,Qz=vw,Yz=kc,Xz="[object AsyncFunction]",Jz="[object Function]",Zz="[object GeneratorFunction]",e8="[object Proxy]";function t8(t){if(!Yz(t))return!1;var e=Qz(t);return e==Jz||e==Zz||e==Xz||e==e8}var n8=t8,r8=mf,i8=r8["__core-js_shared__"],s8=i8,Kp=s8,lx=function(){var t=/[^.]+$/.exec(Kp&&Kp.keys&&Kp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o8(t){return!!lx&&lx in t}var a8=o8,l8=Function.prototype,c8=l8.toString;function u8(t){if(t!=null){try{return c8.call(t)}catch{}try{return t+""}catch{}}return""}var d8=u8,h8=n8,f8=a8,p8=kc,m8=d8,g8=/[\\^$.*+?()[\]{}|]/g,y8=/^\[object .+?Constructor\]$/,v8=Function.prototype,w8=Object.prototype,_8=v8.toString,E8=w8.hasOwnProperty,x8=RegExp("^"+_8.call(E8).replace(g8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T8(t){if(!p8(t)||f8(t))return!1;var e=h8(t)?x8:y8;return e.test(m8(t))}var I8=T8;function b8(t,e){return t==null?void 0:t[e]}var S8=b8,C8=I8,A8=S8;function R8(t,e){var n=A8(t,e);return C8(n)?n:void 0}var LR=R8,P8=LR,k8=P8(Object,"create"),gf=k8,cx=gf;function N8(){this.__data__=cx?cx(null):{},this.size=0}var O8=N8;function D8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var M8=D8,L8=gf,j8="__lodash_hash_undefined__",V8=Object.prototype,F8=V8.hasOwnProperty;function U8(t){var e=this.__data__;if(L8){var n=e[t];return n===j8?void 0:n}return F8.call(e,t)?e[t]:void 0}var $8=U8,z8=gf,B8=Object.prototype,H8=B8.hasOwnProperty;function W8(t){var e=this.__data__;return z8?e[t]!==void 0:H8.call(e,t)}var q8=W8,G8=gf,K8="__lodash_hash_undefined__";function Q8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=G8&&e===void 0?K8:e,this}var Y8=Q8,X8=O8,J8=M8,Z8=$8,eB=q8,tB=Y8;function Ta(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ta.prototype.clear=X8;Ta.prototype.delete=J8;Ta.prototype.get=Z8;Ta.prototype.has=eB;Ta.prototype.set=tB;var nB=Ta;function rB(){this.__data__=[],this.size=0}var iB=rB;function sB(t,e){return t===e||t!==t&&e!==e}var oB=sB,aB=oB;function lB(t,e){for(var n=t.length;n--;)if(aB(t[n][0],e))return n;return-1}var yf=lB,cB=yf,uB=Array.prototype,dB=uB.splice;function hB(t){var e=this.__data__,n=cB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dB.call(e,n,1),--this.size,!0}var fB=hB,pB=yf;function mB(t){var e=this.__data__,n=pB(e,t);return n<0?void 0:e[n][1]}var gB=mB,yB=yf;function vB(t){return yB(this.__data__,t)>-1}var wB=vB,_B=yf;function EB(t,e){var n=this.__data__,r=_B(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xB=EB,TB=iB,IB=fB,bB=gB,SB=wB,CB=xB;function Ia(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ia.prototype.clear=TB;Ia.prototype.delete=IB;Ia.prototype.get=bB;Ia.prototype.has=SB;Ia.prototype.set=CB;var AB=Ia,RB=LR,PB=mf,kB=RB(PB,"Map"),NB=kB,ux=nB,OB=AB,DB=NB;function MB(){this.size=0,this.__data__={hash:new ux,map:new(DB||OB),string:new ux}}var LB=MB;function jB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var VB=jB,FB=VB;function UB(t,e){var n=t.__data__;return FB(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vf=UB,$B=vf;function zB(t){var e=$B(this,t).delete(t);return this.size-=e?1:0,e}var BB=zB,HB=vf;function WB(t){return HB(this,t).get(t)}var qB=WB,GB=vf;function KB(t){return GB(this,t).has(t)}var QB=KB,YB=vf;function XB(t,e){var n=YB(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var JB=XB,ZB=LB,e7=BB,t7=qB,n7=QB,r7=JB;function ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ba.prototype.clear=ZB;ba.prototype.delete=e7;ba.prototype.get=t7;ba.prototype.has=n7;ba.prototype.set=r7;var i7=ba,jR=i7,s7="Expected a function";function ww(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(s7);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ww.Cache||jR),n}ww.Cache=jR;var o7=ww,a7=o7,l7=500;function c7(t){var e=a7(t,function(r){return n.size===l7&&n.clear(),r}),n=e.cache;return e}var u7=c7,d7=u7,h7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f7=/\\(\\)?/g;d7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(h7,function(n,r,i,s){e.push(i?s.replace(f7,"$1"):r||n)}),e});var dx=yw,hx=dx?dx.prototype:void 0;hx&&hx.toString;var p7=vw,m7=Ez,g7=MR,y7="[object String]";function v7(t){return typeof t=="string"||!m7(t)&&g7(t)&&p7(t)==y7}var w7=v7;const _7=hh(w7);var VR={exports:{}},Ce={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=Symbol.for("react.element"),Ew=Symbol.for("react.portal"),wf=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),Tf=Symbol.for("react.context"),E7=Symbol.for("react.server_context"),If=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),Af=Symbol.for("react.lazy"),x7=Symbol.for("react.offscreen"),FR;FR=Symbol.for("react.module.reference");function An(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _w:switch(t=t.type,t){case wf:case Ef:case _f:case bf:case Sf:return t;default:switch(t=t&&t.$$typeof,t){case E7:case Tf:case If:case Af:case Cf:case xf:return t;default:return e}}case Ew:return e}}}Ce.ContextConsumer=Tf;Ce.ContextProvider=xf;Ce.Element=_w;Ce.ForwardRef=If;Ce.Fragment=wf;Ce.Lazy=Af;Ce.Memo=Cf;Ce.Portal=Ew;Ce.Profiler=Ef;Ce.StrictMode=_f;Ce.Suspense=bf;Ce.SuspenseList=Sf;Ce.isAsyncMode=function(){return!1};Ce.isConcurrentMode=function(){return!1};Ce.isContextConsumer=function(t){return An(t)===Tf};Ce.isContextProvider=function(t){return An(t)===xf};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_w};Ce.isForwardRef=function(t){return An(t)===If};Ce.isFragment=function(t){return An(t)===wf};Ce.isLazy=function(t){return An(t)===Af};Ce.isMemo=function(t){return An(t)===Cf};Ce.isPortal=function(t){return An(t)===Ew};Ce.isProfiler=function(t){return An(t)===Ef};Ce.isStrictMode=function(t){return An(t)===_f};Ce.isSuspense=function(t){return An(t)===bf};Ce.isSuspenseList=function(t){return An(t)===Sf};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wf||t===Ef||t===_f||t===bf||t===Sf||t===x7||typeof t=="object"&&t!==null&&(t.$$typeof===Af||t.$$typeof===Cf||t.$$typeof===xf||t.$$typeof===Tf||t.$$typeof===If||t.$$typeof===FR||t.getModuleId!==void 0)};Ce.typeOf=An;VR.exports=Ce;var T7=VR.exports,Au=function(e){return _7(e)&&e.indexOf("%")===e.length-1},I7=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Qp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},b7=mf,S7=function(){return b7.Date.now()},C7=S7,A7=/\s/;function R7(t){for(var e=t.length;e--&&A7.test(t.charAt(e)););return e}var P7=R7,k7=P7,N7=/^\s+/;function O7(t){return t&&t.slice(0,k7(t)+1).replace(N7,"")}var D7=O7,M7=D7,fx=kc,L7=Gz,px=NaN,j7=/^[-+]0x[0-9a-f]+$/i,V7=/^0b[01]+$/i,F7=/^0o[0-7]+$/i,U7=parseInt;function $7(t){if(typeof t=="number")return t;if(L7(t))return px;if(fx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=M7(t);var n=V7.test(t);return n||F7.test(t)?U7(t.slice(2),n?2:8):j7.test(t)?px:+t}var z7=$7,B7=kc,Yp=C7,mx=z7,H7="Expected a function",W7=Math.max,q7=Math.min;function G7(t,e,n){var r,i,s,o,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(H7);e=mx(e)||0,B7(n)&&(d=!!n.leading,f="maxWait"in n,s=f?W7(mx(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function y(M){var S=r,I=i;return r=i=void 0,u=M,o=t.apply(I,S),o}function x(M){return u=M,a=setTimeout(E,e),d?y(M):o}function w(M){var S=M-l,I=M-u,A=e-S;return f?q7(A,s-I):A}function T(M){var S=M-l,I=M-u;return l===void 0||S>=e||S<0||f&&I>=s}function E(){var M=Yp();if(T(M))return _(M);a=setTimeout(E,w(M))}function _(M){return a=void 0,h&&r?y(M):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function k(){return a===void 0?o:_(Yp())}function N(){var M=Yp(),S=T(M);if(r=arguments,i=this,l=M,S){if(a===void 0)return x(l);if(f)return clearTimeout(a),a=setTimeout(E,e),y(l)}return a===void 0&&(a=setTimeout(E,e)),o}return N.cancel=b,N.flush=k,N}var K7=G7,Q7=K7,Y7=kc,X7="Expected a function";function J7(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(X7);return Y7(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Q7(t,e,{leading:r,maxWait:e,trailing:i})}var Z7=J7;const eH=hh(Z7);function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gx(Object(n),!0).forEach(function(r){tH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tH(t,e,n){return e=nH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nH(t){var e=rH(t,"string");return cc(e)=="symbol"?e:e+""}function rH(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iH(t,e){return lH(t)||aH(t,e)||oH(t,e)||sH()}function sH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(t,e){if(t){if(typeof t=="string")return yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(t,e)}}function yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function lH(t){if(Array.isArray(t))return t}var cH=v.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,x=t.debounce,w=x===void 0?0:x,T=t.id,E=t.className,_=t.onResize,b=t.style,k=b===void 0?{}:b,N=v.useRef(null),M=v.useRef();M.current=_,v.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var S=v.useState({containerWidth:i.width,containerHeight:i.height}),I=iH(S,2),A=I[0],R=I[1],O=v.useCallback(function(P,W){R(function(ee){var Q=Math.round(P),re=Math.round(W);return ee.containerWidth===Q&&ee.containerHeight===re?ee:{containerWidth:Q,containerHeight:re}})},[]);v.useEffect(function(){var P=function(F){var K,q=F[0].contentRect,Y=q.width,te=q.height;O(Y,te),(K=M.current)===null||K===void 0||K.call(M,Y,te)};w>0&&(P=eH(P,w,{trailing:!0,leading:!1}));var W=new ResizeObserver(P),ee=N.current.getBoundingClientRect(),Q=ee.width,re=ee.height;return O(Q,re),W.observe(N.current),function(){W.disconnect()}},[O,w]);var D=v.useMemo(function(){var P=A.containerWidth,W=A.containerHeight;if(P<0||W<0)return null;Qp(Au(o)||Au(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Qp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=Au(o)?P:o,Q=Au(l)?W:l;n&&n>0&&(ee?Q=ee/n:Q&&(ee=Q*n),h&&Q>h&&(Q=h)),Qp(ee>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,Q,o,l,d,f,n);var re=!Array.isArray(y)&&I7(y.type).endsWith("Chart");return B.Children.map(y,function(j){return T7.isElement(j)?v.cloneElement(j,Ru({width:ee,height:Q},re?{style:Ru({height:"100%",width:"100%",maxHeight:Q,maxWidth:ee},j.props.style)}:{})):j})},[n,y,l,h,f,d,A,o]);return B.createElement("div",{id:T?"".concat(T):void 0,className:tv("recharts-responsive-container",E),style:Ru(Ru({},k),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:N},D)});const uH={light:"",dark:".dark"},UR=v.createContext(null);function $R(){const t=v.useContext(UR);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const zR=v.forwardRef(({id:t,className:e,children:n,config:r,...i},s)=>{const o=v.useId(),a=`chart-${t||o.replace(/:/g,"")}`;return m.jsx(UR.Provider,{value:{config:r},children:m.jsxs("div",{"data-chart":a,ref:s,className:he("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[m.jsx(dH,{id:a,config:r}),m.jsx(cH,{children:n})]})})});zR.displayName="Chart";const dH=({id:t,config:e})=>{const n=Object.entries(e).filter(([r,i])=>i.theme||i.color);return n.length?m.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(uH).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([s,o])=>{var l;const a=((l=o.theme)==null?void 0:l[r])||o.color;return a?`  --color-${s}: ${a};`:null}).join(`
`)}
}
`).join(`
`)}}):null},hH=v.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:s=!1,label:o,labelFormatter:a,labelClassName:l,formatter:u,color:d,nameKey:f,labelKey:h},y)=>{const{config:x}=$R(),w=v.useMemo(()=>{var N;if(i||!(e!=null&&e.length))return null;const[E]=e,_=`${h||E.dataKey||E.name||"value"}`,b=Wg(x,E,_),k=!h&&typeof o=="string"?((N=x[o])==null?void 0:N.label)||o:b==null?void 0:b.label;return a?m.jsx("div",{className:he("font-medium",l),children:a(k,e)}):k?m.jsx("div",{className:he("font-medium",l),children:k}):null},[o,a,e,i,l,x,h]);if(!t||!(e!=null&&e.length))return null;const T=e.length===1&&r!=="dot";return m.jsxs("div",{ref:y,className:he("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[T?null:w,m.jsx("div",{className:"grid gap-1.5",children:e.map((E,_)=>{const b=`${f||E.name||E.dataKey||"value"}`,k=Wg(x,E,b),N=d||E.payload.fill||E.color;return m.jsx("div",{className:he("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&(E==null?void 0:E.value)!==void 0&&E.name?u(E.value,E.name,E,_,E.payload):m.jsxs(m.Fragment,{children:[k!=null&&k.icon?m.jsx(k.icon,{}):!s&&m.jsx("div",{className:he("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":T&&r==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),m.jsxs("div",{className:he("flex flex-1 justify-between leading-none",T?"items-end":"items-center"),children:[m.jsxs("div",{className:"grid gap-1.5",children:[T?w:null,m.jsx("span",{className:"text-muted-foreground",children:(k==null?void 0:k.label)||E.name})]}),E.value&&m.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:E.value.toLocaleString()})]})]})},E.dataKey)})})]})});hH.displayName="ChartTooltip";const fH=v.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},s)=>{const{config:o}=$R();return n!=null&&n.length?m.jsx("div",{ref:s,className:he("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(a=>{const l=`${i||a.dataKey||"value"}`,u=Wg(o,a,l);return m.jsxs("div",{className:he("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?m.jsx(u.icon,{}):m.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:a.color}}),u==null?void 0:u.label]},a.value)})}):null});fH.displayName="ChartLegend";function Wg(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}const Pu=wR(),ku=3,pH=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(""),[i,s]=v.useState(!1),[o,a]=v.useState(null),[l,u]=v.useState(!1),[d,f]=v.useState(0),[h,y]=v.useState(!1),x=v.useRef(null);v.useEffect(()=>{const N=Qh(vn,M=>{a(M),M&&y(!1)});return()=>N()},[]),v.useEffect(()=>{if(!o)return;const N=fz(Cu(Pu,"chats",o.uid,"messages"),pz("createdAt","asc")),M=vz(N,S=>{const I=S.docs.map(A=>{var O;const R=A.data();return{id:A.id,type:R.type,content:R.content,timestamp:(O=R.createdAt)!=null&&O.toDate?R.createdAt.toDate():new Date,suggestions:R.suggestions||void 0,showChart:R.showChart||!1}});e(I.length>0?I:[w()])});return()=>M()},[o]),v.useEffect(()=>{var N;t.length>1&&((N=x.current)==null||N.scrollIntoView({behavior:"smooth"}))},[t]);const w=()=>({id:"welcome",type:"ai",content:"Hello! I'm your FinSight AI advisor. You can try 3 free messages before signing in. I can help you optimize your portfolio, find tax-saving opportunities, and answer investment questions. What would you like to know?",timestamp:new Date,suggestions:["Should I sell my RELIANCE stocks?","What's my tax liability this year?","Find tax-loss harvesting opportunities","Show me a chart"]}),T=async N=>{if(!N.trim())return;if(!o&&d>=ku){y(!0);return}const M={type:"user",content:N,timestamp:new Date};r(""),s(!0),o?await qp(Cu(Pu,"chats",o.uid,"messages"),{...M,createdAt:Gp()}):(e(S=>[...S,{...M,id:Date.now().toString()}]),f(S=>S+1));try{const I={type:"ai",content:await mH(N),timestamp:new Date,suggestions:["Analyze my risk profile","Show portfolio allocation","Find rebalancing opportunities","Show me a chart"]};o?await qp(Cu(Pu,"chats",o.uid,"messages"),{...I,createdAt:Gp()}):(e(A=>[...A,{...I,id:(Date.now()+1).toString()}]),I.showChart&&u(!0),d+1>=ku&&setTimeout(()=>y(!0),500)),s(!1),I.showChart&&u(!0)}catch{const I=E(N);o?await qp(Cu(Pu,"chats",o.uid,"messages"),{...I,createdAt:Gp()}):(e(A=>[...A,{...I,id:(Date.now()+1).toString()}]),I.showChart&&u(!0),d+1>=ku&&setTimeout(()=>y(!0),500)),s(!1),I.showChart&&u(!0)}},E=N=>N.toLowerCase().includes("chart")?{type:"ai",content:"Here is a chart based on your portfolio data.",timestamp:new Date,showChart:!0}:{type:"ai",content:"I understand you're asking about portfolio optimization. Let me analyze your current holdings and market conditions to provide personalized advice. Based on your risk profile and investment goals, I recommend focusing on tax-efficient strategies.",timestamp:new Date,suggestions:["Analyze my risk profile","Show portfolio allocation","Find rebalancing opportunities","Show me a chart"]},_=N=>{T(N)},b=async()=>{const N=new Vn;try{await Av(vn,N)}catch{}},k=i||!o&&d>=ku;return m.jsxs("div",{className:"flex flex-col h-full min-h-[calc(100vh-80px)] w-full bg-background",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center w-full mt-6 gap-3 px-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center mb-2",children:m.jsx(El,{className:"w-9 h-9 text-white"})}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("h3",{className:"font-bold text-3xl text-foreground",children:"FinSight AI"}),m.jsx("span",{className:"inline-block bg-green-500 text-white text-sm font-semibold px-4 py-1 rounded-full shadow",children:"Online"})]}),m.jsx("p",{className:"text-base text-muted-foreground mt-1",children:"Your personal tax advisor"})]})]}),m.jsx("div",{className:"flex-1 flex flex-col justify-end w-full overflow-y-auto",children:l?m.jsx("div",{className:"flex-1 flex flex-col items-center justify-center w-full",children:m.jsx("div",{className:"w-full h-[400px] bg-card rounded-xl shadow-lg flex items-center justify-center mt-8",children:m.jsx(zR,{config:{portfolio:{color:"hsl(235,100%,65%)",label:"Portfolio"}},children:m.jsxs("svg",{width:"100%",height:"100%",children:[m.jsx("rect",{x:"40",y:"100",width:"60",height:"200",fill:"#6366f1",rx:"8"}),m.jsx("rect",{x:"120",y:"150",width:"60",height:"150",fill:"#818cf8",rx:"8"}),m.jsx("rect",{x:"200",y:"180",width:"60",height:"120",fill:"#a5b4fc",rx:"8"}),m.jsx("rect",{x:"280",y:"200",width:"60",height:"100",fill:"#c7d2fe",rx:"8"}),m.jsx("rect",{x:"360",y:"220",width:"60",height:"80",fill:"#e0e7ff",rx:"8"})]})})})}):m.jsx("div",{className:"flex-1 flex flex-col justify-end w-full overflow-y-auto",children:m.jsxs("div",{className:"flex flex-col gap-8 px-8 py-8 w-full",children:[t.map(N=>m.jsxs("div",{className:`flex ${N.type==="user"?"justify-end":"justify-start"} w-full`,children:[N.type==="ai"&&m.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center mr-4",children:m.jsx(El,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{className:`rounded-2xl px-7 py-5 text-lg shadow-lg max-w-3xl w-full ${N.type==="ai"?"bg-background/90 text-foreground border border-border/30":"bg-primary text-white border border-primary/30"}`,children:[N.content,N.suggestions&&m.jsx("div",{className:"flex flex-wrap gap-3 mt-4",children:N.suggestions.map((M,S)=>m.jsx(Xe,{variant:"outline",size:"sm",className:"rounded-full border-border/40 text-sm px-4 py-2 hover:bg-primary/10 hover:text-primary transition",onClick:()=>_(M),children:M},S))})]}),N.type==="user"&&m.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center ml-4",children:m.jsx(Tl,{className:"w-6 h-6 text-muted-foreground"})})]},N.id)),i&&m.jsxs("div",{className:"flex gap-4 justify-start items-center w-full",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:m.jsx(El,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{className:"bg-background/80 border border-border/50 px-7 py-5 rounded-2xl flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),m.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),m.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),m.jsx("div",{ref:x})]})})}),m.jsx("form",{className:"flex items-center gap-4 px-4 py-6 w-full bg-transparent border-t border-border/50 justify-center",style:{position:"sticky",bottom:0,background:"transparent"},onSubmit:N=>{N.preventDefault(),T(n)},children:m.jsxs("div",{className:"w-full max-w-3xl flex items-center gap-4",children:[m.jsx(Eo,{value:n,onChange:N=>r(N.target.value),placeholder:"Ask about your investments, tax optimization...",className:"flex-1 bg-background/80 border-border/50 rounded-full px-8 h-16 text-lg focus:ring-2 focus:ring-primary/30 transition",disabled:k}),m.jsx(Xe,{type:"submit",className:"bg-gradient-primary hover:opacity-90 rounded-full shadow-lg px-8 h-16 text-lg",disabled:!n.trim()||k,children:m.jsx(ND,{className:"w-7 h-7"})})]})}),h&&!o&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl p-8 flex flex-col items-center gap-6 border border-border/40 max-w-sm w-full",children:[m.jsx(H_,{className:"w-10 h-10 text-primary mb-2"}),m.jsx("h2",{className:"text-xl font-bold text-foreground text-center",children:"Sign In / Sign Up Required"}),m.jsx("p",{className:"text-muted-foreground text-center",children:"You have used your 3 free messages. Please sign in to continue chatting and save your history."}),m.jsxs(Xe,{onClick:b,className:"w-full bg-gradient-primary text-white font-semibold rounded-lg shadow hover:opacity-90 transition-all duration-200 flex items-center justify-center gap-2",children:[m.jsx(H_,{className:"w-5 h-5"}),"Continue with Google"]}),m.jsx(Xe,{variant:"ghost",onClick:()=>y(!1),className:"w-full",children:"Cancel"})]})})]})};async function mH(t){var i,s;const r=await(await fetch("https://generativelanguage.googleapis.com/v1beta3/models/chat-bison-001:generateMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:{messages:[{content:t}]},temperature:.2,candidateCount:1})})).json();return(s=(i=r.candidates)==null?void 0:i[0])!=null&&s.content?r.candidates[0].content:r.error?`API Error: ${r.error.message||JSON.stringify(r.error)}`:"Sorry, I couldn't generate a response."}var xw="Avatar",[gH,AG]=Fs(xw),[yH,BR]=gH(xw),HR=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=v.useState("idle");return m.jsx(yH,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(Ee.span,{...r,ref:e})})});HR.displayName=xw;var WR="AvatarImage",qR=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=BR(WR,n),a=vH(r,s.referrerPolicy),l=Dt(u=>{i(u),o.onImageLoadingStatusChange(u)});return Wn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?m.jsx(Ee.img,{...s,ref:e,src:r}):null});qR.displayName=WR;var GR="AvatarFallback",KR=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=BR(GR,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?m.jsx(Ee.span,{...i,ref:e}):null});KR.displayName=GR;function vH(t,e){const[n,r]=v.useState("idle");return Wn(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var QR=HR,YR=qR,XR=KR;const qg=v.forwardRef(({className:t,...e},n)=>m.jsx(QR,{ref:n,className:he("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));qg.displayName=QR.displayName;const Gg=v.forwardRef(({className:t,...e},n)=>m.jsx(YR,{ref:n,className:he("aspect-square h-full w-full",t),...e}));Gg.displayName=YR.displayName;const Kg=v.forwardRef(({className:t,...e},n)=>m.jsx(XR,{ref:n,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Kg.displayName=XR.displayName;const JR=v.createContext({user:null,loading:!0}),wH=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!0);return v.useEffect(()=>{const s=Qh(vn,o=>{n(o),i(!1)});return()=>s()},[]),m.jsx(JR.Provider,{value:{user:e,loading:r},children:t})},_H=()=>v.useContext(JR);var EH=v.createContext(void 0);function Tw(t){const e=v.useContext(EH);return t||e||"ltr"}var Xp=0;function xH(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??vx()),document.body.insertAdjacentElement("beforeend",t[1]??vx()),Xp++,()=>{Xp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xp--}},[])}function vx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jp="focusScope.autoFocusOnMount",Zp="focusScope.autoFocusOnUnmount",wx={bubbles:!1,cancelable:!0},TH="FocusScope",ZR=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=v.useState(null),u=Dt(i),d=Dt(s),f=v.useRef(null),h=at(e,w=>l(w)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(b){if(y.paused||!a)return;const k=b.target;a.contains(k)?f.current=k:ui(f.current,{select:!0})},T=function(b){if(y.paused||!a)return;const k=b.relatedTarget;k!==null&&(a.contains(k)||ui(f.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&ui(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",T);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,y.paused]),v.useEffect(()=>{if(a){Ex.add(y);const w=document.activeElement;if(!a.contains(w)){const E=new CustomEvent(Jp,wx);a.addEventListener(Jp,u),a.dispatchEvent(E),E.defaultPrevented||(IH(RH(eP(a)),{select:!0}),document.activeElement===w&&ui(a))}return()=>{a.removeEventListener(Jp,u),setTimeout(()=>{const E=new CustomEvent(Zp,wx);a.addEventListener(Zp,d),a.dispatchEvent(E),E.defaultPrevented||ui(w??document.body,{select:!0}),a.removeEventListener(Zp,d),Ex.remove(y)},0)}}},[a,u,d,y]);const x=v.useCallback(w=>{if(!n&&!r||y.paused)return;const T=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(T&&E){const _=w.currentTarget,[b,k]=bH(_);b&&k?!w.shiftKey&&E===k?(w.preventDefault(),n&&ui(b,{select:!0})):w.shiftKey&&E===b&&(w.preventDefault(),n&&ui(k,{select:!0})):E===_&&w.preventDefault()}},[n,r,y.paused]);return m.jsx(Ee.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});ZR.displayName=TH;function IH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ui(r,{select:e}),document.activeElement!==n)return}function bH(t){const e=eP(t),n=_x(e,t),r=_x(e.reverse(),t);return[n,r]}function eP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _x(t,e){for(const n of t)if(!SH(n,{upTo:e}))return n}function SH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function CH(t){return t instanceof HTMLInputElement&&"select"in t}function ui(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&CH(t)&&e&&t.select()}}var Ex=AH();function AH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xx(t,e),t.unshift(e)},remove(e){var n;t=xx(t,e),(n=t[0])==null||n.resume()}}}function xx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function RH(t){return t.filter(e=>e.tagName!=="A")}function PH(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:y,...x}=f,w=(h==null?void 0:h[t][l])||a,T=v.useMemo(()=>x,Object.values(x));return m.jsx(w.Provider,{value:T,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,x=v.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,kH(i,...e)]}function kH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var em="rovingFocusGroup.onEntryFocus",NH={bubbles:!1,cancelable:!0},Rf="RovingFocusGroup",[Qg,tP,OH]=Ph(Rf),[DH,nP]=PH(Rf,[OH]),[MH,LH]=DH(Rf),rP=v.forwardRef((t,e)=>m.jsx(Qg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Qg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(jH,{...t,ref:e})})}));rP.displayName=Rf;var jH=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=v.useRef(null),y=at(e,h),x=Tw(s),[w=null,T]=ha({prop:o,defaultProp:a,onChange:l}),[E,_]=v.useState(!1),b=Dt(u),k=tP(n),N=v.useRef(!1),[M,S]=v.useState(0);return v.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(em,b),()=>I.removeEventListener(em,b)},[b]),m.jsx(MH,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:w,onItemFocus:v.useCallback(I=>T(I),[T]),onItemShiftTab:v.useCallback(()=>_(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>S(I=>I-1),[]),children:m.jsx(Ee.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{N.current=!0}),onFocus:ie(t.onFocus,I=>{const A=!N.current;if(I.target===I.currentTarget&&A&&!E){const R=new CustomEvent(em,NH);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=k().filter(Q=>Q.focusable),D=O.find(Q=>Q.active),P=O.find(Q=>Q.id===w),ee=[D,P,...O].filter(Boolean).map(Q=>Q.ref.current);oP(ee,d)}}N.current=!1}),onBlur:ie(t.onBlur,()=>_(!1))})})}),iP="RovingFocusGroupItem",sP=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Kl(),l=s||a,u=LH(iP,n),d=u.currentTabStopId===l,f=tP(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=u;return v.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),m.jsx(Qg.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:m.jsx(Ee.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,x=>{r?u.onItemFocus(l):x.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ie(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=UH(x,u.orientation,u.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=f().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const _=E.indexOf(x.currentTarget);E=u.loop?$H(E,_+1):E.slice(_+1)}setTimeout(()=>oP(E))}})})})});sP.displayName=iP;var VH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function UH(t,e,n){const r=FH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return VH[r]}function oP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function $H(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var zH=rP,BH=sP,HH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},to=new WeakMap,Nu=new WeakMap,Ou={},tm=0,aP=function(t){return t&&(t.host||aP(t.parentNode))},WH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},qH=function(t,e,n,r){var i=WH(e,Array.isArray(t)?t:[t]);Ou[n]||(Ou[n]=new WeakMap);var s=Ou[n],o=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var y=h.getAttribute(r),x=y!==null&&y!=="false",w=(to.get(h)||0)+1,T=(s.get(h)||0)+1;to.set(h,w),s.set(h,T),o.push(h),w===1&&x&&Nu.set(h,!0),T===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",h,E)}})};return d(e),a.clear(),tm++,function(){o.forEach(function(f){var h=to.get(f)-1,y=s.get(f)-1;to.set(f,h),s.set(f,y),h||(Nu.has(f)||f.removeAttribute(r),Nu.delete(f)),y||f.removeAttribute(n)}),tm--,tm||(to=new WeakMap,to=new WeakMap,Nu=new WeakMap,Ou={})}},GH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=HH(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qH(r,i,n,"aria-hidden")):function(){return null}},lr=function(){return lr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lr.apply(this,arguments)};function lP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KH(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ad="right-scroll-bar-position",ld="width-before-scroll-bar",QH="with-scroll-bars-hidden",YH="--removed-body-scroll-bar-size";function nm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XH(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var JH=typeof window<"u"?v.useLayoutEffect:v.useEffect,Tx=new WeakMap;function ZH(t,e){var n=XH(null,function(r){return t.forEach(function(i){return nm(i,r)})});return JH(function(){var r=Tx.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||nm(a,null)}),s.forEach(function(a){i.has(a)||nm(a,o)})}Tx.set(n,t)},[t]),n}function eW(t){return t}function tW(t,e){e===void 0&&(e=eW);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function nW(t){t===void 0&&(t={});var e=tW(null);return e.options=lr({async:!0,ssr:!1},t),e}var cP=function(t){var e=t.sideCar,n=lP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,lr({},n))};cP.isSideCarExport=!0;function rW(t,e){return t.useMedium(e),cP}var uP=nW(),rm=function(){},Pf=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:rm,onWheelCapture:rm,onTouchMoveCapture:rm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,y=t.noIsolation,x=t.inert,w=t.allowPinchZoom,T=t.as,E=T===void 0?"div":T,_=t.gapMode,b=lP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=h,N=ZH([n,e]),M=lr(lr({},b),i);return v.createElement(v.Fragment,null,d&&v.createElement(k,{sideCar:uP,removeScrollBar:u,shards:f,noIsolation:y,inert:x,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:_}),o?v.cloneElement(v.Children.only(a),lr(lr({},M),{ref:N})):v.createElement(E,lr({},M,{className:l,ref:N}),a))});Pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pf.classNames={fullWidth:ld,zeroRight:ad};var iW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iW();return e&&t.setAttribute("nonce",e),t}function oW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sW())&&(oW(e,n),aW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cW=function(){var t=lW();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dP=function(){var t=cW(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},uW={left:0,top:0,right:0,gap:0},im=function(t){return parseInt(t||"",10)||0},dW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[im(n),im(r),im(i)]},hW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uW;var e=dW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fW=dP(),Lo="data-scroll-locked",pW=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(QH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Lo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ad,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ld,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Lo,`] {
    `).concat(YH,": ").concat(a,`px;
  }
`)},Ix=function(){var t=parseInt(document.body.getAttribute(Lo)||"0",10);return isFinite(t)?t:0},mW=function(){v.useEffect(function(){return document.body.setAttribute(Lo,(Ix()+1).toString()),function(){var t=Ix()-1;t<=0?document.body.removeAttribute(Lo):document.body.setAttribute(Lo,t.toString())}},[])},gW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;mW();var s=v.useMemo(function(){return hW(i)},[i]);return v.createElement(fW,{styles:pW(s,!e,i,n?"":"!important")})},Yg=!1;if(typeof window<"u")try{var Du=Object.defineProperty({},"passive",{get:function(){return Yg=!0,!0}});window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{Yg=!1}var no=Yg?{passive:!1}:!1,yW=function(t){return t.tagName==="TEXTAREA"},hP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yW(t)&&n[e]==="visible")},vW=function(t){return hP(t,"overflowY")},wW=function(t){return hP(t,"overflowX")},bx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=fP(t,r);if(i){var s=pP(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_W=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},EW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},fP=function(t,e){return t==="v"?vW(e):wW(e)},pP=function(t,e){return t==="v"?_W(e):EW(e)},xW=function(t,e){return t==="h"&&e==="rtl"?-1:1},TW=function(t,e,n,r,i){var s=xW(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var y=pP(t,a),x=y[0],w=y[1],T=y[2],E=w-T-s*x;(x||E)&&fP(t,a)&&(f+=E,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Mu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sx=function(t){return[t.deltaX,t.deltaY]},Cx=function(t){return t&&"current"in t?t.current:t},IW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SW=0,ro=[];function CW(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(SW++)[0],s=v.useState(dP)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=KH([t.lockRef.current],(t.shards||[]).map(Cx),!0).filter(Boolean);return w.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(w,T){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var E=Mu(w),_=n.current,b="deltaX"in w?w.deltaX:_[0]-E[0],k="deltaY"in w?w.deltaY:_[1]-E[1],N,M=w.target,S=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in w&&S==="h"&&M.type==="range")return!1;var I=bx(S,M);if(!I)return!0;if(I?N=S:(N=S==="v"?"h":"v",I=bx(S,M)),!I)return!1;if(!r.current&&"changedTouches"in w&&(b||k)&&(r.current=N),!N)return!0;var A=r.current||N;return TW(A,T,w,A==="h"?b:k,!0)},[]),l=v.useCallback(function(w){var T=w;if(!(!ro.length||ro[ro.length-1]!==s)){var E="deltaY"in T?Sx(T):Mu(T),_=e.current.filter(function(N){return N.name===T.type&&(N.target===T.target||T.target===N.shadowParent)&&IW(N.delta,E)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var b=(o.current.shards||[]).map(Cx).filter(Boolean).filter(function(N){return N.contains(T.target)}),k=b.length>0?a(T,b[0]):!o.current.noIsolation;k&&T.cancelable&&T.preventDefault()}}},[]),u=v.useCallback(function(w,T,E,_){var b={name:w,delta:T,target:E,should:_,shadowParent:AW(E)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(k){return k!==b})},1)},[]),d=v.useCallback(function(w){n.current=Mu(w),r.current=void 0},[]),f=v.useCallback(function(w){u(w.type,Sx(w),w.target,a(w,t.lockRef.current))},[]),h=v.useCallback(function(w){u(w.type,Mu(w),w.target,a(w,t.lockRef.current))},[]);v.useEffect(function(){return ro.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,no),document.addEventListener("touchmove",l,no),document.addEventListener("touchstart",d,no),function(){ro=ro.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,no),document.removeEventListener("touchmove",l,no),document.removeEventListener("touchstart",d,no)}},[]);var y=t.removeScrollBar,x=t.inert;return v.createElement(v.Fragment,null,x?v.createElement(s,{styles:bW(i)}):null,y?v.createElement(gW,{gapMode:t.gapMode}):null)}function AW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const RW=rW(uP,CW);var mP=v.forwardRef(function(t,e){return v.createElement(Pf,lr({},t,{ref:e,sideCar:RW}))});mP.classNames=Pf.classNames;var Xg=["Enter"," "],PW=["ArrowDown","PageUp","Home"],gP=["ArrowUp","PageDown","End"],kW=[...PW,...gP],NW={ltr:[...Xg,"ArrowRight"],rtl:[...Xg,"ArrowLeft"]},OW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nc="Menu",[uc,DW,MW]=Ph(Nc),[Ks,yP]=Fs(Nc,[MW,Vh,nP]),kf=Vh(),vP=nP(),[LW,Qs]=Ks(Nc),[jW,Oc]=Ks(Nc),wP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=kf(e),[l,u]=v.useState(null),d=v.useRef(!1),f=Dt(s),h=Tw(i);return v.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),m.jsx(i4,{...a,children:m.jsx(LW,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u,children:m.jsx(jW,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};wP.displayName=Nc;var VW="MenuAnchor",Iw=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kf(n);return m.jsx(tS,{...i,...r,ref:e})});Iw.displayName=VW;var bw="MenuPortal",[FW,_P]=Ks(bw,{forceMount:void 0}),EP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Qs(bw,e);return m.jsx(FW,{scope:e,forceMount:n,children:m.jsx(ns,{present:n||s.open,children:m.jsx(Xy,{asChild:!0,container:i,children:r})})})};EP.displayName=bw;var In="MenuContent",[UW,Sw]=Ks(In),xP=v.forwardRef((t,e)=>{const n=_P(In,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Qs(In,t.__scopeMenu),o=Oc(In,t.__scopeMenu);return m.jsx(uc.Provider,{scope:t.__scopeMenu,children:m.jsx(ns,{present:r||s.open,children:m.jsx(uc.Slot,{scope:t.__scopeMenu,children:o.modal?m.jsx($W,{...i,ref:e}):m.jsx(zW,{...i,ref:e})})})})}),$W=v.forwardRef((t,e)=>{const n=Qs(In,t.__scopeMenu),r=v.useRef(null),i=at(e,r);return v.useEffect(()=>{const s=r.current;if(s)return GH(s)},[]),m.jsx(Cw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zW=v.forwardRef((t,e)=>{const n=Qs(In,t.__scopeMenu);return m.jsx(Cw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Cw=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,disableOutsideScroll:x,...w}=t,T=Qs(In,n),E=Oc(In,n),_=kf(n),b=vP(n),k=DW(n),[N,M]=v.useState(null),S=v.useRef(null),I=at(e,S,T.onContentChange),A=v.useRef(0),R=v.useRef(""),O=v.useRef(0),D=v.useRef(null),P=v.useRef("right"),W=v.useRef(0),ee=x?mP:v.Fragment,Q=x?{as:Zo,allowPinchZoom:!0}:void 0,re=F=>{var Fe,Zt;const K=R.current+F,q=k().filter(et=>!et.disabled),Y=document.activeElement,te=(Fe=q.find(et=>et.ref.current===Y))==null?void 0:Fe.textValue,Ie=q.map(et=>et.textValue),He=eq(Ie,K,te),fe=(Zt=q.find(et=>et.textValue===He))==null?void 0:Zt.ref.current;(function et(Et){R.current=Et,window.clearTimeout(A.current),Et!==""&&(A.current=window.setTimeout(()=>et(""),1e3))})(K),fe&&setTimeout(()=>fe.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),xH();const j=v.useCallback(F=>{var q,Y;return P.current===((q=D.current)==null?void 0:q.side)&&nq(F,(Y=D.current)==null?void 0:Y.area)},[]);return m.jsx(UW,{scope:n,searchRef:R,onItemEnter:v.useCallback(F=>{j(F)&&F.preventDefault()},[j]),onItemLeave:v.useCallback(F=>{var K;j(F)||((K=S.current)==null||K.focus(),M(null))},[j]),onTriggerLeave:v.useCallback(F=>{j(F)&&F.preventDefault()},[j]),pointerGraceTimerRef:O,onPointerGraceIntentChange:v.useCallback(F=>{D.current=F},[]),children:m.jsx(ee,{...Q,children:m.jsx(ZR,{asChild:!0,trapped:i,onMountAutoFocus:ie(s,F=>{var K;F.preventDefault(),(K=S.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:m.jsx(kh,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,children:m.jsx(zH,{asChild:!0,...b,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:M,onEntryFocus:ie(l,F=>{E.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(nS,{role:"menu","aria-orientation":"vertical","data-state":VP(T.open),"data-radix-menu-content":"",dir:E.dir,..._,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:ie(w.onKeyDown,F=>{const q=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Y=F.ctrlKey||F.altKey||F.metaKey,te=F.key.length===1;q&&(F.key==="Tab"&&F.preventDefault(),!Y&&te&&re(F.key));const Ie=S.current;if(F.target!==Ie||!kW.includes(F.key))return;F.preventDefault();const fe=k().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);gP.includes(F.key)&&fe.reverse(),JW(fe)}),onBlur:ie(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:ie(t.onPointerMove,dc(F=>{const K=F.target,q=W.current!==F.clientX;if(F.currentTarget.contains(K)&&q){const Y=F.clientX>W.current?"right":"left";P.current=Y,W.current=F.clientX}}))})})})})})})});xP.displayName=In;var BW="MenuGroup",Aw=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(Ee.div,{role:"group",...r,ref:e})});Aw.displayName=BW;var HW="MenuLabel",TP=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(Ee.div,{...r,ref:e})});TP.displayName=HW;var ch="MenuItem",Ax="menu.itemSelect",Nf=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=v.useRef(null),o=Oc(ch,t.__scopeMenu),a=Sw(ch,t.__scopeMenu),l=at(e,s),u=v.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(Ax,{bubbles:!0,cancelable:!0});f.addEventListener(Ax,y=>r==null?void 0:r(y),{once:!0}),Yy(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return m.jsx(IP,{...i,ref:l,disabled:n,onClick:ie(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:ie(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ie(t.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||Xg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Nf.displayName=ch;var IP=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Sw(ch,n),a=vP(n),l=v.useRef(null),u=at(e,l),[d,f]=v.useState(!1),[h,y]=v.useState("");return v.useEffect(()=>{const x=l.current;x&&y((x.textContent??"").trim())},[s.children]),m.jsx(uc.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:m.jsx(BH,{asChild:!0,...a,focusable:!r,children:m.jsx(Ee.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ie(t.onPointerMove,dc(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,dc(x=>o.onItemLeave(x))),onFocus:ie(t.onFocus,()=>f(!0)),onBlur:ie(t.onBlur,()=>f(!1))})})})}),WW="MenuCheckboxItem",bP=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return m.jsx(PP,{scope:t.__scopeMenu,checked:n,children:m.jsx(Nf,{role:"menuitemcheckbox","aria-checked":uh(n)?"mixed":n,...i,ref:e,"data-state":Pw(n),onSelect:ie(i.onSelect,()=>r==null?void 0:r(uh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bP.displayName=WW;var SP="MenuRadioGroup",[qW,GW]=Ks(SP,{value:void 0,onValueChange:()=>{}}),CP=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Dt(r);return m.jsx(qW,{scope:t.__scopeMenu,value:n,onValueChange:s,children:m.jsx(Aw,{...i,ref:e})})});CP.displayName=SP;var AP="MenuRadioItem",RP=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=GW(AP,t.__scopeMenu),s=n===i.value;return m.jsx(PP,{scope:t.__scopeMenu,checked:s,children:m.jsx(Nf,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Pw(s),onSelect:ie(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});RP.displayName=AP;var Rw="MenuItemIndicator",[PP,KW]=Ks(Rw,{checked:!1}),kP=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=KW(Rw,n);return m.jsx(ns,{present:r||uh(s.checked)||s.checked===!0,children:m.jsx(Ee.span,{...i,ref:e,"data-state":Pw(s.checked)})})});kP.displayName=Rw;var QW="MenuSeparator",NP=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});NP.displayName=QW;var YW="MenuArrow",OP=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kf(n);return m.jsx(rS,{...i,...r,ref:e})});OP.displayName=YW;var XW="MenuSub",[RG,DP]=Ks(XW),ul="MenuSubTrigger",MP=v.forwardRef((t,e)=>{const n=Qs(ul,t.__scopeMenu),r=Oc(ul,t.__scopeMenu),i=DP(ul,t.__scopeMenu),s=Sw(ul,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),m.jsx(Iw,{asChild:!0,...u,children:m.jsx(IP,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":VP(n.open),...t,ref:Rh(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,dc(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ie(t.onPointerLeave,dc(f=>{var y,x;d();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const w=(x=n.content)==null?void 0:x.dataset.side,T=w==="right",E=T?-5:5,_=h[T?"left":"right"],b=h[T?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:_,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:_,y:h.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,f=>{var y;const h=s.searchRef.current!=="";t.disabled||h&&f.key===" "||NW[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});MP.displayName=ul;var LP="MenuSubContent",jP=v.forwardRef((t,e)=>{const n=_P(In,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Qs(In,t.__scopeMenu),o=Oc(In,t.__scopeMenu),a=DP(LP,t.__scopeMenu),l=v.useRef(null),u=at(e,l);return m.jsx(uc.Provider,{scope:t.__scopeMenu,children:m.jsx(ns,{present:r||s.open,children:m.jsx(uc.Slot,{scope:t.__scopeMenu,children:m.jsx(Cw,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ie(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ie(t.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),h=OW[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),d.preventDefault())})})})})})});jP.displayName=LP;function VP(t){return t?"open":"closed"}function uh(t){return t==="indeterminate"}function Pw(t){return uh(t)?"indeterminate":t?"checked":"unchecked"}function JW(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function ZW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function eq(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=ZW(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function tq(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function nq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return tq(n,e)}function dc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var rq=wP,iq=Iw,sq=EP,oq=xP,aq=Aw,lq=TP,cq=Nf,uq=bP,dq=CP,hq=RP,fq=kP,pq=NP,mq=OP,gq=MP,yq=jP,kw="DropdownMenu",[vq,PG]=Fs(kw,[yP]),Bt=yP(),[wq,FP]=vq(kw),UP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Bt(e),u=v.useRef(null),[d=!1,f]=ha({prop:i,defaultProp:s,onChange:o});return m.jsx(wq,{scope:e,triggerId:Kl(),triggerRef:u,contentId:Kl(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:a,children:m.jsx(rq,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};UP.displayName=kw;var $P="DropdownMenuTrigger",zP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=FP($P,n),o=Bt(n);return m.jsx(iq,{asChild:!0,...o,children:m.jsx(Ee.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Rh(e,s.triggerRef),onPointerDown:ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});zP.displayName=$P;var _q="DropdownMenuPortal",BP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Bt(e);return m.jsx(sq,{...r,...n})};BP.displayName=_q;var HP="DropdownMenuContent",WP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=FP(HP,n),s=Bt(n),o=v.useRef(!1);return m.jsx(oq,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WP.displayName=HP;var Eq="DropdownMenuGroup",xq=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(aq,{...i,...r,ref:e})});xq.displayName=Eq;var Tq="DropdownMenuLabel",qP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(lq,{...i,...r,ref:e})});qP.displayName=Tq;var Iq="DropdownMenuItem",GP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(cq,{...i,...r,ref:e})});GP.displayName=Iq;var bq="DropdownMenuCheckboxItem",KP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(uq,{...i,...r,ref:e})});KP.displayName=bq;var Sq="DropdownMenuRadioGroup",Cq=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(dq,{...i,...r,ref:e})});Cq.displayName=Sq;var Aq="DropdownMenuRadioItem",QP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(hq,{...i,...r,ref:e})});QP.displayName=Aq;var Rq="DropdownMenuItemIndicator",YP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(fq,{...i,...r,ref:e})});YP.displayName=Rq;var Pq="DropdownMenuSeparator",XP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(pq,{...i,...r,ref:e})});XP.displayName=Pq;var kq="DropdownMenuArrow",Nq=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(mq,{...i,...r,ref:e})});Nq.displayName=kq;var Oq="DropdownMenuSubTrigger",JP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(gq,{...i,...r,ref:e})});JP.displayName=Oq;var Dq="DropdownMenuSubContent",ZP=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(yq,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZP.displayName=Dq;var Mq=UP,Lq=zP,jq=BP,ek=WP,tk=qP,nk=GP,rk=KP,ik=QP,sk=YP,ok=XP,ak=JP,lk=ZP;const Vq=Mq,Fq=Lq,Uq=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>m.jsxs(ak,{ref:i,className:he("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,m.jsx(TD,{className:"ml-auto h-4 w-4"})]}));Uq.displayName=ak.displayName;const $q=v.forwardRef(({className:t,...e},n)=>m.jsx(lk,{ref:n,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));$q.displayName=lk.displayName;const ck=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(jq,{children:m.jsx(ek,{ref:r,sideOffset:e,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ck.displayName=ek.displayName;const uk=v.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(nk,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));uk.displayName=nk.displayName;const zq=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>m.jsxs(rk,{ref:i,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(sk,{children:m.jsx(ED,{className:"h-4 w-4"})})}),e]}));zq.displayName=rk.displayName;const Bq=v.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(ik,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(sk,{children:m.jsx(SD,{className:"h-2 w-2 fill-current"})})}),e]}));Bq.displayName=ik.displayName;const Hq=v.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(tk,{ref:r,className:he("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Hq.displayName=tk.displayName;const Wq=v.forwardRef(({className:t,...e},n)=>m.jsx(ok,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));Wq.displayName=ok.displayName;const qq=({activeTab:t,onTabChange:e,onShowAuth:n})=>{const[r,i]=v.useState(!1),{user:s}=_H(),o=async()=>{const u=new Vn;try{await Av(vn,u)}catch{}},a=async()=>{try{await mC(vn)}catch{}},l=[{id:"home",label:"Home",icon:RD},{id:"dashboard",label:"Dashboard",icon:Ib},{id:"chat",label:"AI Chat",icon:kD},{id:"notifications",label:"Alerts",icon:_D},{id:"settings",label:"Settings",icon:OD},{id:"about",label:"About Us",icon:Tl}];return m.jsxs(m.Fragment,{children:[m.jsxs("nav",{className:"hidden md:flex items-center justify-between p-6 bg-card/50 border-b border-border/50 backdrop-blur-sm sticky top-0 z-50",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:"/FinSightAI.png",alt:"FinSight Logo",className:"w-10 h-10 rounded-lg"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"FinSight"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Investment Advisor"})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:l.map(u=>{const d=u.icon;return m.jsxs(Xe,{variant:t===u.id?"default":"ghost",onClick:()=>e(u.id),className:`flex items-center gap-2 transition-all duration-300 ${t===u.id?"bg-gradient-primary text-white shadow-glow":"hover:bg-card/80"}`,children:[m.jsx(d,{className:"w-4 h-4"}),u.label]},u.id)})}),s?m.jsxs(Vq,{children:[m.jsx(Fq,{asChild:!0,children:m.jsxs("div",{className:"flex items-center gap-4 cursor-pointer focus:outline-none",children:[m.jsxs(qg,{className:"h-12 w-12 border-4 border-white shadow-2xl bg-accent",children:[m.jsx(Gg,{src:s.photoURL||void 0,alt:s.displayName||s.email||void 0}),m.jsx(Kg,{className:"text-lg font-bold bg-primary text-white",children:s.displayName?s.displayName[0]:s.email?s.email[0].toUpperCase():"U"})]}),m.jsx("span",{className:"text-base font-semibold text-foreground",children:s.displayName||s.email||"User"})]})}),m.jsx(ck,{align:"end",children:m.jsx(uk,{onClick:a,className:"text-red-600 font-semibold cursor-pointer",children:"Log Out"})})]}):m.jsxs(Xe,{variant:"outline",size:"sm",className:"border-border/50",onClick:n||o,children:[m.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Sign In / Sign Up"]})]}),m.jsxs("nav",{className:"md:hidden",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-card/50 border-b border-border/50 backdrop-blur-sm sticky top-0 z-50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:m.jsx(xl,{className:"w-5 h-5 text-white"})}),m.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"FinSight"})]}),m.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>i(!r),children:r?m.jsx(Sb,{className:"w-5 h-5"}):m.jsx(PD,{className:"w-5 h-5"})})]}),r&&m.jsx("div",{className:"fixed inset-0 z-40 bg-background/95 backdrop-blur-sm",children:m.jsxs("div",{className:"p-6 pt-20 space-y-4",children:[l.map(u=>{const d=u.icon;return m.jsxs(Xe,{variant:t===u.id?"default":"ghost",onClick:()=>{e(u.id),i(!1)},className:`w-full justify-start gap-3 h-12 text-left ${t===u.id?"bg-gradient-primary text-white":"hover:bg-card/80"}`,children:[m.jsx(d,{className:"w-5 h-5"}),u.label]},u.id)}),m.jsx("div",{className:"pt-6 border-t border-border/50",children:s?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs(qg,{children:[m.jsx(Gg,{src:s.photoURL||void 0,alt:s.displayName||void 0}),m.jsx(Kg,{children:s.displayName?s.displayName[0]:"U"})]}),m.jsx(Xe,{variant:"outline",className:"w-full justify-start gap-3 h-12 border-border/50",onClick:a,children:"Sign Out"})]}):m.jsxs(Xe,{variant:"outline",className:"w-full justify-start gap-3 h-12 border-border/50",onClick:n||o,children:[m.jsx(Tl,{className:"w-5 h-5"}),"Sign In / Sign Up"]})})]})})]}),m.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-card/95 border-t border-border/50 backdrop-blur-sm z-50",children:m.jsx("div",{className:"flex justify-around py-2",children:l.slice(0,4).map(u=>{const d=u.icon;return m.jsxs(Xe,{variant:"ghost",size:"sm",onClick:()=>e(u.id),className:`flex flex-col gap-1 h-auto py-2 px-3 ${t===u.id?"text-primary":"text-muted-foreground"}`,children:[m.jsx(d,{className:"w-5 h-5"}),m.jsx("span",{className:"text-xs",children:u.label})]},u.id)})})})]})},Gq=({onClose:t})=>{const[e,n]=v.useState("signIn"),[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState(""),[u,d]=v.useState(!1),[f,h]=v.useState(!0),[y,x]=v.useState(!1),[w,T]=v.useState(null),[E,_]=v.useState(null),[b,k]=v.useState(!1),[N,M]=v.useState(""),S=async()=>{T(null),_(null),x(!0);try{await $1(vn,f?Tg:Kd);const R=new Vn;await Av(vn,R),_("Signed in successfully!"),t&&t()}catch(R){T(R.message||"Google sign-in failed")}finally{x(!1)}},I=async R=>{R.preventDefault(),T(null),_(null),x(!0);try{if(await $1(vn,f?Tg:Kd),e==="signIn")await A5(vn,s,a),_("Signed in successfully!"),t&&t();else{const O=await C5(vn,s,a);r.trim()&&await pC(O.user,{displayName:r}),await kR(ah(Hg,"users",O.user.uid),{email:s,displayName:r,phoneNumber:N}),_("Account created and signed in!"),t&&t()}}catch(O){T(O.message||"Authentication failed")}finally{x(!1)}},A=async()=>{T(null),_(null),x(!0);try{await S5(vn,s),k(!0),_("Password reset email sent!")}catch(R){T(R.message||"Failed to send reset email")}finally{x(!1)}};return m.jsxs("div",{className:"w-full max-w-md bg-card rounded-2xl shadow-xl border border-border/40 p-8 flex flex-col gap-6",children:[m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center mb-2",children:m.jsx(Tl,{className:"w-7 h-7 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:e==="signIn"?"Sign In to FinSight":"Create your FinSight Account"}),m.jsx("p",{className:"text-muted-foreground text-center text-sm",children:e==="signIn"?"Welcome back! Sign in to access your dashboard.":"Register to unlock personalized AI investment advice."})]}),e==="signUp"&&m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-neutral-200 mb-1",children:"Name"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 pointer-events-none",children:m.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[m.jsx("circle",{cx:"12",cy:"8",r:"4"}),m.jsx("path",{d:"M2 20c0-4 8-6 10-6s10 2 10 6"})]})}),m.jsx("input",{id:"name",type:"text",autoComplete:"name",required:!0,disabled:y,className:"w-full pl-10 pr-4 py-2 rounded-lg bg-neutral-900 border border-neutral-700 text-neutral-100 placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition",placeholder:"Your name",value:r,onChange:R=>i(R.target.value)})]})]}),m.jsxs("form",{className:"flex flex-col gap-4",onSubmit:I,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-200 mb-1",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 pointer-events-none",children:m.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[m.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),m.jsx("polyline",{points:"3 7 12 13 21 7"})]})}),m.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,disabled:y,className:"w-full pl-10 pr-4 py-2 rounded-lg bg-neutral-900 border border-neutral-700 text-neutral-100 placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition",placeholder:"you@email.com",value:s,onChange:R=>o(R.target.value)})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-200 mb-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 pointer-events-none",children:m.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[m.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),m.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),m.jsx("input",{id:"password",type:u?"text":"password",autoComplete:e==="signUp"?"new-password":"current-password",required:!0,disabled:y,className:"w-full pl-10 pr-10 py-2 rounded-lg bg-neutral-900 border border-neutral-700 text-neutral-100 placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition",placeholder:"Password",value:a,onChange:R=>l(R.target.value)}),m.jsx("button",{type:"button",tabIndex:-1,onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-neutral-300 transition",children:u?m.jsx(CD,{size:18}):m.jsx(AD,{size:18})})]})]}),e==="signIn"&&m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsxs("label",{className:"flex items-center gap-2 text-neutral-400 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:f,onChange:R=>h(R.target.checked),className:"h-4 w-4 rounded border-neutral-600 bg-neutral-800 text-primary focus:ring-primary/50"}),"Remember me"]}),m.jsx("button",{type:"button",onClick:A,disabled:y||!s,className:"font-medium text-primary/80 hover:text-primary disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Forgot password?"})]}),w&&m.jsxs("div",{className:"flex items-center gap-2 text-red-400 bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-sm",children:[m.jsx(ID,{size:18}),m.jsx("span",{children:w})]}),E&&m.jsxs("div",{className:"flex items-center gap-2 text-green-400 bg-green-900/20 border border-green-500/30 rounded-lg p-3 text-sm",children:[m.jsx(bD,{size:18}),m.jsx("span",{children:E})]}),m.jsx(Xe,{type:"submit",disabled:y,className:"w-full font-bold py-3 text-base",children:y?"Processing...":e==="signIn"?"Sign In":"Create Account"})]}),m.jsxs("div",{className:"relative my-2",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t border-neutral-700"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-card px-2 text-neutral-500",children:"Or continue with"})})]}),m.jsxs(Xe,{variant:"outline",onClick:S,disabled:y,className:"w-full flex items-center justify-center gap-2",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[m.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),m.jsx("path",{fill:"#FF3D00",d:"m6.306 14.691 6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"}),m.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.222 0-9.618-3.67-11.283-8.591l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),m.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303a12.04 12.04 0 0 1-4.087 7.581l6.19 5.238C42.012 35.245 44 30.028 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),m.jsxs("p",{className:"text-center text-sm text-neutral-400",children:[e==="signIn"?"Don't have an account?":"Already have an account?"," ",m.jsx("button",{onClick:()=>n(e==="signIn"?"signUp":"signIn"),className:"font-medium text-primary/80 hover:text-primary transition",children:e==="signIn"?"Sign Up":"Sign In"})]})]})};var Nw="Collapsible",[Kq,dk]=Fs(Nw),[Qq,Ow]=Kq(Nw),hk=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,u]=ha({prop:r,defaultProp:i,onChange:o});return m.jsx(Qq,{scope:n,disabled:s,contentId:Kl(),open:l,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:m.jsx(Ee.div,{"data-state":Mw(l),"data-disabled":s?"":void 0,...a,ref:e})})});hk.displayName=Nw;var fk="CollapsibleTrigger",pk=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Ow(fk,n);return m.jsx(Ee.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Mw(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ie(t.onClick,i.onOpenToggle)})});pk.displayName=fk;var Dw="CollapsibleContent",mk=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ow(Dw,t.__scopeCollapsible);return m.jsx(ns,{present:n||i.open,children:({present:s})=>m.jsx(Yq,{...r,ref:e,present:s})})});mk.displayName=Dw;var Yq=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=Ow(Dw,n),[a,l]=v.useState(r),u=v.useRef(null),d=at(e,u),f=v.useRef(0),h=f.current,y=v.useRef(0),x=y.current,w=o.open||a,T=v.useRef(w),E=v.useRef();return v.useEffect(()=>{const _=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(_)},[]),Wn(()=>{const _=u.current;if(_){E.current=E.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const b=_.getBoundingClientRect();f.current=b.height,y.current=b.width,T.current||(_.style.transitionDuration=E.current.transitionDuration,_.style.animationName=E.current.animationName),l(r)}},[o.open,r]),m.jsx(Ee.div,{"data-state":Mw(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:w&&i})});function Mw(t){return t?"open":"closed"}var Xq=hk,Jq=pk,Zq=mk,Xr="Accordion",eG=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Lw,tG,nG]=Ph(Xr),[Of,kG]=Fs(Xr,[nG,dk]),jw=dk(),gk=B.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return m.jsx(Lw.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?m.jsx(oG,{...s,ref:e}):m.jsx(sG,{...i,ref:e})})});gk.displayName=Xr;var[yk,rG]=Of(Xr),[vk,iG]=Of(Xr,{collapsible:!1}),sG=B.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=ha({prop:n,defaultProp:r,onChange:i});return m.jsx(yk,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:B.useCallback(()=>s&&l(""),[s,l]),children:m.jsx(vk,{scope:t.__scopeAccordion,collapsible:s,children:m.jsx(wk,{...o,ref:e})})})}),oG=B.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=ha({prop:n,defaultProp:r,onChange:i}),l=B.useCallback(d=>a((f=[])=>[...f,d]),[a]),u=B.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return m.jsx(yk,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:m.jsx(vk,{scope:t.__scopeAccordion,collapsible:!0,children:m.jsx(wk,{...s,ref:e})})})}),[aG,Df]=Of(Xr),wk=B.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=B.useRef(null),l=at(a,e),u=tG(n),f=Tw(i)==="ltr",h=ie(t.onKeyDown,y=>{var I;if(!eG.includes(y.key))return;const x=y.target,w=u().filter(A=>{var R;return!((R=A.ref.current)!=null&&R.disabled)}),T=w.findIndex(A=>A.ref.current===x),E=w.length;if(T===-1)return;y.preventDefault();let _=T;const b=0,k=E-1,N=()=>{_=T+1,_>k&&(_=b)},M=()=>{_=T-1,_<b&&(_=k)};switch(y.key){case"Home":_=b;break;case"End":_=k;break;case"ArrowRight":s==="horizontal"&&(f?N():M());break;case"ArrowDown":s==="vertical"&&N();break;case"ArrowLeft":s==="horizontal"&&(f?M():N());break;case"ArrowUp":s==="vertical"&&M();break}const S=_%E;(I=w[S].ref.current)==null||I.focus()});return m.jsx(aG,{scope:n,disabled:r,direction:i,orientation:s,children:m.jsx(Lw.Slot,{scope:n,children:m.jsx(Ee.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:h})})})}),dh="AccordionItem",[lG,Vw]=Of(dh),_k=B.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=Df(dh,n),o=rG(dh,n),a=jw(n),l=Kl(),u=r&&o.value.includes(r)||!1,d=s.disabled||t.disabled;return m.jsx(lG,{scope:n,open:u,disabled:d,triggerId:l,children:m.jsx(Xq,{"data-orientation":s.orientation,"data-state":Sk(u),...a,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});_k.displayName=dh;var Ek="AccordionHeader",xk=B.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Df(Xr,n),s=Vw(Ek,n);return m.jsx(Ee.h3,{"data-orientation":i.orientation,"data-state":Sk(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});xk.displayName=Ek;var Jg="AccordionTrigger",Tk=B.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Df(Xr,n),s=Vw(Jg,n),o=iG(Jg,n),a=jw(n);return m.jsx(Lw.ItemSlot,{scope:n,children:m.jsx(Jq,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});Tk.displayName=Jg;var Ik="AccordionContent",bk=B.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Df(Xr,n),s=Vw(Ik,n),o=jw(n);return m.jsx(Zq,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});bk.displayName=Ik;function Sk(t){return t?"open":"closed"}var cG=gk,uG=_k,dG=xk,Ck=Tk,Ak=bk;const hG=cG,Zg=v.forwardRef(({className:t,...e},n)=>m.jsx(uG,{ref:n,className:he("border-b",t),...e}));Zg.displayName="AccordionItem";const ey=v.forwardRef(({className:t,children:e,...n},r)=>m.jsx(dG,{className:"flex",children:m.jsxs(Ck,{ref:r,className:he("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,m.jsx(xD,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ey.displayName=Ck.displayName;const ty=v.forwardRef(({className:t,children:e,...n},r)=>m.jsx(Ak,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:m.jsx("div",{className:he("pb-4 pt-0",t),children:e})}));ty.displayName=Ak.displayName;const fG=()=>{const t=SC(),{toast:e}=JI(),[n,r]=v.useState(t.currentUser),[i,s]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState("");v.useEffect(()=>{const w=Qh(t,async T=>{if(r(T),T){s(T.displayName||"");const E=ah(Hg,"users",T.uid),_=await yz(E);_.exists()&&a(_.data().phoneNumber||"")}});return()=>w()},[t]);const h=async()=>{if(n)try{await pC(n,{displayName:i});const w=ah(Hg,"users",n.uid);await kR(w,{phoneNumber:o},{merge:!0}),e({title:"Success",description:"Profile updated successfully."})}catch(w){e({title:"Error",description:w.message,variant:"destructive"})}},y=async()=>{if(n&&n.email&&l&&d){const w=zs.credential(n.email,l);try{await b5(n,w),await P5(n,d),e({title:"Success",description:"Password changed successfully."}),u(""),f("")}catch{e({title:"Error",description:"Failed to change password. Please check your current password.",variant:"destructive"})}}},x=()=>{mC(t).then(()=>{e({title:"Logged Out",description:"You have been successfully logged out."})})};return n?m.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-background",children:m.jsxs("div",{className:"w-full max-w-xl flex flex-col gap-8 p-4",children:[m.jsxs(hG,{type:"single",collapsible:!0,className:"flex flex-col gap-8 w-full",children:[m.jsx(Zg,{value:"profile",className:"!border-none",children:m.jsxs(yn,{className:"p-0 rounded-2xl !border-none !shadow-none",children:[m.jsx(ey,{className:"px-8 py-6 text-xl font-bold rounded-2xl !border-none !shadow-none !no-underline hover:!no-underline focus:!no-underline",children:"Profile Settings"}),m.jsx(ty,{children:m.jsxs(mg,{className:"space-y-6 pt-2 px-8 pb-8",children:[m.jsx(pg,{className:"mb-4",children:"Update your name and phone number."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium",children:"Name"}),m.jsx(Eo,{id:"displayName",value:i,onChange:w=>s(w.target.value),className:"h-11 text-base"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium",children:"Phone Number"}),m.jsx(Eo,{id:"phoneNumber",type:"tel",value:o,onChange:w=>a(w.target.value),className:"h-11 text-base"})]}),m.jsx(Xe,{onClick:h,className:"w-full h-11 text-base mt-4",children:"Save Changes"})]})})]})}),m.jsx(Zg,{value:"password",className:"!border-none",children:m.jsxs(yn,{className:"p-0 rounded-2xl !border-none !shadow-none",children:[m.jsx(ey,{className:"px-8 py-6 text-xl font-bold rounded-2xl !border-none !shadow-none !no-underline hover:!no-underline focus:!no-underline",children:"Change Password"}),m.jsx(ty,{children:m.jsxs(mg,{className:"space-y-6 pt-2 px-8 pb-8",children:[m.jsx(pg,{className:"mb-4",children:"Update your password here."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium",children:"Current Password"}),m.jsx(Eo,{id:"currentPassword",type:"password",value:l,onChange:w=>u(w.target.value),className:"h-11 text-base"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium",children:"New Password"}),m.jsx(Eo,{id:"newPassword",type:"password",value:d,onChange:w=>f(w.target.value),className:"h-11 text-base"})]}),m.jsx(Xe,{onClick:y,className:"w-full h-11 text-base mt-4",children:"Change Password"})]})})]})})]}),m.jsx("div",{className:"flex justify-center pt-6",children:m.jsx(Xe,{variant:"destructive",onClick:x,className:"w-40 h-11 text-base",children:"Logout"})})]})}):m.jsx("div",{children:"Please sign in to view settings."})},pG=({onTabChange:t})=>m.jsx("footer",{className:"w-full bg-card/80 border-t border-border/40 py-8 px-4 pb-24",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col items-center gap-6 md:flex-row md:items-start md:justify-between",children:[m.jsxs("div",{className:"flex flex-col items-center md:items-start gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("img",{src:"/FinSightAI.png",alt:"FinSight Logo",className:"w-8 h-8 rounded"}),m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"FinSight"})]}),m.jsx("p",{className:"text-sm text-muted-foreground max-w-xs text-center md:text-left",children:"FinSight is your AI-powered investment and tax optimization advisor. Secure, smart, and always available to help you grow your wealth."}),m.jsxs("span",{className:"text-xs text-muted-foreground mt-2",children:[" ",new Date().getFullYear()," FinSight. All rights reserved."]})]}),m.jsxs("div",{className:"flex flex-col items-center md:items-end gap-2 w-full md:w-auto",children:[m.jsxs("nav",{className:"flex flex-wrap justify-center gap-4 mb-2 w-full md:w-auto",children:[m.jsx("button",{onClick:()=>t("home"),className:"text-sm text-muted-foreground hover:text-primary transition bg-transparent border-none p-0 m-0",children:"Home"}),m.jsx("button",{onClick:()=>t("dashboard"),className:"text-sm text-muted-foreground hover:text-primary transition bg-transparent border-none p-0 m-0",children:"Dashboard"}),m.jsx("button",{onClick:()=>t("chat"),className:"text-sm text-muted-foreground hover:text-primary transition bg-transparent border-none p-0 m-0",children:"AI Chat"}),m.jsx("button",{onClick:()=>t("notifications"),className:"text-sm text-muted-foreground hover:text-primary transition bg-transparent border-none p-0 m-0",children:"Alerts"}),m.jsx("button",{onClick:()=>t("settings"),className:"text-sm text-muted-foreground hover:text-primary transition bg-transparent border-none p-0 m-0",children:"Settings"}),m.jsx("button",{onClick:()=>t("about"),className:"text-sm text-muted-foreground hover:text-primary transition bg-transparent border-none p-0 m-0",children:"About Us"})]}),m.jsx("span",{className:"text-xs text-muted-foreground",children:"Made by the FinSight Team"})]})]})}),mG=()=>{const[t,e]=v.useState("home"),[n,r]=v.useState(!1),[i,s]=v.useState(!1),[o,a]=v.useState("home");v.useEffect(()=>{const d=Qh(vn,f=>{s(!!f),f&&n&&(r(!1),e(o))});return()=>d()},[n,o]);const l=d=>{!i&&["dashboard","notifications","settings","about"].includes(d)?(a(t),r(!0)):e(d)},u=()=>{if(!i&&["dashboard","notifications","settings","about"].includes(t))return m.jsx(Pp,{});switch(t){case"home":return m.jsx(Pp,{});case"dashboard":return m.jsx(Vj,{});case"chat":return m.jsx("div",{className:"min-h-screen bg-background p-6",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx(pH,{})})});case"notifications":return m.jsx("div",{className:"min-h-screen bg-background p-6",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Smart Alerts"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-4 bg-gradient-card border border-border/50 rounded-lg",children:[m.jsx("h3",{className:"font-semibold text-yellow-500 mb-2",children:" Tax Deadline Alert"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"LTCG harvesting opportunity for RELIANCE expires in 15 days. Potential savings: 25K"})]}),m.jsxs("div",{className:"p-4 bg-gradient-card border border-border/50 rounded-lg",children:[m.jsx("h3",{className:"font-semibold text-green-500 mb-2",children:" New Opportunity"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Market dip detected. Consider tax-loss harvesting for TATASTEEL to save 18K"})]})]})]})});case"settings":return m.jsx("div",{className:"min-h-screen bg-background p-6",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx(fG,{})})});case"about":return m.jsx("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:m.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[m.jsx("h1",{className:"text-3xl font-bold mb-4",children:"About Us"}),m.jsx("p",{className:"text-lg text-muted-foreground mb-2",children:"FinSight is dedicated to providing AI-powered investment and tax optimization solutions for everyone. Our mission is to empower users with smart, secure, and personalized financial advice."}),m.jsx("p",{className:"text-md text-muted-foreground",children:"Built by a passionate team of engineers and finance experts, FinSight leverages cutting-edge technology to help you grow and protect your wealth."})]})});default:return m.jsx(Pp,{})}};return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx(qq,{activeTab:t,onTabChange:l,onShowAuth:()=>r(!0)}),m.jsx("div",{className:`transition-filter duration-300 ${n?"blur-sm":""}`,children:u()}),n&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex items-center justify-center backdrop-blur-sm",onClick:()=>r(!1),children:m.jsx("div",{onClick:d=>d.stopPropagation(),children:m.jsx(Gq,{onClose:()=>r(!1)})})}),m.jsx("div",{className:"pb-20 md:pb-0"}),m.jsx(pG,{onTabChange:l})]})},gG=()=>{const t=CS();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},yG=new H4,vG=()=>m.jsx(q4,{client:yG,children:m.jsxs(E4,{children:[m.jsx(vM,{}),m.jsx(GM,{}),m.jsx(wH,{children:m.jsx(Pj,{children:m.jsxs(Cj,{children:[m.jsx(hg,{path:"/",element:m.jsx(mG,{})}),m.jsx(hg,{path:"*",element:m.jsx(gG,{})})]})})})]})});XI(document.getElementById("root")).render(m.jsx(vG,{}));
